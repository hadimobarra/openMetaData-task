"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[299],{42905:function(e,t,n){var a=n(8081),l=n.n(a),r=n(23645),s=n.n(r)()(l());s.push([e.id,'/*\n *  Copyright 2022 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.entity-button {\n  color: #37352f;\n}\n.entity-button:hover {\n  color: #089aad;\n  text-decoration: underline;\n}\n',""]),t.Z=s},32555:function(e,t,n){n.d(t,{Z:function(){return q}});var a=n(70655),l=n(91894),r=n(67674),s=n(67294),i=n(97882),o=n(52046),c=n(62761),u=n(20615),d=n(14469),m=n(51887),f=n(38464),w=n(22001),E=n(56383),p=n(46892),h=n(14109),v=n(56256),y=n(19586),g=n(71577),b=n(48132),x=n(19790),N=n(93379),C=n.n(N),T=n(7795),S=n.n(T),k=n(90569),Z=n.n(k),D=n(3565),R=n.n(D),I=n(19216),L=n.n(I),P=n(44589),F=n.n(P),A=n(42905),_={};_.styleTagTransform=F(),_.setAttributes=R(),_.insert=Z().bind(null,"head"),_.domAPI=S(),_.insertStyleElement=L(),C()(A.Z,_),A.Z&&A.Z.locals&&A.Z.locals,v.Z.Text;var M=function(e){var t=e.entityList,n=void 0===t?[]:t,a=e.headerText,r=e.headerTextLabel,o=e.noDataPlaceholder,c=e.testIDText,u=e.isLoadingOwnedData;return s.createElement(l.Z,{extra:a,style:p.K,title:r},u?s.createElement(y.Z,{active:!0}):n.length?n.map((function(e,t){return s.createElement("div",{className:"flex items-center justify-between","data-testid":c+"-"+(0,b.C_)(e),key:t},s.createElement("div",{className:"flex items-center"},(0,x.wc)(e.type||""),s.createElement(i.Link,{className:"font-medium",to:(0,x.Ch)(e.type||"",e.fullyQualifiedName)},s.createElement(g.Z,{className:"entity-button",title:(0,b.C_)(e),type:"text"},s.createElement(v.Z.Text,{className:"w-48 text-left",ellipsis:{tooltip:!0}},(0,b.C_)(e))))))})):o)},H=n(53867),O=n(96486),G=n(96162),J=n(48217),U=n(96840),K=function(e){var t=e.entityCounts,n=(0,a.CR)((0,s.useState)({}),2),r=n[0],o=n[1];return(0,s.useEffect)((function(){o({tables:{icon:f.PJ.TABLE_GREY,data:"Tables",count:t.tableCount,link:(0,c.yR)(void 0,"tables"),dataTestId:"tables"},topics:{icon:f.PJ.TOPIC_GREY,data:"Topics",count:t.topicCount,link:(0,c.yR)(void 0,"topics"),dataTestId:"topics"},dashboards:{icon:f.PJ.DASHBOARD_GREY,data:"Dashboards",count:t.dashboardCount,link:(0,c.yR)(void 0,"dashboards"),dataTestId:"dashboards"},pipelines:{icon:f.PJ.PIPELINE_GREY,data:"Pipelines",count:t.pipelineCount,link:(0,c.yR)(void 0,"pipelines"),dataTestId:"pipelines"},mlModal:{icon:f.PJ.MLMODAL,data:"ML Models",count:t.mlmodelCount,link:(0,c.yR)(void 0,"mlmodels"),dataTestId:"mlmodels"},testSuite:{icon:f.PJ.TEST_SUITE,data:"Test Suites",count:t.testSuiteCount,link:c.Z6.TEST_SUITES,dataTestId:"test-suite"},service:{icon:f.PJ.SERVICE,data:"Services",count:t.servicesCount,link:(0,U.si)(G.CZ.SERVICES,G.lx.DATABASES),dataTestId:"service"},user:{icon:f.PJ.USERS,data:"Users",count:t.userCount,link:(0,U.si)(G.CZ.MEMBERS,G.lx.USERS),dataTestId:"user",adminOnly:!0},teams:{icon:f.PJ.TEAMS_GREY,data:"Teams",count:t.teamCount,link:(0,U.KH)(J.C.Organization),dataTestId:"terms"}})}),[]),s.createElement("div",{className:"ant-entity-card"},s.createElement(l.Z,{"data-testid":"data-summary-container",id:"assetStatsCount",style:p.K},Object.values(r).map((function(e,t){return s.createElement("div",{className:"tw-flex tw-items-center tw-justify-between","data-testid":e.dataTestId+"-summary",key:t},s.createElement("div",{className:"tw-flex"},s.createElement(f.ZP,{alt:"icon",className:"tw-h-4 tw-w-4 tw-self-center",icon:e.icon}),e.link?s.createElement(i.Link,{className:"tw-font-medium hover:tw-text-primary-hover hover:tw-underline","data-testid":e.dataTestId,to:e.link},s.createElement(g.Z,{className:"tw-text-grey-body hover:tw-text-primary-hover hover:tw-underline",type:"text"},e.data)):s.createElement("p",{className:"tw-text-grey-body tw-pl-2"},e.data)),!(0,O.isNil)(e.count)&&(0,b.yh)(e.count,"",!1))}))))},Y=n(27924),j=function(){var e=(0,b.Kr)(),t=(0,a.CR)((0,s.useState)([]),2),n=t[0],l=t[1],r=(0,a.CR)((0,s.useState)(!1),2),i=r[0],o=r[1];return(0,s.useEffect)((function(){!function(){if(e.length){o(!0);var t=e.map((function(e){return{serviceType:e.serviceType,name:e.displayName||(0,b.ci)(e.entityType,e.fqn),fullyQualifiedName:e.fqn,type:e.entityType}})).filter((function(e){return e.name}));l(t),o(!1)}}()}),[]),s.createElement(s.Fragment,null,i?s.createElement(H.Z,null):s.createElement(M,{entityList:n,headerTextLabel:"Recent Views",noDataPlaceholder:s.createElement(s.Fragment,null,"No recently viewed data."),testIDText:"Recently Viewed"}))},V=n(95597),B=function(){var e=(0,a.CR)((0,s.useState)([]),2),t=e[0],n=e[1];return(0,s.useEffect)((function(){n((0,b.vy)())}),[]),s.createElement(s.Fragment,null,s.createElement(l.Z,{style:p.K,title:"Recent Search Terms"},t.length?t.map((function(e,t){return s.createElement("div",{className:"tw-flex tw-items-center tw-justify-between tw-group","data-testid":"Recently-Search-"+e.term,key:t},s.createElement("div",{className:"tw-flex"},s.createElement(f.ZP,{alt:"search",className:"tw-h-4 tw-w-4 tw-self-center",icon:f.PJ.SEARCHV1}),s.createElement("div",{className:"tw-flex tw-justify-between"},s.createElement(i.Link,{className:"tw-font-medium",to:(0,c.yR)(e.term)},s.createElement(g.Z,{className:"tw-text-grey-body hover:tw-text-primary-hover hover:tw-underline","data-testid":"search-term-"+e.term,type:"text"},e.term.length>20?s.createElement(V.Z,{html:s.createElement("div",{className:"tw-flex tw-flex-nowrap"},e.term),position:"top",size:"regular",trigger:"mouseenter"},s.createElement("span",null,e.term.slice(0,20),"...")):e.term)),s.createElement(g.Z,{className:"tw-opacity-0 group-hover:tw-opacity-100 tw-ml-2",type:"text",onClick:function(){return t=e.term,(0,b.$9)(t),void n((0,b.vy)());var t}},s.createElement(f.ZP,{alt:"delete",icon:"icon-times-circle",width:"12"})))))})):s.createElement(s.Fragment,null,"No searched terms.")))},q=(0,r.Pi)((function(e){var t=e.activityFeeds,n=e.onRefreshFeeds,r=e.error,v=e.entityCounts,y=e.ownedData,g=e.pendingTaskCount,b=e.followedData,x=e.feedData,N=e.ownedDataCount,C=e.followedDataCount,T=e.isFeedLoading,S=e.postFeedHandler,k=e.deletePostHandler,Z=e.fetchFeedHandler,D=e.paging,R=e.updateThreadHandler,I=e.isLoadingOwnedData,L=(0,s.useRef)(!1),P=(0,a.CR)((0,m.M)(u.a),2),F=P[0],A=P[1],_=(0,a.CR)((0,s.useState)(d.D.OWNER),2),O=_[0],G=_[1],J=(0,a.CR)((0,s.useState)(),2),U=J[0],V=J[1],q=(0,s.useCallback)((function(){var e=o.Z.getCurrentUserDetails();return s.createElement(s.Fragment,null,g?s.createElement("div",{className:"tw-mb-5","data-testid":"my-tasks-container "},s.createElement(l.Z,{bodyStyle:{padding:0},extra:s.createElement(s.Fragment,null,s.createElement(i.Link,{"data-testid":"my-data",to:(0,c.ZG)((null==e?void 0:e.name)||"","tasks?feedFilter=ASSIGNED_TO")},s.createElement("span",{className:"tw-text-info tw-font-normal tw-text-xs"},"View All"))),style:p.K,title:s.createElement("div",{className:"tw-flex tw-item-center "},s.createElement(f.ZP,{alt:"Pending tasks",className:"tw-mr-2.5",icon:f.PJ.TASK,title:"Tasks",width:"16px"}),g," Pending task",g>1&&"s")})):null,s.createElement("div",{"data-testid":"my-data-container"},s.createElement(M,{entityList:y,headerText:s.createElement(s.Fragment,null,y.length?s.createElement(i.Link,{"data-testid":"my-data",to:(0,c.ZG)((null==e?void 0:e.name)||"","mydata")},s.createElement("span",{className:"tw-text-info tw-font-normal tw-text-xs"},"View All"," ",s.createElement("span",{"data-testid":"my-data-total-count"},"(",N,")"))):null),headerTextLabel:"My Data",isLoadingOwnedData:I,noDataPlaceholder:s.createElement(s.Fragment,null,"You have not owned anything yet."),testIDText:"My data"})),s.createElement("div",{className:"tw-mt-5"}),s.createElement("div",{"data-testid":"following-data-container"},s.createElement(M,{entityList:b,headerText:s.createElement(s.Fragment,null,b.length?s.createElement(i.Link,{"data-testid":"following-data",to:(0,c.ZG)((null==e?void 0:e.name)||"","following")},s.createElement("span",{className:"tw-text-info tw-font-normal tw-text-xs"},"View All"," ",s.createElement("span",{"data-testid":"following-data-total-count"},"(",C,")"))):null),headerTextLabel:"Following",isLoadingOwnedData:I,noDataPlaceholder:s.createElement(s.Fragment,null,"You have not followed anything yet."),testIDText:"Following data"})),s.createElement("div",{className:"tw-mt-5"}))}),[y,b,g,I]),W=(0,s.useCallback)((function(e,t){e&&(null==t?void 0:t.after)&&!T&&L.current&&Z(O,t.after,U)}),[T,U,Z,L.current]);(0,s.useEffect)((function(){W(Boolean(A),D)}),[A,D]),(0,s.useEffect)((function(){L.current=!0}),[]);var Q=(0,s.useCallback)((function(e,t){G(e),V(t),Z(e,void 0,t)}),[Z]),z=t&&t.length,X=(0,s.useMemo)((function(){return O===d.D.OWNER&&!U}),[O,U]);return s.createElement(h.Z,{leftPanel:s.createElement(s.Fragment,null,s.createElement(K,{entityCounts:v}),s.createElement("div",{className:"tw-mb-5"}),s.createElement(j,null),s.createElement("div",{className:"tw-mb-5"}),s.createElement(B,null)),rightPanel:q()},r?s.createElement(E.Z,{errorMessage:r,type:"error"}):s.createElement(s.Fragment,null,(null==x?void 0:x.length)>0||!X||z?s.createElement(s.Fragment,null,s.createElement(w.Z,{stickyFilter:!0,withSidePanel:!0,deletePostHandler:k,feedList:x,postFeedHandler:S,refreshFeedCount:z,updateThreadHandler:R,onFeedFiltersUpdate:Q,onRefreshFeeds:n}),X&&(null==x?void 0:x.length)<=0?s.createElement(Y.Z,null):null):!T&&s.createElement(Y.Z,null),T?s.createElement(H.Z,null):null,s.createElement("div",{"data-testid":"observer-element",id:"observer-element",ref:F}),s.createElement("div",{className:"tw-p-4"})))}))},56383:function(e,t,n){var a=n(56256),l=n(96486),r=n(67674),s=n(67294),i=n(52046),o=n(96566),c=n(92693),u=n(22132),d=[{step:1,title:"Ingest Sample Data",description:"Run sample data to ingest sample data assets into your MCI-DGP.",link:"/about-us"},{step:2,title:"Start Elasticsearch Docker",description:"Ensure that the Elasticsearch docker is up and running.",link:"/about-us"},{step:3,title:"Install Service Connectors",description:"There are a lot of connectors available here to index data from your services. Please checkout our connectors.",link:"/about-us"},{step:4,title:"More Help",description:"If you are still running into issues, please reach out to us on slack.",link:"https://slack.open-metadata.org"}];t.Z=(0,r.Pi)((function(e){var t=e.type,n=e.errorMessage,r=e.query,m=void 0===r?"":r,f=(0,o.Eu)().isAuthDisabled;return s.createElement("div",{className:"tw-mt-10 tw-text-base tw-font-medium"},"noData"!==t&&s.createElement("p",{className:"tw-text-center tw-text-lg tw-font-bold tw-mb-1 tw-text-primary"},"Hi, "+function(){var e;return f?(null===(e=i.Z.users)||void 0===e?void 0:e.length)>0?i.Z.users[0].displayName||i.Z.users[0].name:"User":i.Z.userDetails.displayName||i.Z.userDetails.name}()+"!"),"noData"===t&&s.createElement("div",{className:"tw-text-center","data-testid":"no-search-results"},s.createElement("div",{className:"flex-center flex-col tw-mt-32 ","data-testid":"error"}," ",s.createElement("img",{"data-testid":"no-data-image",src:u.hG,width:"100"})),s.createElement("div",{className:"tw-flex tw-flex-col tw-items-center tw-mt-6 tw-text-base tw-font-medium"},m?s.createElement(s.Fragment,null,"No matching data assets found",m?s.createElement(s.Fragment,null," ","for"," ",s.createElement("span",{className:"tw-text-primary tw-font-medium"},m)):null):s.createElement(s.Fragment,null," ",s.createElement(a.Z.Text,{className:"tw-text-sm"},"No Data Available"),s.createElement(a.Z.Text,{className:"tw-text-sm"},"Start by adding a service connection to ingest data into MCI-DGP."),s.createElement(a.Z.Text,{className:"tw-text-sm"},"Refer to our"," ",s.createElement(a.Z.Link,{href:c.lS,target:"_blank"},"docs")," ","for more information."),s.createElement("span",null)))),"error"===t&&function(){var e,t=null===(e=null==n?void 0:n.split("[")[3])||void 0===e?void 0:e.split("]")[0],a=n&&t?"find "+t+" in":"access";return s.createElement("div",{className:"tw-mb-5","data-testid":"es-error"},s.createElement("div",{className:"tw-mb-3 tw-text-center"},s.createElement("p",null,s.createElement("span",null,"Welcome to MCI-DGP. "),s.createElement("span",{"data-testid":"error-text"},"We are unable to "+a+" Elasticsearch for entity indexes.")),s.createElement("p",null,"Please follow the instructions here to set up Metadata ingestion and index them into Elasticsearch.")),s.createElement("div",{className:"tw-grid tw-grid-cols-4 tw-gap-4 tw-mt-5"},d.map((function(e){return s.createElement("div",{className:"tw-card tw-flex tw-flex-col tw-justify-between tw-p-5",key:(0,l.uniqueId)()},s.createElement("div",null,s.createElement("div",{className:"tw-flex tw-mb-2"},s.createElement("div",{className:"tw-rounded-full tw-flex tw-justify-center tw-items-center tw-h-10 tw-w-10 tw-border-2 tw-border-primary tw-text-lg tw-font-bold tw-text-primary"},e.step)),s.createElement("h6",{className:"tw-text-base tw-text-grey-body tw-font-medium","data-testid":"service-name"},e.title),s.createElement("p",{className:"tw-text-grey-body tw-pb-1 tw-text-sm tw-mb-5"},e.description)),s.createElement("p",null,s.createElement("a",{href:e.link,rel:"noopener noreferrer",target:"_blank"},"Click here >>")))}))))}())}))},27924:function(e,t,n){var a=n(96486),l=n(67294),r=[{step:1,title:"Explore Data",description:"Look at the popular data assets in your organization."},{step:2,title:"Claim Ownership",description:"Data works well when it is owned. Take a look at the data assets that you own and claim ownership."},{step:3,title:"Stay Up-to-date",description:"Follow the datasets that you frequently use to stay informed about it."}];t.Z=function(){return l.createElement("div",{className:"tw-mt-10 tw-text-base tw-font-medium","data-testid":"onboarding"},l.createElement("div",{className:"tw-text-center tw-text-xl tw-font-semibold tw-mb-1"},"Welcome to MCI-DGP!"),l.createElement("div",{className:"tw-mb-5"},l.createElement("div",{className:"tw-mb-3 tw-text-center"},"A central place to discover and collaborate on all your data"),l.createElement("div",{className:"tw-grid tw-grid-cols-3 tw-gap-3 tw-mt-5"},r.map((function(e){return l.createElement("div",{className:"tw-card tw-flex tw-flex-col tw-justify-between tw-p-5",key:(0,a.uniqueId)()},l.createElement("div",null,l.createElement("div",{className:"tw-flex tw-mb-2"},l.createElement("div",{className:"tw-rounded-full tw-flex tw-justify-center tw-items-center tw-h-10 tw-w-10 tw-border-2 tw-border-primary tw-text-lg tw-font-bold tw-text-primary"},e.step)),l.createElement("h6",{className:"tw-text-base tw-text-grey-body tw-font-medium","data-testid":"service-name"},e.title),l.createElement("p",{className:"tw-text-grey-body tw-pb-1 tw-text-sm tw-mb-5"},e.description)))})))))}},92693:function(e,t,n){n.d(t,{dF:function(){return a},cK:function(){return l},lS:function(){return r},tf:function(){return s},Kb:function(){return i},E6:function(){return o},y9:function(){return c},BM:function(){return u},ck:function(){return d},_F:function(){return m}});var a="/about-us",l="/about-us",r="/about-us",s="/about-us",i="/about-us",o="/about-us",c="/about-us",u="/about-us",d="/about-us",m="/about-us"},30299:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var a=n(70655),l=n(96486),r=n(67674),s=n(67294),i=n(59293),o=n(52046),c=n(13950),u=n(74313),d=n(33891),m=n(74380),f=n(38464),w=n(95597),E=function(){var e=(0,a.CR)((0,s.useState)(!0),2),t=e[0],n=e[1];return s.createElement("div",{className:"tw-fixed tw-bottom-8 tw-right-8"},s.createElement(w.Z,{delay:100,html:s.createElement(s.Fragment,null,s.createElement("a",{className:"link-text-grey tw-text-sm tw-font-medium",href:"https://github.com/open-metadata/OpenMetadata",rel:"noopener noreferrer",target:"_blank"},s.createElement("span",{className:"tw-mr-1"},"Star us on Github"),s.createElement(f.ZP,{alt:"external-link",className:"tw-align-middle",icon:f.PJ.EXTERNAL_LINK_GREY,width:"16px"}))),open:t,popperOptions:{modifiers:{addZIndex:{enabled:!0,order:810,fn:function(e){return(0,a.pi)((0,a.pi)({},e),{styles:(0,a.pi)((0,a.pi)({},e.styles),{zIndex:9990})})}}}},position:"left",theme:"light",trigger:"click"},s.createElement("button",{className:"tw-h-12 tw-w-12 tw-rounded-full tw-shadow-lg tw-cursor-pointer tw-bg-white",onClick:function(){var e;n((function(t){return(0,l.isNil)(e)?!t:e}))}},s.createElement(f.ZP,{alt:"gh-star","data-testid":"gh-star",icon:f.PJ.GITHUB_STAR,width:"30"}))))},p=n(53867),h=n(32555),v=n(95216),y=n(62761),g=n(64632),b=n(14469),x=n(31615),N=n(85087),C=n(6929),T=n(31982),S=n(50168),k=(0,r.Pi)((function(){var e=(0,i.TH)(),t=(0,N.a)(e.pathname).isAuthDisabled,n=(0,a.CR)((0,s.useState)(""),2),r=n[0],f=n[1],w=(0,a.CR)((0,s.useState)({}),2),k=w[0],Z=w[1],D=(0,a.CR)((0,s.useState)(),2),R=D[0],I=D[1],L=(0,a.CR)((0,s.useState)(),2),P=L[0],F=L[1],A=(0,a.CR)((0,s.useState)(0),2),_=A[0],M=A[1],H=(0,a.CR)((0,s.useState)(0),2),O=H[0],G=H[1],J=(0,a.CR)((0,s.useState)(0),2),U=J[0],K=J[1],Y=(0,a.CR)((0,s.useState)([]),2),j=Y[0],V=Y[1],B=(0,a.CR)((0,s.useState)(!1),2),q=B[0],W=B[1],Q=(0,a.CR)((0,s.useState)(!1),2),z=Q[0],X=Q[1],$=(0,a.CR)((0,s.useState)(!1),2),ee=$[0],te=$[1],ne=(0,a.CR)((0,s.useState)([]),2),ae=ne[0],le=ne[1],re=(0,a.CR)((0,s.useState)({}),2),se=re[0],ie=re[1],oe=(0,v.KM)().socket,ce=(0,s.useMemo)((function(){return o.Z.getCurrentUserDetails()}),[o.Z.userDetails,o.Z.nonSecureUserDetails]),ue=function(e,t,n){W(!0);var l=null!=e?e:b.D.ALL,r=l===b.D.ALL||null==ce?void 0:ce.id;(0,c._A)(r,l,t,n).then((function(e){var t=e.data,n=e.paging;ie(n),V((function(e){return(0,a.ev)((0,a.ev)([],(0,a.CR)(e)),(0,a.CR)(t))}))})).catch((function(e){(0,S.Eo)(e,C.Z["api-error-messages"]["fetch-activity-feed-error"])})).finally((function(){W(!1)}))},de=(0,s.useCallback)((function(e,t,n){!t&&V([]),ue(e,t,n)}),[ue,V]),me=(0,s.useCallback)((function(){ce&&ce.id&&(0,c._A)(ce.id,b.D.ASSIGNED_TO,void 0,x.Th.Task).then((function(e){e.data&&K(e.paging.total)}))}),[ce]);return(0,s.useEffect)((function(){(0,u.F0)().then((function(e){if((0,l.isUndefined)(e.sandboxModeEnabled))throw"";te(Boolean(e.sandboxModeEnabled))})).catch((function(e){(0,S.Eo)(e,C.Z["api-error-messages"]["unexpected-server-response"]),te(!1)})),f(""),(0,u.tP)().then((function(e){Z(e)})).catch((function(e){(0,S.Eo)(e,C.Z["api-error-messages"]["fetch-entity-count-error"]),Z({tableCount:0,topicCount:0,dashboardCount:0,pipelineCount:0,mlmodelCount:0,servicesCount:0,userCount:0,teamCount:0})})),me()}),[]),(0,s.useEffect)((function(){ue()}),[]),(0,s.useEffect)((function(){(t&&o.Z.users.length||!(0,l.isEmpty)(o.Z.userDetails))&&((0,l.isNil)(R)||(0,l.isNil)(P))&&(0,a.mG)(void 0,void 0,void 0,(function(){var e,t,n,l,r,s,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(!ce||!ce.id)return[2];X(!0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,(0,d.GA)(null==ce?void 0:ce.id,"follows, owns")];case 2:return(e=a.sent())&&(t=Object.values(g.eg),n=null!==(i=e.owns)&&void 0!==i?i:[],l=null!==(o=e.follows)&&void 0!==o?o:[],r=l.filter((function(e){return t.includes(e.type)})),s=n.filter((function(e){return t.includes(e.type)})),G(r.length),M(s.length),F(r.slice(0,8)),I(s.slice(0,8))),[3,5];case 3:return a.sent(),I([]),F([]),[3,5];case 4:return X(!1),[7];case 5:return[2]}}))}))}),[o.Z.userDetails,o.Z.users,t]),(0,s.useEffect)((function(){return oe&&(oe.on(y.QH.ACTIVITY_FEED,(function(e){e&&le((function(t){return(0,a.ev)([JSON.parse(e)],(0,a.CR)(t))}))})),oe.on(y.QH.TASK_CHANNEL,(function(e){e&&K((function(e){return e?e+1:e}))}))),function(){oe&&oe.off(y.QH.ACTIVITY_FEED),oe&&oe.off(y.QH.TASK_CHANNEL)}}),[oe]),s.createElement(m.Z,null,(0,l.isEmpty)(k)?s.createElement(p.Z,null):s.createElement(s.Fragment,null,s.createElement(h.Z,{activityFeeds:ae,deletePostHandler:function(e,t,n){(0,T.fR)(e,t,n,V)},entityCounts:k,error:r,feedData:j||[],fetchFeedHandler:de,followedData:P||[],followedDataCount:O,isFeedLoading:q,isLoadingOwnedData:z,ownedData:R||[],ownedDataCount:_,paging:se,pendingTaskCount:U,postFeedHandler:function(e,t){var n={message:e,from:null==ce?void 0:ce.name};(0,c.Z1)(t,n).then((function(e){if(e){var t=e.id,n=e.posts;V((function(l){return l.map((function(l){return l.id===t?(0,a.pi)((0,a.pi)({},e),{posts:null==n?void 0:n.slice(-3)}):l}))}))}})).catch((function(e){(0,S.Eo)(e,C.Z["api-error-messages"]["feed-post-error"])}))},updateThreadHandler:function(e,t,n,a){(0,T.jw)(e,t,n,a,V)},onRefreshFeeds:function(){ue(),V([]),le([])}}),ee?s.createElement(E,null):null))}))}}]);