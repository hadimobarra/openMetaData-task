"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[6163],{34797:function(e,t,n){n.d(t,{Cz:function(){return u},xf:function(){return o},rO:function(){return c},no:function(){return l},ch:function(){return d},AJ:function(){return f},eL:function(){return h},H6:function(){return p},zz:function(){return m},pQ:function(){return v}});var i=n(70655),a=n(97451),s="/testCase",r="/testSuite",u=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,a.Z.get(s,{params:e})];case 1:return[2,t.sent().data]}}))}))},o=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n="/testCase/"+e+"/testCaseResult",[4,a.Z.get(n,{params:t})];case 1:return[2,i.sent().data]}}))}))},c=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,a.Z.post(s,e)];case 1:return[2,t.sent().data]}}))}))},l=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n={headers:{"Content-type":"application/json-patch+json"}},[4,a.Z.patch("/testCase/"+e,t,n)];case 1:return[2,i.sent().data]}}))}))},d=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,a.Z.get("/testDefinition",{params:e})];case 1:return[2,t.sent().data]}}))}))},f=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return[4,a.Z.get("/testDefinition/"+e,{params:t})];case 1:return[2,n.sent().data]}}))}))},h=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,a.Z.get(r,{params:e})];case 1:return[2,t.sent().data]}}))}))},p=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,a.Z.post(r,e)];case 1:return[2,t.sent().data]}}))}))},m=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return[4,a.Z.get("/testSuite/name/"+e,{params:t})];case 1:return[2,n.sent().data]}}))}))},v=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n={headers:{"Content-type":"application/json-patch+json"}},[4,a.Z.patch("/testSuite/"+e,t,n)];case 1:return[2,i.sent().data]}}))}))}},45351:function(e,t,n){n.d(t,{Z:function(){return Z}});var i=n(70655),a=n(71230),s=n(15746),r=n(56256),u=n(96486),o=n(67294),c=n(59293),l=n(32822),d=n(62761),f=n(31968),h=n(28517),p=n(55726),m=n(6929),v=n(48132),y=n(96840),C=n(50168),S=n(78339),g=n(12439),b=n(19650),w=n(71577),T=n(58346),E=function(e){var t=e.initialData,n=e.onCancel,r=e.onSubmit,u=(0,i.CR)((0,o.useState)(t),2),c=u[0],l=u[1];return(0,o.useEffect)((function(){t&&l(t)}),[t]),o.createElement(a.Z,{gutter:[16,32]},o.createElement(s.Z,{span:24},o.createElement(T.Z,{value:c,onChange:function(e){return l(e)}})),o.createElement(s.Z,{span:24},o.createElement(b.Z,{className:"tw-w-full tw-justify-end",size:16},o.createElement(w.Z,{onClick:n},"Back"),o.createElement(w.Z,{"data-testid":"deploy-button",type:"primary",onClick:function(){return r(c||"")}},"Submit"))))},Z=function(e){var t=e.ingestionPipeline,n=e.testSuite,b=e.onCancel,w=(0,c.UO)().ingestionFQN,T=(0,c.k6)(),Z=(0,i.CR)((0,o.useState)(t),2),G=Z[0],k=Z[1],D=(0,i.CR)((0,o.useState)(!1),2),N=D[0],R=D[1],J=(0,i.CR)((0,o.useState)(!1),2),x=J[0],I=J[1],z=(0,i.CR)((0,o.useState)(w?h.g.UPDATING:h.g.CREATING),2),A=z[0],P=z[1],O=(0,i.CR)((0,o.useState)(!1),2),Y=O[0],j=O[1],H=(0,i.CR)((0,o.useState)(!1),2),L=H[0],_=H[1],q=(0,i.CR)((0,o.useState)(0),2),B=q[0],F=q[1],M=(0,o.useMemo)((function(){var e,t=x?"has been "+(w?"updated":"created")+", but failed to deploy":"has been "+(w?"updated":"created")+" and deployed successfully";return o.createElement("span",null,o.createElement("span",{className:"tw-mr-1 tw-font-semibold"},'"',null!==(e=null==G?void 0:G.name)&&void 0!==e?e:"Test Suite",'"'),o.createElement("span",null,t))}),[G,x]),Q=(0,i.CR)((0,o.useState)(!1),2),U=Q[0],V=Q[1],W=function(e){R(!0),_(!0),F(d.lB),P(h.g.DEPLOYING),(0,l.aw)(""+(e||(null==G?void 0:G.id))).then((function(){j(!0),I(!1),F(d.$M),P(h.g.DEPLOYED)})).catch((function(e){I(!0),P(h.g.DEPLOYING_ERROR),(0,C.Eo)(e||m.Z["api-error-messages"]["deploy-ingestion-error"])})).finally((function(){return setTimeout((function(){return R(!1)}),500)}))},$=function(){return(0,l.x1)().then((function(e){200===e.status?V(!0):V(!1)})).catch((function(){V(!1)}))};return(0,o.useEffect)((function(){$()}),[]),o.createElement(a.Z,{className:"tw-form-container",gutter:[16,16]},o.createElement(s.Z,{span:24},o.createElement(r.Z.Paragraph,{className:"tw-heading tw-text-base","data-testid":"header"},"Schedule for Ingestion")),o.createElement(s.Z,{span:24},L?o.createElement(S.Z,{handleDeployClick:function(){R(!0),W()},handleViewServiceClick:function(){T.push((0,y.nn)((null==n?void 0:n.fullyQualifiedName)||""))},isAirflowSetup:U,name:(null==n?void 0:n.name)+"_"+p.Hz.TestSuite,showDeployButton:x,showIngestionButton:!1,state:f.Y.ADD,successMessage:M,viewServiceText:"View Test Suite",onCheckAirflowStatus:$}):o.createElement(E,{initialData:(null==t?void 0:t.airflowConfig.scheduleInterval)||(0,v.Fu)(p.Hz.TestSuite),onCancel:b,onSubmit:function(e){w?function(e){(0,i.mG)(void 0,void 0,void 0,(function(){var n,a,s,r,o,c,d,f,h,p,v,y,S;return(0,i.Jh)(this,(function(g){switch(g.label){case 0:a=(n=t).airflowConfig,s=n.description,r=n.displayName,o=n.loggerLevel,c=n.name,d=n.owner,f=n.pipelineType,h=n.service,p=n.sourceConfig,v={airflowConfig:(0,i.pi)((0,i.pi)({},a),{scheduleInterval:(0,u.isEmpty)(e)?void 0:e}),description:s,displayName:r,loggerLevel:o,name:c,owner:d,pipelineType:f,service:h,sourceConfig:p},g.label=1;case 1:return g.trys.push([1,3,,4]),[4,(0,l.tr)(v)];case 2:return y=g.sent(),W(y.id),[3,4];case 3:return S=g.sent(),(0,C.Eo)(S,m.Z["api-error-messages"]["update-ingestion-error"]),[3,4];case 4:return[2]}}))}))}(e):function(e){(0,i.mG)(void 0,void 0,void 0,(function(){var t,a,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return t=(0,v._1)(n.name),a={airflowConfig:{scheduleInterval:(0,u.isEmpty)(e)?void 0:e},name:t+"_"+p.Hz.TestSuite,pipelineType:p.Hz.TestSuite,service:{id:n.id||"",type:(0,u.camelCase)(p.Hz.TestSuite)},sourceConfig:{config:{type:p.rO.TestSuite}}},[4,(0,l.XZ)(a)];case 1:return s=i.sent(),k(s),W(s.id),[2]}}))}))}(e)}})),o.createElement(g.Z,{action:A,ingestionName:(null==G?void 0:G.name)||"",isDeployed:Y,isIngestionCreated:L,progress:B,visible:N}))}},27586:function(e,t,n){var i=n(71230),a=n(56256),s=n(67294);t.Z=function(e){var t=e.data;return s.createElement(i.Z,null,s.createElement(a.Z.Paragraph,{className:"tw-heading tw-text-base","data-testid":"right-panel-header"},t.title),s.createElement(a.Z.Paragraph,null,t.body))}},78736:function(e,t,n){n.d(t,{j$:function(){return s},hY:function(){return r},nA:function(){return u}});var i=[{title:"Select/Create Test Suite",body:"A Test Suite is a container consisting of multiple but related test cases. With a Test Suite, you can easily deploy a pipeline to execute the Test Cases. Start by selecting an existing test suite or create a new test suite to create a table or column level test for an entity."},{title:"Create Test Case",body:"To create a test case, add a unique name. Select a test type from the options provided. Fill in the details for the parameters that show up for a selected test type. Enter a description (optional)."},{title:"Test Case Created Successfully",body:"{testCase} has been created successfully. View the Test Suite to check the details of the new created test case. This will be picked up in the next run."},{title:"Test Suite & Test Case Created Successfully",body:"{testSuite} & {testCase} has been created successfully. In the next step, you can schedule to ingest metadata at the desired frequency. You can also view the Test Suite to check the details of the new created test case."}],a=[{title:"Create Test Suite",body:"A Test Suite is a container consisting of multiple but related test cases. With a Test Suite, you can easily deploy a pipeline to execute the Test Cases. Start by selecting an existing test suite or create a new test suite to create a table or column level test for an entity."},{title:"Test Suite Created Successfully",body:"{testSuite} has been created successfully. In the next step, you can schedule to ingest metadata at the desired frequency. You can also view the Test Suite to check the details of the new created test case."}],s={title:"Scheduler for Tests",body:"The data quality tests can be scheduled to run at the desired frequency. The timezone is in UTC."},r=function(e,t,n){var a=i[e-1];if(3===e)if(t){var s=(a=i[e]).body.replace("{testSuite}",(null==n?void 0:n.testSuite)||"Test Suite").replace("{testCase}",(null==n?void 0:n.testCase)||"Test Case");a.body=s}else s=a.body.replace("{testCase}",(null==n?void 0:n.testCase)||"Test Case"),a.body=s;return a},u=function(e,t){var n=a[e-1];return 2===e&&((n=a[e-1]).body=n.body.replace("{testSuite}",t)),n}}}]);