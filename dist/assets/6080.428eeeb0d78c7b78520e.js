"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[6080],{55895:function(e,t,n){var a=n(8081),i=n.n(a),r=n(23645),l=n.n(r)()(i());l.push([e.id,'/*\n *  Copyright 2022 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.table-profiler-summary .overall-summary-card:not(:first-child) {\n  border-left: 1px solid #e5e7eb;\n  padding-left: 16px;\n}\n.table-profiler-summary .overall-summary-card .ant-statistic .ant-statistic-title {\n  font-weight: 500;\n  color: #6b7280;\n}\n.latest-profiler-data-container table {\n  border: none;\n  box-shadow: none;\n}\n.latest-profiler-data-container .ant-table.ant-table-small .ant-table-thead > tr > th,\n.latest-profiler-data-container .ant-table.ant-table-small .ant-table-tbody > tr > td {\n  padding-left: 16px;\n  padding-right: 16px;\n}\n.latest-profiler-data-container .ant-table-tbody > tr > td {\n  border-bottom: none;\n}\n.profiler-latest-value .ant-statistic-title {\n  margin-bottom: 0px;\n}\n',""]),t.Z=l},19553:function(e,t,n){var a=n(8081),i=n.n(a),r=n(23645),l=n.n(r)()(i());l.push([e.id,'/*\n *  Copyright 2022 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.test-indicator {\n  display: inline-block;\n  height: 8px;\n  width: 8px;\n  border-radius: 50%;\n}\n.test-indicator.success {\n  background: #28a745;\n}\n.test-indicator.failed {\n  background: #cb2431;\n}\n.test-indicator.aborted {\n  background: #efae2f;\n}\n',""]),t.Z=l},35122:function(e,t,n){n.d(t,{Z:function(){return m}});var a=n(2717),i=n(67294),r=n(17197),l=n(94310),s=n(28549),o=n(48805),u=n(41546),c=n(69068),d=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];n(73935);var m=(0,i.forwardRef)((function(e,t){var n=function(e){var t=e.defaultOptions,n=void 0!==t&&t,a=e.cacheOptions,r=void 0!==a&&a,l=e.loadOptions;e.options;var m=e.isLoading,f=void 0!==m&&m,p=e.onInputChange,v=e.filterOption,h=void 0===v?null:v,E=(0,c.Z)(e,d),y=E.inputValue,b=(0,i.useRef)(void 0),w=(0,i.useRef)(!1),g=(0,i.useState)(Array.isArray(n)?n:void 0),C=(0,u.Z)(g,2),Z=C[0],S=C[1],T=(0,i.useState)(void 0!==y?y:""),A=(0,u.Z)(T,2),R=A[0],L=A[1],N=(0,i.useState)(!0===n),O=(0,u.Z)(N,2),k=O[0],D=O[1],I=(0,i.useState)(void 0),F=(0,u.Z)(I,2),x=F[0],V=F[1],M=(0,i.useState)([]),P=(0,u.Z)(M,2),U=P[0],B=P[1],Q=(0,i.useState)(!1),G=(0,u.Z)(Q,2),z=G[0],J=G[1],K=(0,i.useState)({}),Y=(0,u.Z)(K,2),_=Y[0],j=Y[1],q=(0,i.useState)(void 0),H=(0,u.Z)(q,2),W=H[0],X=H[1],$=(0,i.useState)(void 0),ee=(0,u.Z)($,2),te=ee[0],ne=ee[1];r!==te&&(j({}),ne(r)),n!==W&&(S(Array.isArray(n)?n:void 0),X(n)),(0,i.useEffect)((function(){return w.current=!0,function(){w.current=!1}}),[]);var ae=(0,i.useCallback)((function(e,t){if(!l)return t();var n=l(e,t);n&&"function"==typeof n.then&&n.then(t,(function(){return t()}))}),[l]);(0,i.useEffect)((function(){!0===n&&ae(R,(function(e){w.current&&(S(e||[]),D(!!b.current))}))}),[]);var ie=(0,i.useCallback)((function(e,t){var n=(0,o.L)(e,t,p);if(!n)return b.current=void 0,L(""),V(""),B([]),D(!1),void J(!1);if(r&&_[n])L(n),V(n),B(_[n]),D(!1),J(!1);else{var a=b.current={};L(n),D(!0),J(!x),ae(n,(function(e){w&&a===b.current&&(b.current=void 0,D(!1),V(n),B(e||[]),J(!1),j(e?(0,o.a)((0,o.a)({},_),{},(0,s.Z)({},n,e)):_))}))}}),[r,ae,x,_,p]),re=z?[]:R&&x?U:Z||[];return(0,o.a)((0,o.a)({},E),{},{options:re,isLoading:k||f,onInputChange:ie,filterOption:h})}(e),m=(0,l.u)(n);return i.createElement(r.S,(0,a.Z)({ref:t},m))}))},84870:function(e,t,n){var a=n(93379),i=n.n(a),r=n(7795),l=n.n(r),s=n(90569),o=n.n(s),u=n(3565),c=n.n(u),d=n(19216),m=n.n(d),f=n(44589),p=n.n(f),v=n(55895),h={};h.styleTagTransform=p(),h.setAttributes=c(),h.insert=o().bind(null,"head"),h.domAPI=l(),h.insertStyleElement=m(),i()(v.Z,h),v.Z&&v.Z.locals&&v.Z.locals},79093:function(e,t,n){var a=n(70655),i=n(91894),r=n(71230),l=n(15746),s=n(67294),o=n(29009),u=n(98687),c=n(14195),d=n(3023),m=n(75358),f=n(99307),p=n(56880),v=n(23872),h=n(62761),E=n(6776),y=n(28178),b=n(85787);t.Z=function(e){var t=e.chartCollection,n=e.tickFormatter,w=e.name,g=e.curveType,C=t.data,Z=t.information,S=(0,a.CR)((0,s.useState)([]),2),T=S[0],A=S[1];return s.createElement(i.Z,{className:"tw-rounded-md tw-border"},s.createElement(r.Z,{gutter:[16,16]},s.createElement(l.Z,{span:4},s.createElement(b.Z,{information:Z,tickFormatter:n})),s.createElement(l.Z,{span:20},C.length>0?s.createElement(o.h,{debounce:200,id:w+"_graph",minHeight:300},s.createElement(u.w,{className:"tw-w-full",data:C,margin:{left:16}},s.createElement(c.q,{stroke:h.KT}),s.createElement(d.K,{dataKey:"name",padding:{left:16,right:16},tick:{fontSize:12}}),s.createElement(m.B,{allowDataOverflow:!0,padding:{top:16,bottom:16},tick:{fontSize:12},tickFormatter:function(e){return(0,E.qS)(e,n)}}),s.createElement(f.u,{formatter:function(e){return(0,E.CX)(e,n)}}),Z.map((function(e){return s.createElement(p.x,{dataKey:e.dataKey,hide:!!T.length&&!T.includes(e.dataKey),key:e.dataKey,name:e.title,stroke:e.color,type:null!=g?g:"monotone"})})),s.createElement(v.D,{onClick:function(e){A((function(t){return(0,E.Ss)(e.dataKey,t)}))}}))):s.createElement(r.Z,{align:"middle",className:"tw-h-full tw-w-full",justify:"center"},s.createElement(l.Z,null,s.createElement(y.Z,null,s.createElement("p",null,"No Data Available")))))))}},85787:function(e,t,n){var a=n(19650),i=n(7277),r=n(56256),l=n(67294),s=n(48132);n(84870),t.Z=function(e){var t=e.information,n=e.tickFormatter,o=e.stringValue,u=void 0!==o&&o;return l.createElement(a.Z,{"data-testid":"data-summary-container",direction:"vertical",size:16},t.map((function(e){return l.createElement(i.Z,{className:"profiler-latest-value",key:e.title,title:l.createElement(r.Z.Text,{className:"text-grey-body","data-testid":"title"},e.title),value:n||u?""+e.latestValue+(null!=n?n:""):(0,s.FX)(e.latestValue),valueStyle:{color:e.color,fontSize:"18px",fontWeight:700}})})))}},29266:function(e,t,n){var a;n.d(t,{s:function(){return a}}),function(e){e.SUMMARY="Summary",e.PROFILER="Profiler",e.DATA_QUALITY="Data Quality"}(a||(a={}))},403:function(e,t,n){n.d(t,{Z:function(){return w}});var a=n(94184),i=n.n(a),r=n(67294),l=n(93379),s=n.n(l),o=n(7795),u=n.n(o),c=n(90569),d=n.n(c),m=n(3565),f=n.n(m),p=n(19216),v=n.n(p),h=n(44589),E=n.n(h),y=n(19553),b={};b.styleTagTransform=E(),b.setAttributes=f(),b.insert=d().bind(null,"head"),b.domAPI=u(),b.insertStyleElement=v(),s()(y.Z,b),y.Z&&y.Z.locals&&y.Z.locals;var w=function(e){var t=e.value,n=e.type;return r.createElement("span",{className:"tw-flex tw-gap-1.5 tw-items-center","data-testid":"indicator-container"},r.createElement("span",{className:i()("test-indicator",n.toLowerCase()),"data-testid":"test-status"}),r.createElement("span",{"data-testid":"test-value"},t))}},48217:function(e,t,n){var a;n.d(t,{C:function(){return a}}),function(e){e.BusinessUnit="BusinessUnit",e.Department="Department",e.Division="Division",e.Group="Group",e.Organization="Organization"}(a||(a={}))},84507:function(e,t,n){n.r(t),n.d(t,{default:function(){return ie}});var a=n(70655),i=n(60236),r=n(96486),l=n(67294),s=n(59293),o=n(57794),u=n(34797),c=n(28178),d=n(74380),m=n(53867),f=n(93389),p=n(79839),v=n(71230),h=n(15746),E=n(55742),y=n(19650),b=n(9242),w=n(12028),g=n(34041),C=n(94199),Z=n(71577),S=n(73213),T=n(62761),A=n(52114),R=n(56275),L=n(64632),N=n(89204),O=n(86910),k=n(55546),D=n(98809),I=n(90058),F=n(6929),x=n(48132),V=n(39570),M=n(96840),P=n(35892),U=n(81274),B=n(19790),Q=n(50168),G=n(71008),z=n(46892),J=n(2913),K=n(91894),Y=n(56256),_=n(7277),j=n(437),q=n(95431),H=n(87968),W=n(79093),X=n(403),$=function(e){var t=e.data,n=e.title,a=e.showIndicator,i=void 0!==a&&a;return l.createElement(K.Z,{className:"tw-rounded-md tw-border"},l.createElement("p",{className:"tw-text-base tw-font-medium tw-mb-4"},n),l.createElement(v.Z,{className:"table-profiler-summary"},t.map((function(e){return l.createElement(h.Z,{className:"overall-summary-card",key:e.title,span:8},l.createElement(_.Z,{title:e.title,value:e.value,valueRender:function(t){return i?l.createElement(X.Z,{type:e.title,value:(0,x.nh)(e.value)}):t}}))}))))},ee=function(e){var t=e.activeColumnDetails,n=e.profilerData,i=e.tableProfile,o=(0,j.$)().t,c=(0,s.UO)().entityTypeFQN,d=(0,a.CR)((0,l.useState)(R.Fh),2),m=d[0],f=d[1],p=(0,a.CR)((0,l.useState)(R.dO),2),E=p[0],y=p[1],b=(0,a.CR)((0,l.useState)(R.kK),2),w=b[0],g=b[1],C=(0,a.CR)((0,l.useState)(R.H9),2),Z=C[0],S=C[1],A=(0,a.CR)((0,l.useState)({tests:[],results:R.V}),2),L=A[0],N=A[1],O=(0,l.useMemo)((function(){return[{title:o("label.row-count"),value:(null==i?void 0:i.rowCount)||0},{title:o("label.column-count"),value:(null==i?void 0:i.columnCount)||0},{title:o("label.table-sample")+" %",value:((null==i?void 0:i.profileSample)||100)+"%"}]}),[i]),k=(0,l.useMemo)((function(){var e=L.results;return[{title:o("label.success"),value:e.success},{title:o("label.aborted"),value:e.aborted},{title:o("label.failed"),value:e.failed}]}),[L]);return(0,l.useEffect)((function(){!function(){var e=(0,r.sortBy)(n,"timestamp"),t=[],i=[],l=[],s=[];e.forEach((function(e){var n=(0,H.bo)(e.timestamp);t.push({name:n,timestamp:e.timestamp,distinctCount:e.distinctCount||0,nullCount:e.nullCount||0,uniqueCount:e.uniqueCount||0,valuesCount:e.valuesCount||0}),s.push({name:n,timestamp:e.timestamp||0,sum:e.sum||0}),l.push({name:n,timestamp:e.timestamp||0,max:e.max||0,min:e.min||0,mean:e.mean||0,median:e.median||0}),i.push({name:n,timestamp:e.timestamp||0,distinctProportion:Math.round(100*(e.distinctProportion||0)),nullProportion:Math.round(100*(e.nullProportion||0)),uniqueProportion:Math.round(100*(e.uniqueProportion||0))})}));var o=m.information.map((function(e){var n;return(0,a.pi)((0,a.pi)({},e),{latestValue:(null===(n=t[t.length-1])||void 0===n?void 0:n[e.dataKey])||0})})),u=E.information.map((function(e){var t;return(0,a.pi)((0,a.pi)({},e),{latestValue:parseFloat(""+((null===(t=i[i.length-1])||void 0===t?void 0:t[e.dataKey])||0)).toFixed(2)})})),c=w.information.map((function(e){var t;return(0,a.pi)((0,a.pi)({},e),{latestValue:(null===(t=l[l.length-1])||void 0===t?void 0:t[e.dataKey])||0})})),d=Z.information.map((function(e){var t;return(0,a.pi)((0,a.pi)({},e),{latestValue:(null===(t=s[s.length-1])||void 0===t?void 0:t[e.dataKey])||0})}));f((function(e){return(0,a.pi)((0,a.pi)({},e),{information:o,data:t})})),y((function(e){return(0,a.pi)((0,a.pi)({},e),{information:u,data:i})})),g((function(e){return(0,a.pi)((0,a.pi)({},e),{information:c,data:l})})),S((function(e){return(0,a.pi)((0,a.pi)({},e),{information:d,data:s})}))}()}),[n]),(0,l.useEffect)((function(){(0,a.mG)(void 0,void 0,void 0,(function(){var e,t,n,i;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:e=(0,x.S8)(c),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,(0,u.Cz)({fields:"testCaseResult",entityLink:(0,B.GJ)(e),limit:T.AL})];case 2:return t=r.sent().data,n={tests:[],results:(0,a.pi)({},R.V)},t.forEach((function(e){var t;(0,q.i)(n.results,(null===(t=e.testCaseResult)||void 0===t?void 0:t.testCaseStatus)||"")})),N(n),[3,4];case 3:return i=r.sent(),(0,Q.Eo)(i),[3,4];case 4:return[2]}}))}))}),[]),l.createElement(v.Z,{"data-testid":"profiler-tab-container",gutter:[16,16]},l.createElement(h.Z,{span:8},l.createElement(K.Z,{className:"tw-rounded-md tw-border tw-h-full"},l.createElement(v.Z,{gutter:16},l.createElement(h.Z,{span:16},l.createElement("p",{className:"tw-font-medium tw-text-base"},o("label.column-summary")),l.createElement(Y.Z.Paragraph,{className:"ant-typography-ellipsis-custom tw-text-grey-muted","data-testid":"description",ellipsis:{tooltip:!0,rows:4}},t.description||o("label.no-description"))),l.createElement(h.Z,{"data-testid":"data-type-container",span:8},l.createElement(_.Z,{title:o("label.data-type"),value:t.dataType,valueStyle:{color:"#1890FF",fontSize:"24px",fontWeight:600}}))))),l.createElement(h.Z,{span:8},l.createElement($,{data:O,title:o("label.table-metrics-summary")})),l.createElement(h.Z,{span:8},l.createElement($,{showIndicator:!0,data:k,title:o("label.table-tests-summary")})),l.createElement(h.Z,{span:24},l.createElement(W.Z,{chartCollection:m,name:"count"})),l.createElement(h.Z,{span:24},l.createElement(W.Z,{chartCollection:E,name:"proportion",tickFormatter:"%"})),l.createElement(h.Z,{span:24},l.createElement(W.Z,{chartCollection:w,name:"math"})),l.createElement(h.Z,{span:24},l.createElement(W.Z,{chartCollection:Z,name:"sum"})))},te=n(29266),ne=(n(84870),function(e){var t,n=e.table,i=e.testCases,r=e.fetchProfilerData,u=e.fetchTestCases,c=e.onTestCaseUpdate,d=e.isTestCaseLoading,m=e.profilerData,K=e.onTableChange,Y=(0,f.BL)().getEntityPermission,_=(0,s.k6)(),j=(0,s.UO)(),q=j.entityTypeFQN,H=j.dashboardType,W=j.tab,X=(0,U.p2)(q),$=H===O.xz.COLUMN,ne=(0,a.CR)((0,l.useState)([]),2),ae=ne[0],ie=ne[1],re=(0,a.CR)((0,l.useState)(!1),2),le=re[0],se=re[1],oe=(0,a.CR)((0,l.useState)(!1),2),ue=oe[0],ce=oe[1],de=(0,a.CR)((0,l.useState)(null!=W?W:te.s.PROFILER),2),me=de[0],fe=de[1],pe=(0,a.CR)((0,l.useState)(""),2),ve=pe[0],he=pe[1],Ee=(0,a.CR)((0,l.useState)("last3days"),2),ye=Ee[0],be=Ee[1],we=(0,a.CR)((0,l.useState)({}),2),ge=we[0],Ce=we[1],Ze=(0,a.CR)((0,l.useState)(V.Bd),2),Se=Ze[0],Te=Ze[1],Ae=(0,l.useMemo)((function(){return Object.values(te.s).filter((function(e){return e===te.s.PROFILER?$:e}))}),[H]),Re=(0,l.useMemo)((function(){return Object.entries(R.CF).map((function(e){var t=(0,a.CR)(e,2),n=t[0];return{label:t[1].title,value:n}}))}),[]),Le=(0,l.useMemo)((function(){var e=Object.values(D.M).map((function(e){return{label:e,value:e}}));return e.unshift({label:"All",value:""}),e}),[]),Ne=(0,l.useMemo)((function(){var e;return(0,B.Zk)(null!==(e=n.tags)&&void 0!==e?e:[])}),[n]),Oe=(0,l.useMemo)((function(){var e,t,a=(0,x.C_)(n.service),i=n.fullyQualifiedName||"",r=(0,x.Td)(X,[L.ih.NestedColumn]),l=[{name:(0,x.C_)(n.service),url:a?(0,T.LE)(a,N.u.DATABASE_SERVICES):"",imgSrc:n.serviceType?(0,P.zF)(n.serviceType):void 0},{name:(0,x.Td)(i,[L.ih.Database]),url:(0,T.aY)((null===(e=n.database)||void 0===e?void 0:e.fullyQualifiedName)||"")},{name:(0,x.Td)(i,[L.ih.Schema]),url:(0,T.vh)((null===(t=n.databaseSchema)||void 0===t?void 0:t.fullyQualifiedName)||"")},{name:(0,x.C_)(n),url:$?(0,T.DV)(n.fullyQualifiedName||"","profiler"):""}];return $&&l.push({name:r,url:"",activeTitle:!0}),l}),[n]),ke=(0,l.useMemo)((function(){var e,t,a,i,r,l,s,o,u,c;return[{key:"Owner",value:(null===(e=n.owner)||void 0===e?void 0:e.type)===k.jc.TEAM?(0,T.bV)((null===(t=n.owner)||void 0===t?void 0:t.name)||""):(0,x.C_)(n.owner),placeholderText:(0,x.ji)((0,x.C_)(n.owner),null===(a=n.owner)||void 0===a?void 0:a.deleted),isLink:(null===(i=n.owner)||void 0===i?void 0:i.type)===k.jc.TEAM,openInNewTab:!1,profileName:(null===(r=n.owner)||void 0===r?void 0:r.type)===k.jc.USER?null===(l=n.owner)||void 0===l?void 0:l.name:void 0},{key:"Tier",value:(null==Ne?void 0:Ne.tagFQN)?Ne.tagFQN.split(S.o)[1]:""},{key:"Type",value:""+n.tableType,showLabel:!0},{value:(0,B.Vm)((null===(o=null===(s=n.usageSummary)||void 0===s?void 0:s.weeklyStats)||void 0===o?void 0:o.percentileRank)||0,!0)||"--"},{value:((null===(c=null===(u=n.usageSummary)||void 0===u?void 0:u.weeklyStats)||void 0===c?void 0:c.count.toLocaleString())||"--")+" Queries"}]}),[n]);return(0,l.useEffect)((function(){if(n){if($){var e=(0,x.AY)(X),t=n.columns.find((function(t){return t.name===e}));Ce(t||{})}ie((null==n?void 0:n.followers)||[]),se(ae.some((function(e){return e.id===(0,x.rc)()}))),(0,a.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Y(p.A.TABLE,n.id)];case 1:return e=a.sent(),Te(e),[3,3];case 2:return t=a.sent(),(0,Q.Eo)(t),[3,3];case 3:return[2]}}))}))}}),[n]),l.createElement(z.Z,null,l.createElement(v.Z,{gutter:[16,16]},l.createElement(h.Z,{span:24},l.createElement(G.Z,{isTagEditable:!0,currentOwner:n.owner,deleted:n.deleted,entityFqn:n.fullyQualifiedName,entityId:n.id,entityName:n.name,entityType:L.py.TABLE,extraInfo:ke,followHandler:function(){le?(se(!1),(0,a.mG)(void 0,void 0,void 0,(function(){var e,t,i;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,(0,o.mM)(n.id,(0,x.rc)())];case 1:return e=a.sent(),t=e.changeDescription.fieldsDeleted[0].oldValue,ie(ae.filter((function(e){return e.id!==t[0].id}))),[3,3];case 2:return i=a.sent(),(0,Q.Eo)(i,F.Z["api-error-messages"]["update-entity-unfollow-error"]),[3,3];case 3:return[2]}}))}))):(se(!0),(0,a.mG)(void 0,void 0,void 0,(function(){var e,t,i;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,o.vs)(n.id,(0,x.rc)())];case 1:return e=r.sent(),t=e.changeDescription.fieldsAdded[0].newValue,ie((0,a.ev)((0,a.ev)([],(0,a.CR)(ae)),(0,a.CR)(t))),[3,3];case 2:return i=r.sent(),(0,Q.Eo)(i,F.Z["api-error-messages"]["update-entity-follow-error"]),[3,3];case 3:return[2]}}))})))},followers:ae.length,followersList:ae,isFollowing:le,removeOwner:Se.EditAll||Se.EditOwner?function(){if(n){var e=(0,a.pi)((0,a.pi)({},n),{owner:void 0});K(e)}}:void 0,removeTier:Se.EditAll||Se.EditTier?function(){if(n){var e=(0,a.pi)((0,a.pi)({},n),{tags:void 0});K(e)}}:void 0,tags:(0,B.nD)(n.tags||[]),tagsHandler:function(e){if(e){var t=(0,a.ev)((0,a.ev)([],(0,a.CR)(Ne?[Ne]:[])),(0,a.CR)(e)),i=(0,a.pi)((0,a.pi)({},n),{tags:t});K(i)}},tier:Ne,titleLinks:Oe,updateOwner:Se.EditAll||Se.EditOwner?function(e){if(e){var t=(0,a.pi)((0,a.pi)({},n),{owner:(0,a.pi)((0,a.pi)({},n.owner),e)});K(t)}}:void 0,updateTier:Se.EditAll||Se.EditTier?function(e){if(e){var t=e?(0,a.ev)((0,a.ev)([],(0,a.CR)((0,B.nD)(n.tags))),[{tagFQN:e,labelType:I.JG.Manual,state:I.ZM.Confirmed}]):n.tags,i=(0,a.pi)((0,a.pi)({},n),{tags:t});return K(i)}return Promise.reject()}:void 0})),l.createElement(h.Z,{span:24},l.createElement(v.Z,{justify:"space-between"},l.createElement(E.ZP.Group,{buttonStyle:"solid",className:"profiler-switch","data-testid":"profiler-switch",optionType:"button",options:Ae,value:me,onChange:function(e){var t=e.target.value;te.s.SUMMARY!==t?(te.s.DATA_QUALITY===t&&(Se.ViewAll||Se.ViewBasic||Se.ViewTests)?u((0,B.GJ)(X,!0)):te.s.PROFILER===t&&(Se.ViewAll||Se.ViewBasic||Se.ViewDataProfile)&&r(q),he(""),fe(t),ce(!1),_.push((0,M.Xm)(H,q,t))):_.push((0,T.DV)(n.fullyQualifiedName||"","profiler"))}}),l.createElement(y.Z,{size:16},me===te.s.DATA_QUALITY&&l.createElement(l.Fragment,null,l.createElement(b.Z.Item,{className:"m-0 ",label:"Deleted Tests"},l.createElement(w.Z,{checked:ue,onClick:function(e){ce(e),c(e)}})),l.createElement(b.Z.Item,{className:"tw-mb-0 tw-w-40",label:"Status"},l.createElement(g.Z,{options:Le,value:ve,onChange:function(e){e!==ve&&he(e)}}))),me===te.s.PROFILER&&l.createElement(g.Z,{className:"tw-w-32",options:Re,value:ye,onChange:function(e){e!==ye&&(be(e),me===te.s.PROFILER&&r(q,R.CF[e].days))}}),l.createElement(C.Z,{title:Se.EditAll||Se.EditTests?"Add Test":A.oH},l.createElement(Z.Z,{"data-testid":"add-test",disabled:!(Se.EditAll||Se.EditTests),type:"primary",onClick:function(){_.push((0,M.OZ)($?O.xz.COLUMN:O.xz.TABLE,q||""))}},"Add Test"))))),me===te.s.PROFILER&&l.createElement(h.Z,{span:24},l.createElement(ee,{activeColumnDetails:ge,profilerData:m,tableProfile:n.profile})),me===te.s.DATA_QUALITY&&l.createElement(h.Z,{span:24},l.createElement(J.Z,{deletedTable:ue,hasAccess:Se.EditAll,isLoading:d,testCases:(t=i.filter((function(e){var t;return""===ve||(null===(t=e.testCaseResult)||void 0===t?void 0:t.testCaseStatus)===ve})),t),onTestUpdate:function(){c(ue)}}))))}),ae=n(34530),ie=function(){var e=(0,s.UO)(),t=e.entityTypeFQN,n=e.dashboardType,v=e.tab,h=(0,U.p2)(t),E=n===O.xz.COLUMN,y=(0,a.CR)((0,l.useState)({}),2),b=y[0],w=y[1],g=(0,a.CR)((0,l.useState)([]),2),C=g[0],Z=g[1],S=(0,a.CR)((0,l.useState)(!0),2),A=S[0],R=S[1],L=(0,a.CR)((0,l.useState)(!1),2),N=L[0],k=L[1],D=(0,a.CR)((0,l.useState)(!1),2),I=D[0],M=D[1],P=(0,a.CR)((0,l.useState)([]),2),G=P[0],z=P[1],J=(0,a.CR)((0,l.useState)(V.Bd),2),K=J[0],Y=J[1],_=(0,f.BL)().getEntityPermission,j=function(e,t){return void 0===t&&(t=3),(0,a.mG)(void 0,void 0,void 0,(function(){var n,i,r,l;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,3,4]),n=(0,H.Dk)(t),i=(0,H.uh)(),[4,(0,o.$C)(e,{startTs:n,endTs:i})];case 1:return r=a.sent().data,Z(r),[3,4];case 2:return l=a.sent(),(0,Q.Eo)(l),[3,4];case 3:return R(!1),[7];case 4:return[2]}}))}))},q=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,i;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:k(!0),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,(0,u.Cz)((0,a.pi)({fields:"testDefinition,testCaseResult,testSuite",entityLink:e,includeAllTests:!E,limit:T.AL},t))];case 2:return n=r.sent().data,z(n),[3,5];case 3:return i=r.sent(),(0,Q.Eo)(i,F.Z["api-error-messages"]["fetch-column-test-error"]),[3,5];case 4:return R(!1),k(!1),[7];case 5:return[2]}}))}))};return(0,l.useEffect)((function(){h?(0,a.mG)(void 0,void 0,void 0,(function(){var e,t,n,i;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),e=E?(0,x.S8)(h):h,t="tags, usageSummary, owner, followers"+(E?", profile":""),[4,(0,o.gs)(e,t)];case 1:return n=a.sent(),w(null!=n?n:{}),[3,3];case 2:return i=a.sent(),(0,Q.Eo)(i,F.Z["api-error-messages"]["fetch-table-details-error"]),R(!1),M(!0),[3,3];case 3:return[2]}}))})):(R(!1),M(!0))}),[h]),(0,l.useEffect)((function(){(0,r.isEmpty)(b)||(0,a.mG)(void 0,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,_(p.A.TABLE,b.id)];case 1:return e=t.sent(),Y(e),[3,3];case 2:return t.sent(),(0,Q.Eo)(F.Z["api-error-messages"]["fetch-entity-permissions-error"]),[3,3];case 3:return[2]}}))}))}),[b]),(0,l.useEffect)((function(){var e;(0,r.isEmpty)(b)||(e=K,v===te.s.DATA_QUALITY&&(e.ViewAll||e.ViewBasic||e.ViewTests)?q((0,B.GJ)(h)):e.ViewAll||e.ViewBasic||e.ViewDataProfile?j(t):R(!1))}),[b,K]),A?l.createElement(m.Z,null):I?l.createElement(c.Z,null,l.createElement("p",{className:"tw-text-center"},"No data found"," ",h?"for column "+(0,x.AY)(h):"")):l.createElement(d.Z,{className:"tw-py-4"},l.createElement(ne,{fetchProfilerData:j,fetchTestCases:q,isTestCaseLoading:N,profilerData:C,table:b,testCases:G,onTableChange:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n,r;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:t=(0,i.qu)(b,e),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,o.JD)(b.id,t)];case 2:return n=a.sent(),w(n),[3,4];case 3:return r=a.sent(),(0,Q.Eo)(r,F.Z["api-error-messages"]["update-entity-error"]),[3,4];case 4:return[2]}}))}))},onTestCaseUpdate:function(e){void 0===e&&(e=!1),q((0,B.GJ)(h,E),{include:e?ae.y.Deleted:ae.y.NonDeleted})}}))}},95431:function(e,t,n){n.d(t,{i:function(){return i}});var a=n(98809),i=function(e,t){switch(t){case a.M.Success:e.success+=1;break;case a.M.Failed:e.failed+=1;break;case a.M.Aborted:e.aborted+=1}}}}]);