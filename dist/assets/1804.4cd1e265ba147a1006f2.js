/*! For license information please see 1804.4cd1e265ba147a1006f2.js.LICENSE.txt */
(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[1804],{12028:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=n(87462),r=n(4942),i=n(7085),l=n(36228),o=n.n(l),s=n(23653),c=n(8384),d=n(67294),u=n(54433),m=n.n(u),p=n(21770),f=n(15105),w=d.forwardRef((function(e,t){var n,a=e.prefixCls,i=void 0===a?"rc-switch":a,l=e.className,o=e.checked,u=e.defaultChecked,w=e.disabled,v=e.loadingIcon,h=e.checkedChildren,E=e.unCheckedChildren,y=e.onClick,g=e.onChange,C=e.onKeyDown,b=(0,c.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),N=(0,p.Z)(!1,{value:o,defaultValue:u}),Z=(0,s.Z)(N,2),S=Z[0],x=Z[1];function T(e,t){var n=S;return w||(x(n=e),null==g||g(n,t)),n}var k=m()(i,l,(n={},(0,r.Z)(n,"".concat(i,"-checked"),S),(0,r.Z)(n,"".concat(i,"-disabled"),w),n));return d.createElement("button",Object.assign({},b,{type:"button",role:"switch","aria-checked":S,disabled:w,className:k,ref:t,onKeyDown:function(e){e.which===f.Z.LEFT?T(!1,e):e.which===f.Z.RIGHT&&T(!0,e),null==C||C(e)},onClick:function(e){var t=T(!S,e);null==y||y(t,e)}}),v,d.createElement("span",{className:"".concat(i,"-inner")},S?h:E))}));w.displayName="Switch";var v=w,h=n(53124),E=n(98866),y=n(97647),g=n(21790),C=d.forwardRef((function(e,t){var n,l=e.prefixCls,s=e.size,c=e.disabled,u=e.loading,m=e.className,p=void 0===m?"":m,f=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["prefixCls","size","disabled","loading","className"]),w=d.useContext(h.E_),C=w.getPrefixCls,b=w.direction,N=d.useContext(y.Z),Z=d.useContext(E.Z),S=(null!=c?c:Z)||u,x=C("switch",l),T=d.createElement("div",{className:"".concat(x,"-handle")},u&&d.createElement(i.Z,{className:"".concat(x,"-loading-icon")})),k=o()((n={},(0,r.Z)(n,"".concat(x,"-small"),"small"===(s||N)),(0,r.Z)(n,"".concat(x,"-loading"),u),(0,r.Z)(n,"".concat(x,"-rtl"),"rtl"===b),n),p);return d.createElement(g.Z,{insertExtraNode:!0},d.createElement(v,(0,a.Z)({},f,{prefixCls:x,className:k,disabled:S,ref:t,loadingIcon:T})))}));C.__ANT_SWITCH=!0;var b=C},49857:function(e,t,n){"use strict";var a=n(8081),r=n.n(a),i=n(23645),l=n.n(i)()(r());l.push([e.id,'/*\n *  Copyright 2022 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.description-markdown-editor .ant-modal-header,\n.description-markdown-editor .ant-modal-body,\n.description-markdown-editor .ant-modal-footer {\n  padding: 20px 24px;\n}\n',""]),t.Z=l},54433:function(e,t){var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var l=r.apply(null,n);l&&e.push(l)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var o in n)a.call(n,o)&&n[o]&&e.push(o)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},19521:function(e,t,n){"use strict";var a=n(70655),r=n(38222),i=n(94184),l=n.n(i),o=n(96486),s=n(67294),c=n(73935),d=n(58369),u=n(31615),m=n(26051),p=n(82913);t.Z=function(e){var t=e.threadLink,n=e.className,i=e.onCancel,f=e.open,w=e.postFeedHandler,v=e.createThread,h=e.deletePostHandler,E=e.updateThreadHandler,y=e.threadType,g=r.Z.TabPane,C=(0,a.CR)((0,s.useState)(d.qL.TASKS),2),b=C[0],N=C[1];return(0,s.useEffect)((function(){(0,o.isEqual)(y,u.Th.Conversation)&&N(d.qL.CONVERSATIONS)}),[y]),(0,s.useEffect)((function(){document.body.style.overflow="hidden"}),[]),c.createPortal(s.createElement("div",{className:l()("tw-h-full",n)},s.createElement(m.Z,{className:"tw-z-9997 tw-fixed tw-inset-0 tw-top-16 tw-h-full tw-w-3/5 tw-bg-black tw-opacity-40",onCancel:function(){return i&&i()}}),s.createElement("div",{className:l()("tw-top-16 tw-right-0 tw-bottom-0 tw-w-2/5 tw-bg-white tw-fixed tw-shadow-md tw-transform tw-ease-in-out tw-duration-1000 tw-overflow-y-auto tw-z-9997",{"tw-translate-x-0":f,"tw-translate-x-full":!f}),id:"thread-panel"},s.createElement(r.Z,{activeKey:b,className:"ant-tabs-custom-line ant-tabs-custom-threadpanel",onChange:function(e){N(e)}},s.createElement(g,{key:d.qL.TASKS,tab:"Tasks"},s.createElement(p.Z,{createThread:v,deletePostHandler:h,postFeedHandler:w,threadLink:t,threadType:u.Th.Task,updateThreadHandler:E,onCancel:i})),s.createElement(g,{key:d.qL.CONVERSATIONS,tab:"Conversations"},s.createElement(p.Z,{createThread:v,deletePostHandler:h,postFeedHandler:w,threadLink:t,threadType:u.Th.Conversation,updateThreadHandler:E,onCancel:i}))))),document.body)}},47368:function(e,t,n){"use strict";n.d(t,{p:function(){return x}});var a=n(70655),r=n(50146),i=n(71577),l=n(56256),o=n(67294),s=n(437),c=n(50168),d=n(97809),u=n(53867),m=n(93379),p=n.n(m),f=n(7795),w=n.n(f),v=n(90569),h=n.n(v),E=n(3565),y=n.n(E),g=n(19216),C=n.n(g),b=n(44589),N=n.n(b),Z=n(49857),S={};S.styleTagTransform=N(),S.setAttributes=y(),S.insert=h().bind(null,"head"),S.domAPI=w(),S.insertStyleElement=C(),p()(Z.Z,S),Z.Z&&Z.Z.locals&&Z.Z.locals;var x=function(e){var t=e.header,n=e.placeholder,m=e.value,p=e.onSave,f=e.onCancel,w=e.visible,v=(0,s.$)().t,h=(0,a.CR)((0,o.useState)(!1),2),E=h[0],y=h[1],g=(0,o.useRef)();return o.createElement(r.Z,{centered:!0,destroyOnClose:!0,className:"description-markdown-editor",closable:!1,"data-testid":"markdown-editor",footer:[o.createElement(i.Z,{"data-testid":"cancel",disabled:E,key:"cancelButton",type:"link",onClick:f},v("label.cancel")),o.createElement(i.Z,{"data-testid":"save",key:"saveButton",type:"primary",onClick:function(){return(0,a.mG)(void 0,void 0,void 0,(function(){var e,t,n;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(!g.current)return[3,5];y(!0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,null==p?void 0:p(null!==(n=null===(t=g.current)||void 0===t?void 0:t.getEditorContent().trim())&&void 0!==n?n:"")];case 2:return a.sent(),[3,5];case 3:return e=a.sent(),(0,c.Eo)(e),[3,5];case 4:return y(!1),[7];case 5:return[2]}}))}))}},E?o.createElement(u.Z,{size:"small",type:"white"}):v("label.save"))],open:w,title:o.createElement(l.Z.Text,{"data-testid":"header"},t),width:"90%",onCancel:f},o.createElement(d.Z,{initialValue:m,placeHolder:n,ref:g}))}},60819:function(e,t,n){"use strict";var a=n(94184),r=n.n(a),i=n(67294),l=n(52046),o=n(27300);t.Z=function(e){var t=e.header,n=e.headerClassName,a=e.onCancel,s=e.createThread,c=e.threadLink,d=e.defaultValue;return i.createElement("dialog",{className:"tw-modal","data-testid":"modal-container"},i.createElement("div",{className:"tw-modal-backdrop",onClick:a}),i.createElement("div",{className:"tw-modal-container tw-w-2/4 tw-pb-0 tw-pt-2"},i.createElement("div",{className:r()("tw-modal-header tw-pb-2",n)},i.createElement("p",{className:"tw-modal-title","data-testid":"modal-header"},t),i.createElement("div",{className:"tw-flex"},i.createElement("svg",{className:"tw-w-6 tw-h-6 tw-ml-1 tw-cursor-pointer","data-testid":"closeWhatsNew",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",onClick:a},i.createElement("path",{d:"M6 18L18 6M6 6l12 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1"})))),i.createElement("div",{className:r()("tw-px-0 tw-py-3"),"data-testid":"body-text"},i.createElement(o.Z,{buttonClass:"tw-mr-4 tw-pb-3",defaultValue:d,onSave:function(e){var t,n,r,i=null!==(n=null===(t=l.Z.userDetails)||void 0===t?void 0:t.name)&&void 0!==n?n:null===(r=l.Z.users[0])||void 0===r?void 0:r.name;s({message:e,from:i,about:c}),a()}}))))}},8851:function(e,t,n){"use strict";var a=n(94184),r=n.n(a),i=n(96486),l=n(67294),o=n(48132);t.Z=function(e){var t=e.activeTab,n=e.setActiveTab,a=e.tabs,s=e.className,c=void 0===s?"":s,d=e.rightPosButton,u=function(e,t){return"tw-gh-tabs tw-px-0 tw-pt-2 tw-mr-8"+(t===e?" active":"")};return l.createElement("div",{className:r()("tw-bg-transparent",c)},l.createElement("nav",{className:"tw-flex tw-items-center tw-justify-between tw-gh-tabs-container","data-testid":"tabs",id:"tabs"},l.createElement("div",{className:"tw-flex tw-flex-grow"},a.map((function(e){return e.isHidden?null:l.createElement("button",{className:u(e.position,t),"data-testid":e.name,id:(0,i.camelCase)(e.name),key:e.position,onClick:function(){return null==n?void 0:n(e.position)}},e.name,(0,i.isNil)(e.count)?null:(0,o.yh)(e.count,"",e.position===t))}))),d))}},9632:function(e,t,n){"use strict";var a=n(70655),r=n(55241),i=n(94184),l=n.n(i),o=n(67800),s=n(96486),c=n(67294),d=n(59293),u=n(58369),m=n(31615),p=n(48132),f=n(22215),w=n(38464),v=n(44355),h=n(50168),E=n(47368),y=n(80131);t.Z=function(e){var t=e.className,n=e.hasEditAccess,i=e.onDescriptionEdit,g=e.description,C=void 0===g?"":g,b=e.isEdit,N=e.onCancel,Z=e.onDescriptionUpdate,S=e.isReadOnly,x=void 0!==S&&S,T=e.removeBlur,k=void 0!==T&&T,A=e.entityName,R=e.entityFieldThreads,P=e.onThreadLinkSelect,O=e.entityType,I=e.entityFqn,F=e.entityFieldTasks,L=(0,d.k6)(),D=null==R?void 0:R[0],B=null==F?void 0:F[0],H=function(){L.push((0,v.Ie)(O,I))},V=function(){L.push((0,v.Q3)(O,I))},_=function(){i&&i()},q=function(){var e=Boolean(C.trim());return v.GZ.includes(O)?c.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none link-text focus:tw-outline-none","data-testid":"request-entity-description",onClick:e?V:H},c.createElement(r.Z,{destroyTooltipOnHide:!0,content:e?"Request update description":"Request description",overlayClassName:"ant-popover-request-description",trigger:"hover",zIndex:9999},c.createElement(w.ZP,{alt:"request-description",icon:w.PJ.REQUEST,width:"16px"}))):null},M=function(e){var t=e.descriptionThread;return(0,s.isUndefined)(t)?c.createElement(c.Fragment,null,(null==C?void 0:C.trim())&&P?c.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none link-text focus:tw-outline-none","data-testid":"start-description-thread",onClick:function(){return null==P?void 0:P((0,f.ec)(O,I,u.Sn.DESCRIPTION))}},c.createElement(w.ZP,{alt:"comments",icon:w.PJ.COMMENT_PLUS,width:"16px"})):null):c.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none link-text focus:tw-outline-none","data-testid":"description-thread",onClick:function(){return null==P?void 0:P(t.entityLink)}},c.createElement("span",{className:"tw-flex"},c.createElement(w.ZP,{alt:"comments",icon:w.PJ.COMMENT,width:"16px"})," ",c.createElement("span",{className:"tw-ml-1","data-testid":"description-thread-count"}," ",t.count)))};return c.createElement("div",{className:"schema-description tw-relative "+t},c.createElement("div",{className:"tw-flex description-inner-main-container tw-items-end"},c.createElement("div",{className:"tw-relative"},c.createElement("div",{className:"description tw-h-full tw-overflow-y-scroll tw-relative ","data-testid":"description",id:"center"},(null==C?void 0:C.trim())?c.createElement(y.Z,{enableSeeMoreVariant:!k,markdown:C}):c.createElement("span",{className:"tw-no-description p-y-xs"},(0,o.t)("label.no-description"))),c.createElement(E.p,{header:(0,o.t)("label.edit-description-for",{entityName:A}),placeholder:(0,o.t)("label.enter-description"),value:C,visible:Boolean(b),onCancel:N,onSave:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:if(!Z||!(0,s.isFunction)(Z))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,Z(e)];case 2:return n.sent(),N&&N(),[3,4];case 3:return t=n.sent(),(0,h.Eo)(t),[3,4];case 4:return[2]}}))}))}})),c.createElement((function(){return x?null:c.createElement("div",{className:l()("tw-w-5 tw-min-w-max tw-flex")},n&&c.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none focus:tw-outline-none","data-testid":"edit-description",onClick:_},c.createElement(w.ZP,{alt:"edit",icon:"icon-edit",title:"Edit",width:"16px"})),(0,p.nq)(O)?c.createElement(c.Fragment,null," ",c.createElement(q,null),(0,s.isUndefined)(B)?null:c.createElement("button",{className:"tw-w-7 tw-h-7 tw-mr-2 tw-flex-none link-text focus:tw-outline-none","data-testid":"description-task",onClick:function(){return null==P?void 0:P(B.entityLink,m.Th.Task)}},c.createElement("span",{className:"tw-flex"},c.createElement(w.ZP,{alt:"tasks",icon:w.PJ.TASK_ICON,width:"16px"})," ",c.createElement("span",{className:"tw-ml-1","data-testid":"description-tasks-count"}," ",B.count)))):null,c.createElement(M,{descriptionThread:D}))}),null)))}},41693:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a,r=n(70655),i=n(51436),l=n(67814),o=n(67294);!function(e){e.BEFORE="before",e.AFTER="after"}(a||(a={}));var s=n(10584),c=function(e,t){return Math.ceil(t/e)},d=function(e){var t=e.paging,n=e.pagingHandler,d=e.totalCount,u=e.pageSize,m=e.isNumberBased,p=void 0!==m&&m,f=e.currentPage,w=(0,r.CR)((0,o.useState)(1),2),v=w[0],h=w[1];return(0,o.useEffect)((function(){h(f)}),[f]),o.createElement("div",{className:"tw-my-4 tw-flex tw-justify-center tw-items-center tw-gap-2","data-testid":"pagination"},o.createElement(s.z,{className:"tw-rounded tw-w-24  tw-px-3 tw-py-1.5 tw-text-sm","data-testid":"previous",disabled:p?1===v:!t.before,size:"custom",theme:"primary",variant:"outlined",onClick:function(){h(v-1),p?n(v-1):n(a.BEFORE,v-1)}},o.createElement(l.G,{className:"tw-text-sm tw-align-middle tw-pr-1.5",icon:i.acZ})," ",o.createElement("span",null,"Previous")),o.createElement("span",{className:"tw-px-2","data-testid":"page-indicator"},v+"/"+c(u,d)+" Page"),o.createElement(s.z,{className:"tw-rounded tw-w-24 tw-px-3 tw-py-1.5 tw-text-sm","data-testid":"next",disabled:function(){if(p){var e=c(u,d);return v===e}return!t.after}(),size:"custom",theme:"primary",variant:"outlined",onClick:function(){h(v+1),p?n(v+1):n(a.AFTER,v+1)}},o.createElement("span",null," Next")," ",o.createElement(l.G,{className:"tw-text-sm tw-align-middle tw-pl-1.5",icon:i.eFW})))}},51193:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ne}});var a=n(70655),r=n(71230),i=n(15746),l=n(19650),o=n(25213),s=n(60236),c=n(96486),d=n(67674),u=n(67294),m=n(437),p=n(97882),f=n(59293),w=n(52046),v=n(41912),h=n(13950),E=n(22001),y=n(19521),g=n(9632),C=n(41603),b=n(4142),N=n(28178),Z=n(41693),S=n(80131),x=n(8851),T=n(84419),k=n(74380),A=n(53867),R=n(60819),P=n(93389),O=n(79839),I=n(73213),F=n(62761),L=n(58369),D=n(96162),B=n(20615),H=n(64632),V=n(89204),_=n(55546),q=n(51887),M=n(6929),j=n(48132),z=n(67800),G=[{name:z.ZP.t("label.schemas"),path:"schemas"},{name:z.ZP.t("label.activity-feeds"),path:"activity_feed",field:H.GB.ACTIVITY_FEED}],J=function(e){return"activity_feed"===e?2:1},K=n(22215),U=n(89987),Q=n(31982),W=n(39570),Y=n(96840),$=n(35892),X=n(81274),ee=n(19790),te=n(50168),ne=(0,d.Pi)((function(){var e,t,n,d,z,ne,ae,re,ie,le,oe=(0,m.$)().t,se=(0,a.CR)((0,u.useState)([]),2),ce=se[0],de=se[1],ue=(0,P.BL)().getEntityPermissionByFqn,me=(0,f.UO)(),pe=me.databaseFQN,fe=me.tab,we=(0,a.CR)((0,u.useState)(!0),2),ve=we[0],he=we[1],Ee=(0,a.CR)((0,u.useState)(),2),ye=Ee[0],ge=Ee[1],Ce=(0,a.CR)((0,u.useState)(),2),be=Ce[0],Ne=Ce[1],Ze=(0,a.CR)((0,u.useState)([]),2),Se=Ze[0],xe=Ze[1],Te=(0,a.CR)((0,u.useState)(pe.split(I.o).slice(-1).pop()||""),2),ke=Te[0],Ae=Te[1],Re=(0,a.CR)((0,u.useState)(!1),2),Pe=Re[0],Oe=Re[1],Ie=(0,a.CR)((0,u.useState)(""),2),Fe=Ie[0],Le=Ie[1],De=(0,a.CR)((0,u.useState)(""),2),Be=De[0],He=De[1],Ve=(0,a.CR)((0,u.useState)(F.OQ),2),_e=Ve[0],qe=Ve[1],Me=(0,a.CR)((0,u.useState)(0),2),je=Me[0],ze=Me[1],Ge=(0,a.CR)((0,u.useState)(J(fe)),2),Je=Ge[0],Ke=Ge[1],Ue=(0,a.CR)((0,u.useState)(""),2),Qe=Ue[0],We=Ue[1],Ye=(0,a.CR)((0,u.useState)([]),2),$e=Ye[0],Xe=Ye[1],et=(0,a.CR)((0,u.useState)(!1),2),tt=et[0],nt=et[1],at=(0,a.CR)((0,u.useState)(0),2),rt=at[0],it=at[1],lt=(0,a.CR)((0,u.useState)([]),2),ot=lt[0],st=lt[1],ct=(0,a.CR)((0,u.useState)(""),2),dt=ct[0],ut=ct[1],mt=(0,a.CR)((0,u.useState)(""),2),pt=mt[0],ft=mt[1],wt=(0,a.CR)((0,u.useState)({}),2),vt=wt[0],ht=wt[1],Et=(0,a.CR)((0,q.M)(B.a),2),yt=Et[0],gt=Et[1],Ct=(0,a.CR)((0,u.useState)(1),2),bt=Ct[0],Nt=Ct[1],Zt=(0,f.k6)(),St=(0,u.useRef)(!0),xt=(0,a.CR)((0,u.useState)(W.Bd),2),Tt=xt[0],kt=xt[1],At=[{name:"Schemas",icon:{alt:"schemas",name:"schema-grey",title:"Schemas",selectedName:"schemas"},count:je,isProtected:!1,position:1},{name:"Activity Feeds",icon:{alt:"activity_feed",name:"activity_feed",title:"Activity Feed",selectedName:"activity-feed-color"},isProtected:!1,position:2,count:rt}],Rt=[{key:"Owner",value:"team"===(null===(e=null==ye?void 0:ye.owner)||void 0===e?void 0:e.type)?(0,F.bV)((null===(t=null==ye?void 0:ye.owner)||void 0===t?void 0:t.displayName)||(null===(n=null==ye?void 0:ye.owner)||void 0===n?void 0:n.name)||""):(null===(d=null==ye?void 0:ye.owner)||void 0===d?void 0:d.displayName)||(null===(z=null==ye?void 0:ye.owner)||void 0===z?void 0:z.name)||"",placeholderText:(null===(ne=null==ye?void 0:ye.owner)||void 0===ne?void 0:ne.displayName)||(null===(ae=null==ye?void 0:ye.owner)||void 0===ae?void 0:ae.name)||"",isLink:"team"===(null===(re=null==ye?void 0:ye.owner)||void 0===re?void 0:re.type),openInNewTab:!1,profileName:(null===(ie=null==ye?void 0:ye.owner)||void 0===ie?void 0:ie.type)===_.jc.USER?null===(le=null==ye?void 0:ye.owner)||void 0===le?void 0:le.name:void 0}],Pt=function(e){return new Promise((function(t,n){(0,v.M_)(pe,e,["owner","usageSummary"]).then((function(e){if(!e.data)throw xe([]),qe(F.OQ),M.Z["api-error-messages"]["unexpected-server-response"];xe(e.data),qe(e.paging),ze(e.paging.total),t()})).catch((function(e){(0,te.Eo)(e,M.Z["api-error-messages"]["fetch-database-schemas-error"]),n()}))}))},Ot=function(){(0,h.Kg)((0,K.ec)(H.py.DATABASE,pe)).then((function(e){if(!e)throw M.Z["api-error-messages"]["unexpected-server-response"];it(e.totalCount),st(e.counts)})).catch((function(e){(0,te.Eo)(e,M.Z["api-error-messages"]["fetch-entity-feed-count-error"])}))},It=function(e){var t=[];return ye&&(t=(0,s.qu)(ye,e)),(0,v.SI)(Be,t)},Ft=function(e){var t=e-1;G[t].path!==fe&&(Ke(e),Zt.push({pathname:(0,F.aY)(pe,G[t].path)}))},Lt=function(e){var t=(0,a.pi)((0,a.pi)({},ye),{owner:(0,a.pi)((0,a.pi)({},null==ye?void 0:ye.owner),e)});return new Promise((function(e,n){It(t).then((function(e){if(!e)throw n(),M.Z["api-error-messages"]["unexpected-server-response"];ge(e),n()})).catch((function(e){(0,te.Eo)(e,M.Z["api-error-messages"]["update-database-error"]),n()}))}))},Dt=function(){var e=(0,a.pi)((0,a.pi)({},ye),{owner:void 0});return new Promise((function(t,n){It(e).then((function(e){if(!e)throw n(),M.Z["api-error-messages"]["unexpected-server-response"];ge(e),t()})).catch((function(e){(0,te.Eo)(e,M.Z["api-error-messages"]["update-database-error"]),n()}))}))},Bt=function(e){nt(!0),(0,h.XG)((0,K.ec)(H.py.DATABASE,pe),e).then((function(e){var t=e.data,n=e.paging;if(!t)throw M.Z["api-error-messages"]["unexpected-server-response"];ht(n),Xe((function(e){return(0,a.ev)((0,a.ev)([],(0,a.CR)(e)),(0,a.CR)(t))}))})).catch((function(e){(0,te.Eo)(e,M.Z["api-error-messages"]["fetch-entity-feed-error"])})).finally((function(){return nt(!1)}))},Ht=function(e,t){var n,r,i,l={message:e,from:null!==(r=null===(n=w.Z.userDetails)||void 0===n?void 0:n.name)&&void 0!==r?r:null===(i=w.Z.users[0])||void 0===i?void 0:i.name};(0,h.Z1)(t,l).then((function(e){if(!e)throw M.Z["api-error-messages"]["unexpected-server-response"];var t=e.id,n=e.posts;Xe((function(r){return r.map((function(r){return r.id===t?(0,a.pi)((0,a.pi)({},e),{posts:null==n?void 0:n.slice(-3)}):r}))})),Ot()})).catch((function(e){(0,te.Eo)(e,M.Z["api-error-messages"]["add-feed-error"])}))},Vt=function(e){(0,h.Kl)(e).then((function(e){e?(Xe((function(t){return(0,a.ev)((0,a.ev)([],(0,a.CR)(t)),[e])})),Ot()):(0,te.Eo)(M.Z["api-error-messages"]["unexpected-server-response"])})).catch((function(e){(0,te.Eo)(e,M.Z["api-error-messages"]["create-conversation-error"])}))},_t=function(e,t,n){(0,Q.fR)(e,t,n,Xe)},qt=function(e,t,n,a){(0,Q.jw)(e,t,n,a,Xe)};(0,u.useEffect)((function(){Ot()}),[]),(0,u.useEffect)((function(){!St.current&&w.Z.inPageSearchText&&Zt.push((0,Y.LB)(w.Z.inPageSearchText,void 0,"postFilter[serviceType][0]="+be+"&postFilter[database.name.keyword][0]="+ke))}),[w.Z.inPageSearchText]),(0,u.useEffect)((function(){if(Tt.ViewAll||Tt.ViewBasic){var e=J(fe);At[e-1].isProtected&&Ft(1),(0,v.o6)(pe,["owner"]).then((function(e){var t;if(!e)throw M.Z["api-error-messages"]["unexpected-server-response"];var n=e.description,a=e.id,r=e.name,i=e.service,l=e.serviceType;ge(e),Le(null!=n?n:""),He(null!=a?a:""),Ae(r),Ne(l),de([{name:(0,c.startCase)(V.u.DATABASE_SERVICES),url:(0,Y.si)(D.CZ.SERVICES,(0,$.tJ)(V.u.DATABASE_SERVICES))},{name:null!==(t=i.name)&&void 0!==t?t:"",url:i.name?(0,F.LE)(i.name,V.u.DATABASE_SERVICES):"",imgSrc:l?(0,$.zF)(l):void 0},{name:(0,j.C_)(e),url:"",activeTitle:!0}]),he(!0),Promise.allSettled([Pt()]).finally((function(){he(!1)}))})).catch((function(e){var t=(0,X.HR)(e,M.Z["api-error-messages"]["fetch-database-details-error"]);We(t),(0,te.Eo)(t)})).finally((function(){he(!1)}))}}),[Tt,pe]),(0,u.useEffect)((function(){H.GB.ACTIVITY_FEED===fe?Bt():Xe([])}),[fe]),(0,u.useEffect)((function(){var e,t;e=vt,t=tt,gt&&(null==e?void 0:e.after)&&!t&&Bt(e.after)}),[gt,vt,tt]),(0,u.useEffect)((function(){(0,a.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:he(!0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,ue(O.A.DATABASE,pe)];case 2:return e=n.sent(),kt(e),[3,5];case 3:return t=n.sent(),(0,te.Eo)(t),[3,5];case 4:return he(!1),[7];case 5:return[2]}}))}))}),[pe]),(0,u.useEffect)((function(){St.current=!1,w.Z.inPageSearchText=""}),[]);var Mt=(0,u.useMemo)((function(){return[{title:oe("label.schema-name"),dataIndex:"name",key:"name",render:function(e,t){return u.createElement(p.Link,{to:t.fullyQualifiedName?(0,F.vh)(t.fullyQualifiedName):""},e)}},{title:oe("label.description"),dataIndex:"description",key:"description",render:function(e){return(null==e?void 0:e.trim())?u.createElement(S.Z,{markdown:e}):u.createElement("span",{className:"text-grey-muted"},"No description")}},{title:oe("label.owner"),dataIndex:"owner",key:"owner",render:function(e){return(0,j.C_)(e)||"--"}},{title:oe("label.usage"),dataIndex:"usageSummary",key:"usageSummary",render:function(e){var t;return(0,ee.Vm)((null===(t=null==e?void 0:e.weeklyStats)||void 0===t?void 0:t.percentileRank)||0)}}]}),[]);return u.createElement(u.Fragment,null,ve?u.createElement(A.Z,null):Qe?u.createElement(N.Z,null,u.createElement("p",{"data-testid":"error-message"},Qe)):u.createElement(u.Fragment,null,Tt.ViewAll||Tt.ViewBasic?u.createElement(k.Z,null,u.createElement(r.Z,{className:" p-x-md p-t-lg","data-testid":"page-container",gutter:[0,12]},u.createElement(i.Z,{span:24},u.createElement(l.Z,{align:"center",className:"justify-between w-full"},u.createElement(T.Z,{titleLinks:ce}),u.createElement(C.Z,{isRecursiveDelete:!0,allowSoftDelete:!1,canDelete:Tt.Delete,entityFQN:pe,entityId:Be,entityName:ke,entityType:H.py.DATABASE}))),u.createElement(i.Z,{span:24},Rt.map((function(e,t){return u.createElement(l.Z,{key:t},u.createElement(b.Z,{currentOwner:null==ye?void 0:ye.owner,data:e,removeOwner:Dt,updateOwner:Tt.EditOwner||Tt.EditAll?Lt:void 0}))}))),u.createElement(i.Z,{"data-testid":"description-container",span:24},u.createElement(g.Z,{description:Fe,entityFieldThreads:(0,Q.S$)(L.Sn.DESCRIPTION,ot),entityFqn:pe,entityName:ke,entityType:H.py.DATABASE,hasEditAccess:Tt.EditDescription||Tt.EditAll,isEdit:Pe,onCancel:function(){Oe(!1)},onDescriptionEdit:function(){Oe(!0)},onDescriptionUpdate:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:if(Fe===e||!ye)return[3,6];t=(0,a.pi)((0,a.pi)({},ye),{description:e}),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,It(t)];case 2:if(!r.sent())throw M.Z["api-error-messages"]["unexpected-server-response"];return ge(t),Le(e),Ot(),[3,5];case 3:return n=r.sent(),(0,te.Eo)(n),[3,5];case 4:return Oe(!1),[7];case 5:return[3,7];case 6:Oe(!1),r.label=7;case 7:return[2]}}))}))},onEntityFieldSelect:function(e){ft(e)},onThreadLinkSelect:function(e){ut(e)}})),u.createElement(i.Z,{span:24},u.createElement(r.Z,{className:"m-t-md"},u.createElement(i.Z,{span:24},u.createElement(x.Z,{activeTab:Je,className:"flex-initial",setActiveTab:Ft,tabs:At})),u.createElement(i.Z,{className:"p-y-md",span:24},1===Je&&u.createElement(u.Fragment,null,u.createElement(o.Z,{bordered:!0,className:"table-shadow",columns:Mt,"data-testid":"database-databaseSchemas",dataSource:Se,pagination:!1,rowKey:"id",size:"small"}),Boolean(!(0,c.isNil)(_e.after)||!(0,c.isNil)(_e.before))&&u.createElement(Z.Z,{currentPage:bt,pageSize:F.IV,paging:_e,pagingHandler:function(e,t){var n="&"+e+"="+_e[e];he(!0),Pt(n).finally((function(){he(!1)})),Nt(null!=t?t:1)},totalCount:_e.total})),2===Je&&u.createElement(r.Z,{className:"p-t-xss entity-feed-list bg-white border-1 rounded-4 shadow-base h-full",id:"activityfeed"},u.createElement(i.Z,{offset:4,span:16},u.createElement(E.Z,{hideFeedFilter:!0,hideThreadFilter:!0,isEntityFeed:!0,withSidePanel:!0,className:"",deletePostHandler:_t,entityName:ke,feedList:$e,postFeedHandler:Ht,updateThreadHandler:qt}))),u.createElement(i.Z,{"data-testid":"observer-element",id:"observer-element",ref:yt,span:24},tt?u.createElement(A.Z,null):null)))),u.createElement(i.Z,{span:24},dt?u.createElement(y.Z,{createThread:Vt,deletePostHandler:_t,open:Boolean(dt),postFeedHandler:Ht,threadLink:dt,updateThreadHandler:qt,onCancel:function(){ut("")}}):null),u.createElement(i.Z,{span:24},pt?u.createElement(R.Z,{createThread:Vt,defaultValue:(0,U.o)(null==ye?void 0:ye.owner),header:oe("label.request-description"),threadLink:(0,K.ec)(H.py.DATABASE,pe,pt),onCancel:function(){ft("")}}):null))):u.createElement(N.Z,null,oe("message.no-permission-to-view"))))}))},89987:function(e,t,n){"use strict";n.d(t,{h:function(){return d},o:function(){return u}});var a=n(96486),r=n(67294),i=n(58369),l=n(31615),o=n(22215),s=n(31982),c=n(38464),d=function(e,t,n,i,d,u,m,p,f){void 0===p&&(p=!0);var w={};null==n||n.forEach((function(n){var a=(0,s.VP)(n.entityField);a[0]===e&&a[1]===t&&(w=n)}));var v=(0,a.isEqual)(f,l.Th.Task);return(0,a.isEmpty)(w)?r.createElement(r.Fragment,null,d&&u&&m&&p&&!v?r.createElement("button",{className:"link-text tw-self-start tw-w-7 tw-h-7 tw-mr-1 tw-flex-none hover-cell-icon","data-testid":"start-field-thread",onClick:function(e){e.preventDefault(),e.stopPropagation(),null==i||i((0,o.ec)(d,u,m))}},r.createElement(c.ZP,{alt:"comments",icon:c.PJ.COMMENT_PLUS,width:"16px"})):null):r.createElement("button",{className:"link-text tw-self-start tw-w-7 tw-h-7 tw-mr-1 tw-flex tw-items-center hover-cell-icon","data-testid":"field-thread",onClick:function(e){e.preventDefault(),e.stopPropagation(),null==i||i(w.entityLink,v?l.Th.Task:l.Th.Conversation)}},r.createElement(c.ZP,{alt:"comments",className:"tw-mt-0.5",height:"16px",icon:v?c.PJ.TASK_ICON:c.PJ.COMMENT,width:"16px"}),r.createElement("span",{className:"tw-ml-1","data-testid":"field-thread-count"},w.count))},u=function(e){var t="Can you add a description?";if((0,a.isUndefined)(e))return""+t;var n=e.name,r=e.displayName,l=e.type;return"<a href=/"+i.Gq[l]+"/"+n+">@"+r+"</a> "+t}}}]);