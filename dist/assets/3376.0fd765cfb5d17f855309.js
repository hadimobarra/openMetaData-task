/*! For license information please see 3376.0fd765cfb5d17f855309.js.LICENSE.txt */
(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[3376],{97183:function(e,t,a){"use strict";var n=a(2897),r=a(78457),l=n.ZP;l.Header=n.h4,l.Footer=n.$_,l.Content=n.VY,l.Sider=r.Z,t.Z=l},12028:function(e,t,a){"use strict";a.d(t,{Z:function(){return k}});var n=a(87462),r=a(4942),l=a(7085),i=a(36228),s=a.n(i),o=a(23653),c=a(8384),d=a(67294),u=a(54433),m=a.n(u),p=a(21770),f=a(15105),w=d.forwardRef((function(e,t){var a,n=e.prefixCls,l=void 0===n?"rc-switch":n,i=e.className,s=e.checked,u=e.defaultChecked,w=e.disabled,v=e.loadingIcon,g=e.checkedChildren,y=e.unCheckedChildren,E=e.onClick,b=e.onChange,h=e.onKeyDown,k=(0,c.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),N=(0,p.Z)(!1,{value:s,defaultValue:u}),x=(0,o.Z)(N,2),C=x[0],Z=x[1];function S(e,t){var a=C;return w||(Z(a=e),null==b||b(a,t)),a}var T=m()(l,i,(a={},(0,r.Z)(a,"".concat(l,"-checked"),C),(0,r.Z)(a,"".concat(l,"-disabled"),w),a));return d.createElement("button",Object.assign({},k,{type:"button",role:"switch","aria-checked":C,disabled:w,className:T,ref:t,onKeyDown:function(e){e.which===f.Z.LEFT?S(!1,e):e.which===f.Z.RIGHT&&S(!0,e),null==h||h(e)},onClick:function(e){var t=S(!C,e);null==E||E(t,e)}}),v,d.createElement("span",{className:"".concat(l,"-inner")},C?g:y))}));w.displayName="Switch";var v=w,g=a(53124),y=a(98866),E=a(97647),b=a(21790),h=d.forwardRef((function(e,t){var a,i=e.prefixCls,o=e.size,c=e.disabled,u=e.loading,m=e.className,p=void 0===m?"":m,f=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["prefixCls","size","disabled","loading","className"]),w=d.useContext(g.E_),h=w.getPrefixCls,k=w.direction,N=d.useContext(E.Z),x=d.useContext(y.Z),C=(null!=c?c:x)||u,Z=h("switch",i),S=d.createElement("div",{className:"".concat(Z,"-handle")},u&&d.createElement(l.Z,{className:"".concat(Z,"-loading-icon")})),T=s()((a={},(0,r.Z)(a,"".concat(Z,"-small"),"small"===(o||N)),(0,r.Z)(a,"".concat(Z,"-loading"),u),(0,r.Z)(a,"".concat(Z,"-rtl"),"rtl"===k),a),p);return d.createElement(b.Z,{insertExtraNode:!0},d.createElement(v,(0,n.Z)({},f,{prefixCls:Z,className:T,disabled:C,ref:t,loadingIcon:S})))}));h.__ANT_SWITCH=!0;var k=h},60331:function(e,t,a){"use strict";a.d(t,{Z:function(){return y}});var n=a(4942),r=a(87462),l=a(23653),i=a(54549),s=a(36228),o=a.n(s),c=a(98423),d=a(67294),u=a(53124),m=a(98787),p=a(21790),f=new RegExp("^(".concat(m.Y.join("|"),")(-inverse)?$")),w=new RegExp("^(".concat(m.E.join("|"),")$")),v=function(e,t){var a,s=e.prefixCls,m=e.className,v=e.style,g=e.children,y=e.icon,E=e.color,b=e.onClose,h=e.closeIcon,k=e.closable,N=void 0!==k&&k,x=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),C=d.useContext(u.E_),Z=C.getPrefixCls,S=C.direction,T=d.useState(!0),O=(0,l.Z)(T,2),q=O[0],R=O[1];d.useEffect((function(){"visible"in x&&R(x.visible)}),[x.visible]);var A=function(){return!!E&&(f.test(E)||w.test(E))},F=(0,r.Z)({backgroundColor:E&&!A()?E:void 0},v),D=A(),P=Z("tag",s),I=o()(P,(a={},(0,n.Z)(a,"".concat(P,"-").concat(E),D),(0,n.Z)(a,"".concat(P,"-has-color"),E&&!D),(0,n.Z)(a,"".concat(P,"-hidden"),!q),(0,n.Z)(a,"".concat(P,"-rtl"),"rtl"===S),a),m),j=function(e){e.stopPropagation(),null==b||b(e),e.defaultPrevented||"visible"in x||R(!1)},_="onClick"in x||g&&"a"===g.type,B=(0,c.Z)(x,["visible"]),V=y||null,H=V?d.createElement(d.Fragment,null,V,d.createElement("span",null,g)):g,L=d.createElement("span",(0,r.Z)({},B,{ref:t,className:I,style:F}),H,N?h?d.createElement("span",{className:"".concat(P,"-close-icon"),onClick:j},h):d.createElement(i.Z,{className:"".concat(P,"-close-icon"),onClick:j}):null);return _?d.createElement(p.Z,null,L):L},g=d.forwardRef(v);g.CheckableTag=function(e){var t,a=e.prefixCls,l=e.className,i=e.checked,s=e.onChange,c=e.onClick,m=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]])}return a}(e,["prefixCls","className","checked","onChange","onClick"]),p=(0,d.useContext(u.E_).getPrefixCls)("tag",a),f=o()(p,(t={},(0,n.Z)(t,"".concat(p,"-checkable"),!0),(0,n.Z)(t,"".concat(p,"-checkable-checked"),i),t),l);return d.createElement("span",(0,r.Z)({},m,{className:f,onClick:function(e){null==s||s(!i),null==c||c(e)}}))};var y=g},71068:function(e,t,a){"use strict";var n=a(8081),r=a.n(n),l=a(23645),i=a.n(l)()(r());i.push([e.id,".assignee-tag {\n  display: flex;\n  align-items: center;\n  padding: 2px 3px;\n  margin: 1px 2px;\n}\n",""]),t.Z=i},54433:function(e,t){var a;!function(){"use strict";var n={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var a=arguments[t];if(a){var l=typeof a;if("string"===l||"number"===l)e.push(a);else if(Array.isArray(a)){if(a.length){var i=r.apply(null,a);i&&e.push(i)}}else if("object"===l){if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]")){e.push(a.toString());continue}for(var s in a)n.call(a,s)&&a[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(t,[]))||(e.exports=a)}()},78790:function(e,t,a){"use strict";var n=a(67294),r=a(31615),l=a(31982),i=a(53867),s=a(16583);t.Z=function(e){var t,a,o,c=e.threadData,d=e.className,u=e.isLoading,m=e.onConfirmation,p=e.updateThreadHandler,f=null!==(a=null===(t=null==c?void 0:c.posts)||void 0===t?void 0:t.length)&&void 0!==a?a:0,w={message:c.message,from:c.createdBy,postTs:c.threadTs,id:c.id,reactions:c.reactions};return n.createElement(n.Fragment,null,u?n.createElement(i.Z,null):n.createElement("div",{className:d,"data-testid":"panel-body"},c?n.createElement("div",{"data-testid":"main-message"},n.createElement(s.Z,{isEntityFeed:!0,isThread:!0,announcementDetails:c.announcement,className:"tw-mb-3",feed:w,feedType:c.type||r.Th.Conversation,threadId:c.id,updateThreadHandler:p,onConfirmation:m})):null,f>0?n.createElement("div",{"data-testid":"replies"},n.createElement("div",{className:"tw-mb-3 tw-flex"},n.createElement("span",{"data-testid":"replies-count"},(0,l.l9)(f,"reply","replies")),n.createElement("span",{className:"tw-flex-auto tw-self-center tw-ml-1.5"},n.createElement("hr",null))),null===(o=null==c?void 0:c.posts)||void 0===o?void 0:o.map((function(e,t){return n.createElement(s.Z,{isEntityFeed:!0,className:"tw-mb-3",feed:e,feedType:c.type||r.Th.Conversation,key:t,threadId:c.id,updateThreadHandler:p,onConfirmation:m})}))):null))}},10584:function(e,t,a){"use strict";a.d(t,{z:function(){return o}});var n=a(70655),r=a(45697),l=a.n(r),i=a(67294),s={base:"button-comp tw-align-bottom tw-inline-flex tw-items-center tw-justify-center tw-cursor-pointer \n    tw-leading-5 tw-transition-colors tw-duration-150 tw-font-medium focus:tw-outline-none",block:"tw-block tw-w-full",size:{large:"tw-px-5 tw-py-3 tw-rounded-lg",regular:"tw-px-4 tw-py-2 tw-rounded-lg tw-text-sm",small:"tw-px-2 tw-py-0.5 tw-rounded-md tw-text-sm","x-small":"tw-px-2 tw-py-px tw-rounded-md tw-text-xs",custom:""},contained:{default:{base:"tw-text-gray-600 tw-bg-gray-300 tw-border tw-border-transparent",active:"active:tw-bg-gray-400 hover:tw-bg-gray-400 focus:tw-ring focus:tw-ring-gray-300",disabled:"tw-opacity-50 tw-cursor-not-allowed"},primary:{base:"tw-text-white tw-bg-primary tw-border tw-border-transparent",active:"active:tw-bg-primary-active hover:tw-bg-primary-hover focus:tw-bg-primary-active focus:tw-ring focus:tw-ring-purple-300",disabled:"tw-opacity-50 tw-cursor-not-allowed"}},outlined:{default:{base:"tw-text-grey-muted tw-border-gray-300 tw-border dark:tw-text-gray-400 focus:tw-outline-none",active:"active:tw-bg-transparent hover:tw-border-gray-600 focus:tw-border-gray-600 \n      hover:tw-text-gray-600 active:tw-text-gray-600 focus:tw-ring focus:tw-ring-gray-300",disabled:"tw-opacity-50 tw-cursor-not-allowed"},primary:{base:"tw-text-primary tw-border-primary tw-border dark:tw-text-blue-300 focus:tw-outline-none",active:"active:tw-bg-transparent hover:tw-bg-primary hover:tw-text-white focus:tw-bg-primary \n      focus:tw-text-white active:tw-bg-primary active:tw-text-white focus:tw-ring focus:tw-ring-purple-300",disabled:"tw-opacity-50 tw-cursor-not-allowed"}},link:{default:{base:"tw-text-grey dark:tw-text-gray-400 focus:tw-outline-none",active:"active:tw-bg-transparent hover:tw-underline focus:tw-underline \n        hover:tw-text-gray-600 active:tw-text-gray-600",disabled:"tw-opacity-50 tw-cursor-not-allowed"},primary:{base:"tw-text-primary dark:tw-text-blue-300 focus:tw-outline-none",active:"active:tw-bg-transparent hover:tw-underline focus:tw-underline \n        hover:tw-text-primary-hover active:tw-text-primary-active",disabled:"tw-opacity-50 tw-cursor-not-allowed"}},text:{default:{base:"tw-text-grey-muted dark:tw-text-gray-400 focus:tw-outline-none",active:"active:tw-bg-transparent hover:tw-text-gray-600 active:tw-text-gray-600",disabled:"tw-opacity-50 tw-cursor-not-allowed"},primary:{base:"tw-text-primary dark:tw-text-blue-300 focus:tw-outline-none",active:"active:tw-bg-transparent hover:tw-text-primary-hover active:tw-text-primary-active",disabled:"tw-opacity-50 tw-cursor-not-allowed"}}},o=i.forwardRef((function(e,t){var a=e.block,r=void 0!==a&&a,l=e.children,o=e.className,c=void 0===o?"":o,d=e.disabled,u=void 0!==d&&d,m=e.size,p=void 0===m?"regular":m,f=e.tag,w=void 0===f?"button":f,v=e.theme,g=void 0===v?"default":v,y=e.type,E=void 0===y?"button"===w?"button":void 0:y,b=e.variant,h=void 0===b?"contained":b,k=(0,n._T)(e,["block","children","className","disabled","size","tag","theme","type","variant"]),N=s.base,x=s.block,C=s.size[p],Z=s[h][g].base,S=s[h][g].active,T=s[h][g].disabled,O=[N,C,Z,u?T:S,r?x:"",c].join(" ");return i.createElement(w,(0,n.pi)({className:O,ref:t,disabled:u,type:E},k),l)}));o.propTypes={block:l().bool,children:l().node,className:l().string,disabled:l().bool,tag:l().string,size:l().oneOf(["large","regular","small","x-small","custom"]),theme:l().oneOf(["default","primary"]),type:l().oneOf(["button","submit","reset"]),variant:l().oneOf(["contained","outlined","link","text"])},o.displayName="Button"},22535:function(e,t,a){"use strict";a.d(t,{w:function(){return s}});var n=a(19650),r=a(96486),l=a(67294),i=a(25577),s=function(e){var t=e.id,a=e.name;return(0,r.isUndefined)(t)&&(0,r.isUndefined)(a)?null:l.createElement(n.Z,{"data-testid":"user-tag"},l.createElement(i.Z,{id:t,name:a,width:"22"}),l.createElement("span",null,a))}},94726:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return ce}});var n=a(70655),r=a(51436),l=a(67814),i=a(97183),s=a(38222),o=a(91894),c=a(71577),d=a(13013),u=a(94184),m=a.n(u),p=a(60236),f=a(96486),w=a(67674),v=a(67294),g=a(437),y=a(59293),E=a(52046),b=a(96566),h=a(13950),k=a(27300),N=a(78790),x=a(82913),C=a(77863),Z=a(28178),S=a(46042),T=a(25577),O=a(84419),q=a(53867),R=a(73213),A=a(58369),F=a(31615),D=a(85087),P=a(22215),I=a(31982),j=a(81274),_=a(38464),B=a(19790),V=a(44355),H=a(87968),L=a(50168),U=a(25131),Q=function(e){var t=e.task;return v.createElement("div",{className:"tw-flex","data-testid":"task-closed"},v.createElement(S.Z,{userName:(null==t?void 0:t.closedBy)||""},v.createElement("span",{className:"tw-flex"},v.createElement(T.Z,{displayName:null==t?void 0:t.closedBy,id:"",name:(null==t?void 0:t.closedBy)||"",width:"20"}),v.createElement("span",{className:"tw-font-semibold tw-cursor-pointer hover:tw-underline tw-ml-1","data-testid":"task-closedby"},null==t?void 0:t.closedBy)," ")),v.createElement("span",{className:"tw-ml-1"}," closed this task "),v.createElement("span",{className:"tw-ml-1","data-testid":"task-closedAt"},(0,f.toLower)((0,H.rN)(null==t?void 0:t.closedAt))))},G=a(56256),z=function(e){var t,a=e.column;return(0,f.isEmpty)(a)||(0,f.isUndefined)(a)?null:v.createElement("div",{className:"tw-mb-4","data-testid":"column-details"},v.createElement("div",{className:"tw-flex"},v.createElement("span",{className:"tw-text-grey-muted tw-flex-none tw-mr-1","data-testid":"column-type"},"Column type:")," ",v.createElement(G.Z.Paragraph,{className:"ant-typography-ellipsis-custom",ellipsis:{rows:1,tooltip:!0}},a.dataTypeDisplay)),a.tags&&a.tags.length?v.createElement("div",{className:"tw-flex tw-mt-4","data-testid":"column-tags"},v.createElement(_.ZP,{alt:"icon-tag",className:"tw-mr-1",icon:"icon-tag-grey",width:"12"}),v.createElement("div",null,null===(t=a.tags.map((function(e){return"#"+e.tagFQN})))||void 0===t?void 0:t.join(" "))):null)},J=a(50146),M=a(97809),K=function(e){var t,a=e.taskDetail,n=e.comment,r=e.open,l=e.setComment,i=e.onClose,s=e.onConfirm,o=e.isLoading,c=(0,g.$)().t;return v.createElement(J.Z,{centered:!0,destroyOnClose:!0,cancelButtonProps:{type:"link",className:"ant-btn-link-custom"},closable:!1,confirmLoading:o,"data-testid":"comment-modal",okButtonProps:{disabled:!n,className:"ant-btn-primary-custom"},okText:"Close with comment",open:r,title:"Close Task #"+(null===(t=a.task)||void 0===t?void 0:t.id)+" "+a.message,width:900,onCancel:i,onOk:s},v.createElement(M.Z,{height:"208px",initialValue:n,placeHolder:c("label.add-comment"),style:{marginTop:"0px"},onTextChange:l}))},$=a(91238),X=a(36190),Y=function(e){var t,a,n,r=e.taskDetail,l=e.isTaskActionEdit,i=e.hasEditAccess,s=e.suggestion,o=e.currentDescription,c=e.onSuggestionChange,d=(0,v.useRef)(),u=(0,f.isEqual)(null===(t=r.task)||void 0===t?void 0:t.type,F.UA.RequestDescription),m=(0,f.isEqual)(null===(a=r.task)||void 0===a?void 0:a.type,F.UA.UpdateDescription),p=(0,f.isEqual)(null===(n=r.task)||void 0===n?void 0:n.status,F.aq.Closed),w=function(){var e,t,a=null===(e=null==r?void 0:r.task)||void 0===e?void 0:e.suggestion,n=null===(t=null==r?void 0:r.task)||void 0===t?void 0:t.oldValue,l=(0,V.up)(n||"",a||"");return a||n?v.createElement(X.E,{className:"tw-p-2",diffArr:l}):v.createElement("span",{className:"tw-p-2 tw-text-grey-muted"},"No Suggestion")};return v.createElement("div",{"data-testid":"task-description-tabs"},v.createElement("p",{className:"tw-text-grey-muted"},"Description:")," ",v.createElement(v.Fragment,null,p?function(){var e,t,a,n,l=null===(e=r.task)||void 0===e?void 0:e.oldValue,i=null===(t=r.task)||void 0===t?void 0:t.newValue;return l||i?v.createElement(X.E,{className:"tw-border tw-border-main tw-p-2 tw-rounded tw-my-1 tw-mb-3",diffArr:(0,V.up)((null===(a=null==r?void 0:r.task)||void 0===a?void 0:a.oldValue)||"",(null===(n=null==r?void 0:r.task)||void 0===n?void 0:n.newValue)||"")}):v.createElement("div",{className:"tw-border tw-border-main tw-p-2 tw-rounded tw-my-1 tw-mb-3"},v.createElement("span",{className:"tw-p-2 tw-text-grey-muted"},"No Description"))}():v.createElement("div",{"data-testid":"description-task"},u&&v.createElement("div",{"data-testid":"request-description"},l&&i?v.createElement(M.Z,{height:"208px",initialValue:s,placeHolder:"Add description",style:{marginTop:"0px"},onTextChange:c}):v.createElement("div",{className:"tw-flex tw-border tw-border-main tw-rounded tw-mb-4"},w())),m&&v.createElement("div",{"data-testid":"update-description"},l&&i?v.createElement($.Z,{description:o,markdownRef:d,suggestion:s,onChange:c}):v.createElement("div",{className:"tw-flex tw-border tw-border-main tw-rounded tw-mb-4"},w())))))},W=a(48132),ee=function(e){var t=e.entityData,a=(0,v.useMemo)((function(){var e,a=null===(e=(0,B.Zk)(t.tags||[]))||void 0===e?void 0:e.tagFQN;return null==a?void 0:a.split(R.o)[1]}),[t.tags]),n=(0,v.useMemo)((function(){return((0,B.nD)(t.tags||[])||[]).map((function(e){return"#"+e.tagFQN})).join("  ")}),[t.tags]);return v.createElement("div",{"data-testid":"entityDetail"},v.createElement("div",{className:"tw-flex tw-ml-6"},v.createElement("span",{className:"tw-text-grey-muted"},"Owner:")," ",v.createElement("span",null,t.owner?v.createElement("span",{className:"tw-flex tw-ml-1"},v.createElement(T.Z,{displayName:(0,W.C_)(t.owner),id:"",name:(0,W.C_)(t.owner),width:"20"}),v.createElement("span",{className:"tw-ml-1"},(0,W.C_)(t.owner))):v.createElement("span",{className:"tw-text-grey-muted tw-ml-1"},"No Owner")),v.createElement("span",{className:"tw-mx-1.5 tw-inline-block tw-text-gray-400"},"|"),v.createElement("p",{"data-testid":"tier"},a||v.createElement("span",{className:"tw-text-grey-muted"},"No Tier"))),v.createElement("p",{className:"tw-ml-6","data-testid":"tags"},n))},te=a(59295),ae=a(39379),ne=a(40501),re=a(58666),le=function(e){var t,a,n=e.suggestions,r=e.setSuggestion,l=e.isTaskActionEdit,i=e.hasEditAccess,s=e.task,o=e.currentTags,c=(null==s?void 0:s.type)===F.UA.RequestTag,d=(null==s?void 0:s.type)===F.UA.UpdateTag,u=(null==s?void 0:s.status)===F.aq.Closed,m=function(){var e=null==s?void 0:s.suggestion,t=null==s?void 0:s.oldValue;return e||t?v.createElement(ae._,{diffArr:(0,te.Bm)(JSON.parse(null!=t?t:"[]"),JSON.parse(null!=e?e:"[]"))}):v.createElement("span",{className:"tw-p-2 tw-text-grey-muted"},"No Suggestion")};return v.createElement("div",{"data-testid":"task-tags-tabs"},v.createElement("p",{className:"tw-text-grey-muted"},"Tags:")," ",v.createElement(v.Fragment,null,u?(t=null==s?void 0:s.oldValue,a=null==s?void 0:s.newValue,t||a?v.createElement(ae._,{diffArr:(0,te.Bm)(JSON.parse(null!=t?t:"[]"),JSON.parse(null!=a?a:"[]"))}):v.createElement("div",{className:"tw-border tw-border-main tw-p-2 tw-rounded tw-my-1 tw-mb-3"},v.createElement("span",{className:"tw-p-2 tw-text-grey-muted"},"No Tags"))):v.createElement("div",{"data-testid":"tags-task"},c&&v.createElement("div",{"data-testid":"request-tags"},l&&i?v.createElement(re.Z,{selectedTags:n,onChange:r}):m()),d&&v.createElement("div",{"data-testid":"update-tags"},l&&i?v.createElement(ne.X,{suggestedTags:n,tags:o,onChange:r}):m()))))},ie=function(e){var t=e.status,a=t===F.aq.Open,n=t===F.aq.Closed;return v.createElement("div",{className:m()("tw-rounded-3xl tw-px-2 tw-p-0",{"tw-bg-task-status-bg":a},{"tw-bg-gray-100":n}),"data-testid":"task-status"},v.createElement("span",{className:m()("tw-inline-block tw-w-2 tw-h-2 tw-rounded-full",{"tw-bg-task-status-fg":a},{"tw-bg-gray-500":n}),"data-testid":"task-status-badge"}),v.createElement("span",{className:m()("tw-ml-1",{"tw-text-task-status-fg":a},{"tw-text-gray-500":n}),"data-testid":"task-status-text"},t))},se=a(72468),oe=a(59923),ce=(0,w.Pi)((function(){var e,t,a,u,w,G,J,M,$,X,W,te=(0,g.$)().t,ae=(0,y.k6)(),ne=i.Z.Content,re=i.Z.Sider,ce=s.Z.TabPane,de=(0,D.a)().isAdminUser,ue=(0,b.Eu)().isAuthDisabled,me=(0,y.UO)().taskId,pe=(0,v.useMemo)((function(){return(0,V.c6)()}),[]),fe=(0,n.CR)((0,v.useState)({}),2),we=fe[0],ve=fe[1],ge=(0,n.CR)((0,v.useState)({}),2),ye=ge[0],Ee=ge[1],be=(0,n.CR)((0,v.useState)({}),2),he=be[0],ke=be[1],Ne=(0,n.CR)((0,v.useState)(!1),2),xe=Ne[0],Ce=Ne[1],Ze=(0,n.CR)((0,v.useState)([]),2),Se=Ze[0],Te=Ze[1],Oe=(0,n.CR)((0,v.useState)([]),2),qe=Oe[0],Re=Oe[1],Ae=(0,n.CR)((0,v.useState)(""),2),Fe=Ae[0],De=Ae[1],Pe=(0,n.CR)((0,v.useState)(!1),2),Ie=Pe[0],je=Pe[1],_e=(0,n.CR)((0,v.useState)(""),2),Be=_e[0],Ve=_e[1],He=(0,n.CR)((0,v.useState)(pe[0]),2),Le=He[0],Ue=He[1],Qe=(0,n.CR)((0,v.useState)(!1),2),Ge=Qe[0],ze=Qe[1],Je=(0,n.CR)((0,v.useState)(""),2),Me=Je[0],Ke=Je[1],$e=(0,n.CR)((0,v.useState)([]),2),Xe=$e[0],Ye=$e[1],We=(0,n.CR)((0,v.useState)(!1),2),et=We[0],tt=We[1],at=(0,n.CR)((0,v.useState)(!1),2),nt=at[0],rt=at[1],lt=(0,v.useMemo)((function(){return E.Z.getCurrentUserDetails()}),[E.Z.userDetails,E.Z.nonSecureUserDetails]),it=(0,v.useMemo)((function(){return(0,I.nt)(we.about)}),[we]),st=(0,v.useMemo)((function(){return(0,I.dS)(we.about)}),[we]),ot=(0,v.useMemo)((function(){var e,t,a=null===(t=null===(e=null==st?void 0:st.split(P.LV))||void 0===e?void 0:e.slice(-2))||void 0===t?void 0:t[0],n=((null==a?void 0:a.replaceAll(/^"|"$/g,""))||"").split(R.o).pop();return(0,V.dY)(null!=n?n:"",he.columns||[])}),[we,he]),ct=(0,f.isEqual)(null===(e=he.owner)||void 0===e?void 0:e.id,null==lt?void 0:lt.id),dt=null===(a=null===(t=we.task)||void 0===t?void 0:t.assignees)||void 0===a?void 0:a.some((function(e){return(0,f.isEqual)(e.id,null==lt?void 0:lt.id)})),ut=(0,f.isEqual)(null===(u=we.task)||void 0===u?void 0:u.status,F.aq.Closed),mt=(0,f.isEqual)(we.createdBy,null==lt?void 0:lt.name),pt=(0,f.isEqual)(Le.key,oe.B.EDIT),ft=(0,V.u_)(null===(w=we.task)||void 0===w?void 0:w.type),wt=(0,V.DG)(null===(G=we.task)||void 0===G?void 0:G.type),vt=function(){return(0,n.mG)(void 0,void 0,void 0,(function(){var e,t;return(0,n.Jh)(this,(function(a){switch(a.label){case 0:tt(!0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,(0,h._X)(me)];case 2:return e=a.sent(),ve(e),[3,5];case 3:return t=a.sent(),(0,L.Eo)(t,"",5e3,De),[3,5];case 4:return tt(!1),[7];case 5:return[2]}}))}))},gt=function(e){Ce(!0),(0,h.h4)(e).then((function(e){Ee(e.data)})).catch((function(e){(0,L.Eo)(e)})).finally((function(){return Ce(!1)}))},yt=function(){var e=function(e){var t;(0,h.xJ)(A.bq.RESOLVE,null===(t=we.task)||void 0===t?void 0:t.id,e).then((function(){var e;(0,L.XA)(te("label.task-resolved-successfully")),ae.push((0,B.Ch)(null!=it?it:"",null!==(e=null==he?void 0:he.fullyQualifiedName)&&void 0!==e?e:""))})).catch((function(e){return(0,L.Eo)(e)}))};wt?(0,f.isEmpty)(Xe)?(0,L.Eo)(te("label.please-add-tags")):e({newValue:JSON.stringify(Xe||"[]")}):Be?e({newValue:Be}):(0,L.Eo)(te("label.please-add-description"))};(0,v.useEffect)((function(){vt()}),[me]),(0,v.useEffect)((function(){!function(){var e,t;if(!(0,f.isEmpty)(we)){var a=(0,I.ku)(we.about);a&&(0,V.Dy)(it,(0,j.Yd)(null!=a?a:""),ke),gt(we.id);var n=(null===(e=we.task)||void 0===e?void 0:e.assignees)||[];if(n.length){var r=n.map((function(e){var t,a;return{label:null!==(t=e.name)&&void 0!==t?t:"",value:e.id,type:null!==(a=e.type)&&void 0!==a?a:""}}));Re(r),Te(r)}!function(e){if(wt){var t=JSON.parse(e||"[]");(0,f.isEmpty)(t)&&Ue(pe[1]),Ye(t)}else e||Ue(pe[1]),Ve(e||"")}(null===(t=we.task)||void 0===t?void 0:t.suggestion)}}()}),[we]);var Et=function(){return de||ue||dt||ct};return v.createElement(v.Fragment,null,et?v.createElement(q.Z,null):v.createElement(i.Z,{style:(0,n.pi)((0,n.pi)({},se.Oq),{height:"100vh"})},Fe?v.createElement(Z.Z,null,Fe):v.createElement(v.Fragment,null,v.createElement(ne,{style:(0,n.pi)((0,n.pi)({},se._R),{overflowY:"auto"})},v.createElement(O.Z,{className:"m-t-lg m-b-xs",titleLinks:(0,n.ev)((0,n.ev)([],(0,n.CR)((0,V.rM)(he,it))),[{name:"Task #"+(null===(J=we.task)||void 0===J?void 0:J.id),activeTitle:!0,url:""}])}),v.createElement(ee,{entityData:he}),v.createElement(o.Z,{"data-testid":"task-metadata",style:(0,n.pi)((0,n.pi)({},se.F),{marginTop:"16px"})},v.createElement("p",{className:"tw-text-base tw-font-medium tw-mb-4","data-testid":"task-title"},"Task #"+me," ",we.message),v.createElement("div",{className:"tw-flex tw-mb-4","data-testid":"task-metadata"},v.createElement(ie,{status:null===(M=we.task)||void 0===M?void 0:M.status}),v.createElement("span",{className:"tw-mx-1.5 tw-inline-block tw-text-gray-400"},"|"),v.createElement("span",{className:"tw-flex"},v.createElement(S.Z,{userName:we.createdBy||""},v.createElement("span",{className:"tw-flex"},v.createElement(T.Z,{displayName:we.createdBy||"",id:"",name:we.createdBy||"",width:"20"}),v.createElement("span",{className:"tw-font-semibold tw-cursor-pointer hover:tw-underline tw-ml-1"},we.createdBy))),v.createElement("span",{className:"tw-ml-1"},te("label.created-this-task")),v.createElement("span",{className:"tw-ml-1"},(0,f.toLower)((0,H.rN)(null!==($=we.threadTs)&&void 0!==$?$:0))))),v.createElement(z,{column:ot}),v.createElement("div",{className:"tw-flex","data-testid":"task-assignees"},v.createElement("span",{className:m()("tw-text-grey-muted",{"tw-self-center tw-mr-2":Ie})},te("label.assignees"),":"),Ie?v.createElement(v.Fragment,null,v.createElement(U.Z,{assignees:qe,options:Se,onChange:Re,onSearch:function(e){(0,V.Od)(e,Te)}}),v.createElement(c.Z,{className:"tw-mx-1 tw-self-center ant-btn-primary-custom",size:"small",type:"primary",onClick:function(){return je(!1)}},v.createElement(l.G,{className:"tw-w-3.5 tw-h-3.5",icon:"times"})),v.createElement(c.Z,{className:"tw-mx-1 tw-self-center ant-btn-primary-custom",disabled:!qe.length,size:"small",type:"primary",onClick:function(){var e,t=qe.map((function(e){var t,a=((null===(t=we.task)||void 0===t?void 0:t.assignees)||[]).find((function(t){return(0,f.isEqual)(t.id,e.value)}));return a?{id:a.id,type:a.type}:{id:e.value,type:e.type}})),a=(0,n.pi)((0,n.pi)({},we),{task:(0,n.pi)((0,n.pi)({},we.task||{}),{assignees:t})}),r=null===(e=we.task)||void 0===e?void 0:e.assignees,l=we;if(r){var i=r.map((function(e){return{id:e.id,type:e.type}}));l=(0,n.pi)((0,n.pi)({},we),{task:(0,n.pi)((0,n.pi)({},we.task),{assignees:i})})}var s=(0,p.qu)(l,a);(0,h.sN)(we.id,s).then((function(){vt()})).catch((function(e){return(0,L.Eo)(e)})),je(!1)}},v.createElement(l.G,{className:"tw-w-3.5 tw-h-3.5",icon:"check"}))):v.createElement(v.Fragment,null,v.createElement(C.Z,{assignees:(null===(X=null==we?void 0:we.task)||void 0===X?void 0:X.assignees)||[],className:"tw-ml-0.5 tw-align-middle tw-inline-flex tw-flex-wrap"}),(Et()||mt)&&!ut&&v.createElement("button",{className:"focus:tw-outline-none tw-self-baseline tw-flex-none","data-testid":"edit-suggestion",onClick:function(){return je(!0)}},v.createElement(_.ZP,{alt:"edit",icon:"icon-edit",title:"Edit",width:"14px"}))))),v.createElement(o.Z,{className:"mt-4 ml-6","data-testid":"task-data",style:(0,n.pi)({},se.F)},ft&&v.createElement(Y,{currentDescription:st&&!(0,f.isEmpty)(ot)?ot.description||"":he.description||"",hasEditAccess:Et(),isTaskActionEdit:pt,suggestion:Be,taskDetail:we,onSuggestionChange:function(e){Ve(e)}}),wt&&v.createElement(le,{currentTags:function(){var e,t;return!(0,f.isEmpty)(ot)&&st?null!==(e=ot.tags)&&void 0!==e?e:[]:null!==(t=he.tags)&&void 0!==t?t:[]}(),hasEditAccess:Et(),isTaskActionEdit:pt,setSuggestion:Ye,suggestions:Xe,task:we.task}),v.createElement("div",{className:"tw-flex tw-justify-end","data-testid":"task-cta-buttons"},(Et()||mt)&&!ut&&v.createElement(c.Z,{className:"ant-btn-link-custom",type:"link",onClick:function(){return ze(!0)}},te("label.close-with-comment")),Et()&&!ut&&v.createElement(v.Fragment,null,(null===(W=we.task)||void 0===W?void 0:W.suggestion)?v.createElement(d.Z.Button,{className:"ant-btn-primary-dropdown","data-testid":"complete-task",icon:v.createElement(l.G,{className:"tw-text-sm",icon:r.ptq}),menu:{items:pe,selectable:!0,selectedKeys:[Le.key],onClick:function(e){return t=e.key,void Ue(pe.find((function(e){return(0,f.isEqual)(e.key,t)})));var t}},trigger:["click"],type:"primary",onClick:yt},Le.label):v.createElement(c.Z,{className:"ant-btn-primary-custom",disabled:!Be,type:"primary",onClick:yt},te("label.add-description")))),ut&&v.createElement(Q,{task:we.task})),v.createElement(K,{comment:Me,isLoading:nt,open:Ge,setComment:Ke,taskDetail:we,onClose:function(){ze(!1),Ke("")},onConfirm:function(){var e;Me?(rt(!0),(0,h.xJ)(A.bq.REJECT,null===(e=we.task)||void 0===e?void 0:e.id,{comment:Me}).then((function(){var e;(0,L.XA)(te("label.task-closed-successfully")),ze(!1),ae.push((0,B.Ch)(null!=it?it:"",null!==(e=null==he?void 0:he.fullyQualifiedName)&&void 0!==e?e:""))})).catch((function(e){return(0,L.Eo)(e)})).finally((function(){return rt(!1)}))):(0,L.Eo)(te("label.task-closed-without-comment"))}})),v.createElement(re,{className:"ant-layout-sider-task-detail","data-testid":"task-right-sider",theme:"light",width:600},v.createElement(s.Z,{className:"ant-tabs-custom-line",onChange:function(e){(0,f.isEqual)(e,A.qL.TASKS)&&gt(we.id)}},v.createElement(ce,{key:A.qL.TASKS,tab:"Task"},(0,f.isEmpty)(ye)?null:v.createElement("div",{id:"task-feed"},v.createElement(N.Z,{isLoading:xe,threadData:ye,updateThreadHandler:function(e,t,a,r){a?(0,h.sN)(e,r).then((function(e){Ee((function(t){return(0,n.pi)((0,n.pi)({},t),{reactions:e.reactions})}))})).catch((function(e){(0,L.Eo)(e)})):(0,h.CP)(e,t,r).then((function(e){Ee((function(a){var r=(a.posts||[]).map((function(a){return(0,f.isEqual)(t,a.id)?(0,n.pi)((0,n.pi)({},a),{reactions:e.reactions}):a}));return(0,n.pi)((0,n.pi)({},a),{posts:r})}))})).catch((function(e){(0,L.Eo)(e)}))}}),v.createElement(k.Z,{buttonClass:"tw-mr-4",className:"tw-ml-5 tw-mr-2 tw-mb-2",onSave:function(e){var t={message:e,from:null==lt?void 0:lt.name};(0,h.Z1)(ye.id,t).then((function(e){var t=e.posts;Ee((function(e){return(0,n.pi)((0,n.pi)({},e),{posts:t})}))})).catch((function(e){(0,L.Eo)(e)}))}}))),v.createElement(ce,{key:A.qL.CONVERSATIONS,tab:"Conversations"},(0,f.isEmpty)(ye)?null:v.createElement(x.Z,{className:"tw-p-0",createThread:function(e){(0,h.Kl)(e).catch((function(e){(0,L.Eo)(e)}))},deletePostHandler:function(e,t,a){(0,I.fR)(e,t,a)},postFeedHandler:function(e,t){var a={message:e,from:null==lt?void 0:lt.name};(0,h.Z1)(t,a).catch((function(e){(0,L.Eo)(e)}))},showHeader:!1,threadLink:ye.about,threadType:F.Th.Conversation,updateThreadHandler:function(e,t,a,n){(0,I.jw)(e,t,a,n,(function(){}))}})))))))}))},72468:function(e,t,a){"use strict";a.d(t,{F:function(){return n},_R:function(){return r},Oq:function(){return l}});var n={border:"1px rgb(221, 227, 234) solid",borderRadius:"8px",marginBottom:"20px",boxShadow:"1px 1px 6px rgb(0 0 0 / 6%)",marginTop:"8px"},r={padding:24,margin:0,paddingTop:0},l={background:"#F8F9FA"}},25131:function(e,t,a){"use strict";a.d(t,{Z:function(){return b}});var n=a(34041),r=a(67294),l=a(22535),i=a(93379),s=a.n(i),o=a(7795),c=a.n(o),d=a(90569),u=a.n(d),m=a(3565),p=a.n(m),f=a(19216),w=a.n(f),v=a(44589),g=a.n(v),y=a(71068),E={};E.styleTagTransform=g(),E.setAttributes=p(),E.insert=u().bind(null,"head"),E.domAPI=c(),E.insertStyleElement=w(),s()(y.Z,E),y.Z&&y.Z.locals&&y.Z.locals;var b=function(e){var t=e.assignees,a=e.onSearch,i=e.onChange,s=e.options,o=n.Z.Option;return r.createElement(n.Z,{showSearch:!0,className:"ant-select-custom","data-testid":"select-assignee",defaultActiveFirstOption:!1,filterOption:!1,mode:"multiple",notFoundContent:null,placeholder:"Search to Select",showArrow:!1,value:t.length?t:void 0,onChange:function(e,t){var a=t.map((function(e){return{label:e["data-label"],value:e.value,type:e["data-usertype"]}}));i(a)},onSearch:a},s.map((function(e){return r.createElement(o,{"data-label":e.label,"data-testid":"assignee-option","data-usertype":e.type,key:e.value},r.createElement(l.w,{id:e.value,name:e.label}))})))}},91238:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var n=a(70655),r=a(38222),l=a(96486),i=a(67294),s=a(97809),o=a(80131),c=a(44355),d=a(36190),u=function(e){var t=e.description,a=e.suggestion,u=e.markdownRef,m=e.placeHolder,p=e.onChange,f=r.Z.TabPane,w=(0,n.CR)((0,i.useState)([]),2),v=w[0],g=w[1],y=(0,n.CR)((0,i.useState)("3"),2),E=y[0],b=y[1];return i.createElement(r.Z,{activeKey:E,className:"ant-tabs-description","data-testid":"tabs",size:"small",type:"card",onChange:function(e){var a;if(b(e),(0,l.isEqual)(e,"2")){var n=null===(a=u.current)||void 0===a?void 0:a.getEditorContent();n&&g((0,c.up)(t,n))}else g([])}},i.createElement(f,{"data-testid":"current-tab",key:"1",tab:"Current"},i.createElement("div",{className:"tw-flex tw-border tw-border-main tw-rounded tw-mb-4 tw-mt-4"},t.trim()?i.createElement(o.Z,{className:"tw-p-2",enableSeeMoreVariant:!1,markdown:t}):i.createElement("span",{className:"tw-no-description tw-p-2"},"No description "))),i.createElement(f,{"data-testid":"diff-tab",key:"2",tab:"Diff"},i.createElement(d.E,{className:"tw-border tw-border-main tw-p-2 tw-rounded tw-my-3",diffArr:v})),i.createElement(f,{"data-testid":"new-tab",key:"3",tab:"New"},i.createElement(s.Z,{className:"tw-my-0",height:"208px",initialValue:a,placeHolder:null!=m?m:"Update description",ref:u,onTextChange:p})))}},36190:function(e,t,a){"use strict";a.d(t,{E:function(){return s}});var n=a(94184),r=a.n(n),l=a(96486),i=a(67294),s=function(e){var t=e.diffArr,a=e.className,n=t.map((function(e){return e.added?i.createElement("ins",{className:"diff-added","data-testid":"diff-added",key:(0,l.uniqueId)()},e.value):e.removed?i.createElement("del",{"data-testid":"diff-removed",key:(0,l.uniqueId)(),style:{color:"grey",textDecoration:"line-through"}},e.value):i.createElement("span",{"data-testid":"diff-normal",key:(0,l.uniqueId)()},e.value)}));return i.createElement("div",{className:r()("tw-w-full tw-max-h-52 tw-overflow-y-auto",a)},i.createElement("pre",{className:"tw-whitespace-pre-wrap tw-mb-0","data-testid":"diff-container"},t.length?n:i.createElement("span",{className:"tw-text-grey-muted","data-testid":"noDiff-placeholder"},"No diff available")))}},58666:function(e,t,a){"use strict";var n=a(70655),r=a(34041),l=a(96486),i=a(67294),s=a(74313),o=a(90058),c=a(50168),d=r.Z.Option;t.Z=function(e){var t=e.onChange,a=e.selectedTags,u=function(){return a.map((function(e){return{label:e.tagFQN,value:e.tagFQN,"data-sourcetype":(0,l.isEqual)(e.source,"Tag")?"tag":"glossaryTerm"}}))},m=(0,n.CR)((0,i.useState)([]),2),p=m[0],f=m[1];return(0,i.useEffect)((function(){f(u())}),[a]),i.createElement(r.Z,{showSearch:!0,className:"ant-select-custom","data-testid":"select-tags",defaultActiveFirstOption:!1,filterOption:!1,mode:"multiple",notFoundContent:null,placeholder:"Search to Select",showArrow:!1,value:(0,l.isEmpty)(u())?void 0:u(),onChange:function(e,a){var n=a.map((function(e){return{labelType:o.JG.Manual,state:o.ZM.Suggested,source:(0,l.isEqual)(e["data-sourcetype"],"tag")?o.c6.Tag:o.c6.Glossary,tagFQN:e.value}}));t(n)},onSearch:function(e){var t;e?(t=e,(0,s.op)(t).then((function(e){var t,a=null!==(t=e.data.suggest["metadata-suggest"][0].options)&&void 0!==t?t:[],r=(0,n.ev)([],(0,n.CR)(new Set(a.map((function(e){return e._source})))));f(r.map((function(e){return{label:e.fullyQualifiedName,value:e.fullyQualifiedName,"data-sourcetype":e.entityType}})))})).catch((function(e){return(0,c.Eo)(e)}))):f([])}},p.map((function(e){return i.createElement(d,{"data-sourcetype":e["data-sourcetype"],"data-testid":"tag-option",key:e.value},e.label)})))}},39379:function(e,t,a){"use strict";a.d(t,{_:function(){return o}});var n=a(60331),r=a(94184),l=a.n(r),i=a(96486),s=a(67294),o=function(e){var t=e.diffArr,a=e.className,r=t.map((function(e){return e.added?s.createElement("div",{className:"tw-my-2 tw-flex tw-flex-wrap tw-gap-y-1","data-testid":"diff-added",key:(0,i.uniqueId)()},e.value.map((function(e){return s.createElement(n.Z,{key:(0,i.uniqueId)(),style:{background:"rgba(0, 131, 118, 0.2)",color:"#008376"}},e.tagFQN)}))):e.removed?s.createElement("div",{className:"tw-my-2 tw-flex tw-flex-wrap tw-gap-y-1","data-testid":"diff-removed",key:(0,i.uniqueId)()},e.value.map((function(e){return s.createElement(n.Z,{key:(0,i.uniqueId)(),style:{color:"grey",textDecoration:"line-through"}},e.tagFQN)}))):s.createElement("div",{className:"tw-my-2 tw-flex tw-flex-wrap tw-gap-y-1","data-testid":"diff-normal",key:(0,i.uniqueId)()},e.value.length?e.value.map((function(e){return s.createElement(n.Z,{key:(0,i.uniqueId)()},e.tagFQN)})):s.createElement("div",{className:"tw-text-grey-muted tw-text-center","data-testid":"noDiff-placeholder"},"No diff available"))}));return s.createElement("div",{className:l()("tw-w-full",a),"data-testid":"diff-container"},r)}},40501:function(e,t,a){"use strict";a.d(t,{X:function(){return m}});var n=a(70655),r=a(38222),l=a(60331),i=a(59295),s=a(96486),o=a(67294),c=a(59923),d=a(39379),u=a(58666),m=function(e){var t=e.tags,a=e.suggestedTags,m=e.onChange,p=(0,n.CR)((0,o.useState)([]),2),f=p[0],w=p[1],v=(0,n.CR)((0,o.useState)(c.G.NEW),2),g=v[0],y=v[1];return o.createElement(r.Z,{activeKey:g,className:"ant-tabs-description",size:"small",type:"card",onChange:function(e){y(e),e===c.G.DIFF?w((0,i.Bm)(t,a)):w([])}},o.createElement(r.Z.TabPane,{"data-testid":"current-tab",key:c.G.CURRENT,tab:"Current"},o.createElement("div",{className:"tw-my-2 tw-flex tw-flex-wrap tw-gap-y-1","data-testid":"tags"},t.map((function(e){return o.createElement(l.Z,{key:(0,s.uniqueId)()},e.tagFQN)})))),o.createElement(r.Z.TabPane,{"data-testid":"diff-tab",key:c.G.DIFF,tab:"Diff"},o.createElement(d._,{diffArr:f})),o.createElement(r.Z.TabPane,{"data-testid":"new-tab",key:c.G.NEW,tab:"New"},o.createElement(u.Z,{selectedTags:a,onChange:m})))}}}]);