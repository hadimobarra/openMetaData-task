/*! For license information please see 5621.c6128e73dc14b64083b3.js.LICENSE.txt */
(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[5621],{12028:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var a=n(87462),r=n(4942),i=n(7085),l=n(36228),s=n.n(l),o=n(23653),c=n(8384),u=n(67294),d=n(54433),m=n.n(d),f=n(21770),p=n(15105),v=u.forwardRef((function(e,t){var n,a=e.prefixCls,i=void 0===a?"rc-switch":a,l=e.className,s=e.checked,d=e.defaultChecked,v=e.disabled,E=e.loadingIcon,h=e.checkedChildren,g=e.unCheckedChildren,y=e.onClick,b=e.onChange,w=e.onKeyDown,Z=(0,c.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),N=(0,f.Z)(!1,{value:s,defaultValue:d}),C=(0,o.Z)(N,2),S=C[0],L=C[1];function T(e,t){var n=S;return v||(L(n=e),null==b||b(n,t)),n}var x=m()(i,l,(n={},(0,r.Z)(n,"".concat(i,"-checked"),S),(0,r.Z)(n,"".concat(i,"-disabled"),v),n));return u.createElement("button",Object.assign({},Z,{type:"button",role:"switch","aria-checked":S,disabled:v,className:x,ref:t,onKeyDown:function(e){e.which===p.Z.LEFT?T(!1,e):e.which===p.Z.RIGHT&&T(!0,e),null==w||w(e)},onClick:function(e){var t=T(!S,e);null==y||y(t,e)}}),E,u.createElement("span",{className:"".concat(i,"-inner")},S?h:g))}));v.displayName="Switch";var E=v,h=n(53124),g=n(98866),y=n(97647),b=n(21790),w=u.forwardRef((function(e,t){var n,l=e.prefixCls,o=e.size,c=e.disabled,d=e.loading,m=e.className,f=void 0===m?"":m,p=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n}(e,["prefixCls","size","disabled","loading","className"]),v=u.useContext(h.E_),w=v.getPrefixCls,Z=v.direction,N=u.useContext(y.Z),C=u.useContext(g.Z),S=(null!=c?c:C)||d,L=w("switch",l),T=u.createElement("div",{className:"".concat(L,"-handle")},d&&u.createElement(i.Z,{className:"".concat(L,"-loading-icon")})),x=s()((n={},(0,r.Z)(n,"".concat(L,"-small"),"small"===(o||N)),(0,r.Z)(n,"".concat(L,"-loading"),d),(0,r.Z)(n,"".concat(L,"-rtl"),"rtl"===Z),n),f);return u.createElement(b.Z,{insertExtraNode:!0},u.createElement(E,(0,a.Z)({},p,{prefixCls:L,className:x,disabled:S,ref:t,loadingIcon:T})))}));w.__ANT_SWITCH=!0;var Z=w},56429:function(e,t,n){"use strict";var a=n(8081),r=n.n(a),i=n(23645),l=n.n(i)()(r());l.push([e.id,'/*\n *  Copyright 2022 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.feature-source-info {\n  border-top: 1px solid rgba(220, 227, 236);\n  padding-top: 16px;\n}\n',""]),t.Z=l},54433:function(e,t){var n;!function(){"use strict";var a={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var l=r.apply(null,n);l&&e.push(l)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)a.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},35122:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var a=n(2717),r=n(67294),i=n(17197),l=n(94310),s=n(28549),o=n(48805),c=n(41546),u=n(69068),d=["defaultOptions","cacheOptions","loadOptions","options","isLoading","onInputChange","filterOption"];n(73935);var m=(0,r.forwardRef)((function(e,t){var n=function(e){var t=e.defaultOptions,n=void 0!==t&&t,a=e.cacheOptions,i=void 0!==a&&a,l=e.loadOptions;e.options;var m=e.isLoading,f=void 0!==m&&m,p=e.onInputChange,v=e.filterOption,E=void 0===v?null:v,h=(0,u.Z)(e,d),g=h.inputValue,y=(0,r.useRef)(void 0),b=(0,r.useRef)(!1),w=(0,r.useState)(Array.isArray(n)?n:void 0),Z=(0,c.Z)(w,2),N=Z[0],C=Z[1],S=(0,r.useState)(void 0!==g?g:""),L=(0,c.Z)(S,2),T=L[0],x=L[1],R=(0,r.useState)(!0===n),k=(0,c.Z)(R,2),F=k[0],M=k[1],A=(0,r.useState)(void 0),H=(0,c.Z)(A,2),O=H[0],D=H[1],I=(0,r.useState)([]),P=(0,c.Z)(I,2),U=P[0],G=P[1],B=(0,r.useState)(!1),J=(0,c.Z)(B,2),q=J[0],_=J[1],Q=(0,r.useState)({}),j=(0,c.Z)(Q,2),V=j[0],K=j[1],$=(0,r.useState)(void 0),W=(0,c.Z)($,2),z=W[0],X=W[1],Y=(0,r.useState)(void 0),ee=(0,c.Z)(Y,2),te=ee[0],ne=ee[1];i!==te&&(K({}),ne(i)),n!==z&&(C(Array.isArray(n)?n:void 0),X(n)),(0,r.useEffect)((function(){return b.current=!0,function(){b.current=!1}}),[]);var ae=(0,r.useCallback)((function(e,t){if(!l)return t();var n=l(e,t);n&&"function"==typeof n.then&&n.then(t,(function(){return t()}))}),[l]);(0,r.useEffect)((function(){!0===n&&ae(T,(function(e){b.current&&(C(e||[]),M(!!y.current))}))}),[]);var re=(0,r.useCallback)((function(e,t){var n=(0,o.L)(e,t,p);if(!n)return y.current=void 0,x(""),D(""),G([]),M(!1),void _(!1);if(i&&V[n])x(n),D(n),G(V[n]),M(!1),_(!1);else{var a=y.current={};x(n),M(!0),_(!O),ae(n,(function(e){b&&a===y.current&&(y.current=void 0,M(!1),D(n),G(e||[]),_(!1),K(e?(0,o.a)((0,o.a)({},V),{},(0,s.Z)({},n,e)):V))}))}}),[i,ae,O,V,p]),ie=q?[]:T&&O?U:N||[];return(0,o.a)((0,o.a)({},h),{},{options:ie,isLoading:F||f,onInputChange:re,filterOption:E})}(e),m=(0,l.u)(n);return r.createElement(i.S,(0,a.Z)({ref:t},m))}))},8851:function(e,t,n){"use strict";var a=n(94184),r=n.n(a),i=n(96486),l=n(67294),s=n(48132);t.Z=function(e){var t=e.activeTab,n=e.setActiveTab,a=e.tabs,o=e.className,c=void 0===o?"":o,u=e.rightPosButton,d=function(e,t){return"tw-gh-tabs tw-px-0 tw-pt-2 tw-mr-8"+(t===e?" active":"")};return l.createElement("div",{className:r()("tw-bg-transparent",c)},l.createElement("nav",{className:"tw-flex tw-items-center tw-justify-between tw-gh-tabs-container","data-testid":"tabs",id:"tabs"},l.createElement("div",{className:"tw-flex tw-flex-grow"},a.map((function(e){return e.isHidden?null:l.createElement("button",{className:d(e.position,t),"data-testid":e.name,id:(0,i.camelCase)(e.name),key:e.position,onClick:function(){return null==n?void 0:n(e.position)}},e.name,(0,i.isNil)(e.count)?null:(0,s.yh)(e.count,"",e.position===t))}))),u))}},73135:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Me}});var a=n(70655),r=n(60236),i=n(96486),l=n(67674),s=n(67294),o=n(59293),c=n(52046),u=n(13950),d=n(54387),m=n(74313),f=n(85947),p=n(28178),v=n(53867),E=n(25213),h=n(71230),g=n(15746),y=n(94184),b=n.n(y),w=n(437),Z=n(73213),N=n(62761),C=n(58369),S=n(20615),L=n(64632),T=n(89204),x=n(55546),R=n(31615),k=n(90058),F=n(51887),M=n(6929),A=n(48132),H=n(31982),O=n(39570),D=n(96840),I=n(35892),P=n(19790),U=n(50168),G=n(22001),B=n(19521),J=n(37620),q=n(9632),_=n(71008),Q=n(8851),j=n(74380),V=n(57033),K=n(93389),$=n(79839),W=n(27049),z=n(56256),X=n(91894),Y=n(19650),ee=n(94199),te=n(71577),ne=n(5681),ae=n(20184),re=n(38464),ie=n(37428),le=n(80131),se=n(47368),oe=n(60502),ce=n(66116),ue=n(67814),de=n(97882),me=n(93379),fe=n.n(me),pe=n(7795),ve=n.n(pe),Ee=n(90569),he=n.n(Ee),ge=n(3565),ye=n.n(ge),be=n(19216),we=n.n(be),Ze=n(44589),Ne=n.n(Ze),Ce=n(56429),Se={};Se.styleTagTransform=Ne(),Se.setAttributes=ye(),Se.insert=he().bind(null,"head"),Se.domAPI=ve(),Se.insertStyleElement=we(),fe()(Ce.Z,Se),Ce.Z&&Ce.Z.locals&&Ce.Z.locals;var Le=function(e){var t,n=e.feature,r=(0,w.$)().t,i=(0,a.CR)((0,s.useState)(!1),2),l=i[0],o=i[1],c=(0,s.useMemo)((function(){return n.featureSources&&n.featureSources.length&&l}),[n,l]);return s.createElement("div",{className:"m-t-sm"},s.createElement(Y.Z,{className:"m-b-xs"},s.createElement("span",{onClick:function(){return o((function(e){return!e}))}},s.createElement(ue.G,{className:"text-xs text-primary cursor-pointer",icon:l?"chevron-down":"chevron-right"})),s.createElement(z.Z.Text,{className:"font-medium m-y-0"},r("label.source-plural"))),c&&(null===(t=n.featureSources)||void 0===t?void 0:t.map((function(e,t){var n,a,i;return s.createElement(h.Z,{className:"feature-source-info",key:""+e.fullyQualifiedName+t,wrap:!1},s.createElement(g.Z,{span:2},String(t+1).padStart(2,"0")),s.createElement(g.Z,{span:6},s.createElement(z.Z.Text,{className:"text-grey-muted"},r("label.name"),":"),s.createElement(z.Z.Text,{className:"m-l-xs"},e.name)),s.createElement(g.Z,{span:6},s.createElement(z.Z.Text,{className:"text-grey-muted"},r("label.type"),":"),s.createElement(z.Z.Text,{className:"m-l-xs"},e.dataType)),s.createElement(g.Z,{span:10},s.createElement(z.Z.Text,{className:"text-grey-muted"},r("label.data-source"),":"),s.createElement(de.Link,{className:"m-l-xs",to:(0,P.Ch)(L.py.TABLE,(null===(n=e.dataSource)||void 0===n?void 0:n.fullyQualifiedName)||(null===(a=e.dataSource)||void 0===a?void 0:a.name)||"")},null===(i=e.dataSource)||void 0===i?void 0:i.fullyQualifiedName)))}))))},Te=function(e){var t=e.mlFeatures,n=e.handleFeaturesUpdate,r=e.permissions,l=(0,w.$)().t,o=(0,a.CR)((0,s.useState)({}),2),c=o[0],u=o[1],d=(0,a.CR)((0,s.useState)(!1),2),m=d[0],f=d[1],v=(0,a.CR)((0,s.useState)(!1),2),E=v[0],y=v[1],b=(0,a.CR)((0,s.useState)([]),2),Z=b[0],N=b[1],C=(0,a.CR)((0,s.useState)(!1),2),S=C[0],L=C[1],T=(0,a.CR)((0,s.useState)(!1),2),x=T[0],R=T[1],F=function(){u({}),y(!1)},M=function(){f(!1),u({})};return t&&t.length?s.createElement(s.Fragment,null,s.createElement(h.Z,{"data-testid":"feature-list"},s.createElement(g.Z,{span:24},s.createElement(W.Z,{className:"m-y-md"})),s.createElement(g.Z,{span:24},s.createElement(z.Z.Title,{level:5},l("label.features-used"))),t.map((function(e){var o;return s.createElement(g.Z,{key:e.fullyQualifiedName,span:24},s.createElement(X.Z,{bordered:!0,className:"m-b-xlg","data-testid":"feature-card",key:(0,i.uniqueId)()},s.createElement(h.Z,null,s.createElement(g.Z,{className:"m-b-xs",span:24},s.createElement(z.Z.Text,{className:"font-semibold"},e.name)),s.createElement(g.Z,{span:24},s.createElement(Y.Z,{align:"start"},s.createElement(Y.Z,null,s.createElement(z.Z.Text,{className:"text-grey-muted"},l("label.type"),":")," ",s.createElement(z.Z.Text,null,e.dataType||"--")),s.createElement(W.Z,{className:"border-gray",type:"vertical"}),s.createElement(Y.Z,null,s.createElement(z.Z.Text,{className:"text-grey-muted"},l("label.algorithm"),":")," ",s.createElement(z.Z.Text,null,e.featureAlgorithm||"--")),s.createElement(W.Z,{className:"border-gray",type:"vertical"}),s.createElement(Y.Z,{align:"start"},s.createElement(z.Z.Text,{className:"text-grey-muted"},l("label.tag-plural"),":")," ",s.createElement("div",{"data-testid":"feature-tags-wrapper",onClick:function(){return function(e){u(e),f(!0),(0===Z.length||x)&&(L(!0),Promise.allSettled([(0,ie.uL)(),(0,ae.S9)()]).then((function(e){var t=[];if(e[0].status===ne.c.FULFILLED&&e[0].value.data&&(t=(0,ie.bM)(e[0].value.data).map((function(e){return{fqn:e,source:"Tag"}}))),e[1].status===ne.c.FULFILLED&&e[1].value&&e[1].value.length>0){var n=(0,ae.g4)(e[1].value).map((function(e){return{fqn:e,source:"Glossary"}}));t=(0,a.ev)((0,a.ev)([],(0,a.CR)(t)),(0,a.CR)(n))}N(t),e[0].status===ne.c.FULFILLED&&e[1].status===ne.c.FULFILLED?R(!1):R(!0)})).catch((function(){N([]),R(!0)})).finally((function(){L(!1)})))}(e)}},s.createElement(oe.Z,{editable:(null==c?void 0:c.name)===e.name&&m,isLoading:S&&(null==c?void 0:c.name)===e.name&&m,selectedTags:e.tags||[],size:"small",tagList:Z,type:"label",onCancel:M,onSelectionChange:function(r){return function(e,r){var l=null==e?void 0:e.map((function(e){return{tagFQN:e.tagFQN,source:e.source,labelType:k.JG.Manual,state:k.ZM.Confirmed}})),s=!(0,i.isEmpty)(c)||!(0,i.isEmpty)(r),o=(0,i.isEmpty)(r)?c:r;if(l&&s){var u=null==t?void 0:t.map((function(e){return e.name===(null==o?void 0:o.name)?(0,a.pi)((0,a.pi)({},o),{tags:l}):e}));n(u)}M()}(r,e)}},(null===(o=e.tags)||void 0===o?void 0:o.length)?s.createElement(ee.Z,{title:r.EditAll||r.EditTags?l("label.edit-entity",{entity:l("label.tag-plural")}):l("message.no-permission-for-action")},s.createElement(te.Z,{className:"p-0 h-auto",disabled:!(r.EditAll||r.EditTags),type:"text"},s.createElement(re.ZP,{alt:"edit",icon:"icon-edit",title:"Edit",width:"16px"}))):s.createElement(ee.Z,{title:r.EditAll||r.EditTags?l("label.edit-entity",{entity:l("label.tag-plural")}):l("message.no-permission-for-action")},s.createElement(te.Z,{className:"p-0 h-auto",disabled:!(r.EditAll||r.EditTags),type:"text"},s.createElement(ce.Z,{startWith:"+ ",tag:l("label.add-entity",{entity:l("label.tag-lowercase")}),type:"outlined"})))))))),s.createElement(g.Z,{className:"m-t-sm",span:24},s.createElement(Y.Z,{direction:"vertical"},s.createElement(z.Z.Text,{className:"text-grey-muted"},l("label.description"),":"),s.createElement(Y.Z,null,e.description?s.createElement(le.Z,{markdown:e.description}):s.createElement(z.Z.Text,{className:"tw-no-description"},l("label.no-description")),s.createElement(ee.Z,{title:r.EditAll||r.EditDescription?l("label.edit"):l("message.no-permission-for-action")},s.createElement(te.Z,{className:"no-border p-0",disabled:!(r.EditAll||r.EditDescription),onClick:function(){u(e),y(!0)}},s.createElement(re.ZP,{alt:"edit",icon:"icon-edit",title:"Edit",width:"16px"})))))),s.createElement(g.Z,{span:24},s.createElement(Le,{feature:e})))))}))),!(0,i.isEmpty)(c)&&s.createElement(se.p,{header:l("label.edit-feature",{featureName:c.name}),placeholder:l("label.enter-feature-description"),value:c.description,visible:E,onCancel:F,onSave:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var r;return(0,a.Jh)(this,(function(l){switch(l.label){case 0:return(0,i.isEmpty)(c)||!E?[3,2]:(r=null==t?void 0:t.map((function(t){return t.name===c.name?(0,a.pi)((0,a.pi)({},c),{description:e}):t})),[4,n(r)]);case 1:l.sent(),F(),l.label=2;case 2:return[2]}}))}))}})):s.createElement(p.Z,null,l("message.no-features-data-available"))},xe=(0,l.Pi)((function(e){var t,n,r,l,u,d=e.mlModelDetail,m=e.activeTab,p=e.followMlModelHandler,y=e.unfollowMlModelHandler,W=e.descriptionUpdateHandler,z=e.setActiveTabHandler,X=e.tagUpdateHandler,Y=e.settingsUpdateHandler,ee=e.updateMlModelFeatures,te=e.lineageTabData,ne=e.onExtensionUpdate,ae=e.entityThread,re=e.isEntityThreadLoading,ie=e.fetchFeedHandler,le=e.deletePostHandler,se=e.postFeedHandler,oe=e.updateThreadHandler,ce=e.paging,ue=e.feedCount,de=e.createThread,me=e.entityFieldTaskCount,fe=e.entityFieldThreadCount,pe=(0,w.$)().t,ve=(0,o.k6)(),Ee=(0,a.CR)((0,s.useState)(0),2),he=Ee[0],ge=Ee[1],ye=(0,a.CR)((0,s.useState)(!1),2),be=ye[0],we=ye[1],Ze=(0,a.CR)((0,s.useState)(!1),2),Ne=Ze[0],Ce=Ze[1],Se=(0,a.CR)((0,s.useState)(O.Bd),2),Le=Se[0],xe=Se[1],Re=(0,a.CR)((0,s.useState)(R.Th.Conversation),2),ke=Re[0],Fe=Re[1],Me=(0,a.CR)((0,s.useState)(""),2),Ae=Me[0],He=Me[1],Oe=(0,K.BL)().getEntityPermission,De=(0,s.useCallback)((function(){return(0,a.mG)(void 0,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Oe($.A.ML_MODEL,d.id)];case 1:return e=t.sent(),xe(e),[3,3];case 2:return t.sent(),(0,U.Eo)(M.Z["api-error-messages"]["fetch-entity-permissions-error"]),[3,3];case 3:return[2]}}))}))}),[d.id,Oe,xe]),Ie=(0,a.CR)((0,F.M)(S.a),2),Pe=Ie[0],Ue=Ie[1];(0,s.useEffect)((function(){d.id&&De()}),[d.id]);var Ge=(0,s.useMemo)((function(){return c.Z.getCurrentUserDetails()}),[c.Z.nonSecureUserDetails,c.Z.userDetails]),Be=(0,s.useMemo)((function(){return(0,P.Zk)(d.tags||[])}),[d.tags]),Je=(0,s.useMemo)((function(){return(0,P.nD)(d.tags||[])}),[d.tags]),qe=[{name:d.service.name||"",url:d.service.name?(0,N.LE)(d.service.name,T.u.ML_MODEL_SERVICES):"",imgSrc:d.serviceType?(0,I.zF)(d.serviceType||""):void 0},{name:(0,A.C_)(d),url:"",activeTitle:!0}],_e=(0,a.ev)([{key:L.Jp.OWNER,value:(0,A.Hb)(null!==(t=d.owner)&&void 0!==t?t:{}),placeholderText:(0,A.ji)((0,A.C_)(d.owner),null===(n=d.owner)||void 0===n?void 0:n.deleted),isLink:!0,openInNewTab:!1,profileName:(null===(r=d.owner)||void 0===r?void 0:r.type)===x.jc.USER?null===(l=d.owner)||void 0===l?void 0:l.name:void 0},{key:L.Jp.TIER,value:(null==Be?void 0:Be.tagFQN)?Be.tagFQN.split(Z.o)[1]:""},{key:L.Jp.ALGORITHM,value:d.algorithm,showLabel:!0},{key:L.Jp.TARGET,value:d.target,showLabel:!0},{key:L.Jp.SERVER,value:d.server,showLabel:!0,isLink:!0}],(0,a.CR)((0,i.isUndefined)(d.dashboard)?[]:[{key:L.Jp.DASHBOARD,value:(0,N.pB)(null===(u=d.dashboard)||void 0===u?void 0:u.fullyQualifiedName),placeholderText:(0,A.C_)(d.dashboard),showLabel:!0,isLink:!0}])),Qe=[{name:pe("label.feature-plural"),icon:{alt:"features",name:"icon-features",title:"Features",selectedName:"icon-featurescolor"},isProtected:!1,position:1},{name:pe("label.activity-feed-and-task-plural"),isProtected:!1,position:2,count:ue},{name:pe("label.detail-plural"),icon:{alt:"details",name:"icon-details",title:"Summary",selectedName:"icon-detailscolor"},isProtected:!1,position:3},{name:pe("label.lineage"),isProtected:!1,position:4},{name:pe("label.custom-properties"),isProtected:!1,position:5}],je=function(e,t){He(e),t&&Fe(t)},Ve=(0,s.useMemo)((function(){return[{title:pe("label.name"),dataIndex:"name",key:"name"},{title:pe("label.value"),dataIndex:"value",key:"value"}]}),[]),Ke=(0,s.useCallback)((function(e,t){ie(ce.after,e,t)}),[ce]);return(0,s.useEffect)((function(){var e,t;e=ce,t=re,Ue&&(null==e?void 0:e.after)&&!t&&ie(e.after)}),[ce,re,Ue]),(0,s.useEffect)((function(){var e;e=d.followers||[],we(e.some((function(e){return e.id===(null==Ge?void 0:Ge.id)}))),ge(e.length)}),[d.followers,c.Z.userDetails,c.Z.nonSecureUserDetails]),s.createElement(j.Z,null,s.createElement("div",{className:"entity-details-container","data-testid":"mlmodel-details"},s.createElement(_.Z,{canDelete:Le.Delete,currentOwner:d.owner,deleted:d.deleted,entityFieldTasks:(0,H.S$)(C.Sn.TAGS,me),entityFieldThreads:(0,H.S$)(C.Sn.TAGS,fe),entityFqn:d.fullyQualifiedName,entityId:d.id,entityName:d.name,entityType:L.py.MLMODEL,extraInfo:_e,followHandler:function(){be?(ge((function(e){return e-1})),we(!1),y()):(ge((function(e){return e+1})),we(!0),p())},followers:he,followersList:d.followers||[],isFollowing:be,isTagEditable:Le.EditAll||Le.EditTags,removeOwner:Le.EditAll||Le.EditOwner?function(){if(d){var e=(0,a.pi)((0,a.pi)({},d),{owner:void 0});Y(e)}}:void 0,removeTier:Le.EditAll||Le.EditTier?function(){if(d){var e=(0,a.pi)((0,a.pi)({},d),{tags:void 0});Y(e)}}:void 0,tags:Je,tagsHandler:function(e){if(e){var t=(0,a.ev)((0,a.ev)([],(0,a.CR)(Be?[Be]:[])),(0,a.CR)(e)),n=(0,a.pi)((0,a.pi)({},d),{tags:t});X(n)}},tier:Be,titleLinks:qe,updateOwner:Le.EditAll||Le.EditOwner?function(e){if(e){var t=(0,a.pi)((0,a.pi)({},d),{owner:e?(0,a.pi)((0,a.pi)({},d.owner),e):d.owner});Y(t)}}:void 0,updateTier:Le.EditAll||Le.EditTier?function(e){if(e){var t=e?(0,a.ev)((0,a.ev)([],(0,a.CR)(Je)),[{tagFQN:e,labelType:k.JG.Manual,state:k.ZM.Confirmed}]):d.tags,n=(0,a.pi)((0,a.pi)({},d),{tags:t});Y(n)}}:void 0,onRestoreEntity:function(){return(0,a.mG)(void 0,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,f.hl)(d.id)];case 1:return t.sent(),(0,U.XA)(pe("message.restore-entities-success",{entity:pe("label.mlmodel")}),2e3),(0,A.ZM)(),[3,3];case 2:return e=t.sent(),(0,U.Eo)(e,pe("message.restore-entities-error",{entity:pe("label.mlmodel")})),[3,3];case 3:return[2]}}))}))},onThreadLinkSelect:je}),s.createElement("div",{className:"tw-mt-4 tw-flex tw-flex-col tw-flex-grow"},s.createElement(Q.Z,{activeTab:m,className:"tw-flex-initial",setActiveTab:z,tabs:Qe}),s.createElement("div",{className:"tw-flex-grow tw-flex tw-flex-col tw-py-4"},s.createElement("div",{className:"tw-bg-white tw-flex-grow tw-p-4 tw-shadow tw-rounded-md"},1===m&&s.createElement(s.Fragment,null,s.createElement(q.Z,{description:d.description,entityFieldTasks:(0,H.S$)(C.Sn.DESCRIPTION,me),entityFieldThreads:(0,H.S$)(C.Sn.DESCRIPTION,fe),entityFqn:d.fullyQualifiedName,entityName:d.name,entityType:L.py.MLMODEL,hasEditAccess:Le.EditAll||Le.EditDescription,isEdit:Ne,isReadOnly:d.deleted,owner:d.owner,onCancel:function(){return Ce(!1)},onDescriptionEdit:function(){return Ce(!0)},onDescriptionUpdate:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return d.description===e?[3,2]:(t=(0,a.pi)((0,a.pi)({},d),{description:e}),[4,W(t)]);case 1:return n.sent(),Ce(!1),[3,3];case 2:Ce(!1),n.label=3;case 3:return[2]}}))}))},onThreadLinkSelect:je}),s.createElement(Te,{handleFeaturesUpdate:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,ee((0,a.pi)((0,a.pi)({},d),{mlFeatures:e}))];case 1:return t.sent(),[2]}}))}))},mlFeatures:d.mlFeatures,permissions:Le})),2===m&&s.createElement(h.Z,{id:"activityfeed"},s.createElement(g.Z,{offset:3,span:18},s.createElement(G.Z,{isEntityFeed:!0,withSidePanel:!0,deletePostHandler:le,entityName:d.name,feedList:ae,postFeedHandler:se,updateThreadHandler:oe,onFeedFiltersUpdate:Ke}))),3===m&&s.createElement("div",{className:"tw-grid tw-grid-cols-2 tw-gap-x-6"},s.createElement("div",{className:"flex flex-col m-t-xs"},s.createElement("h6",{className:"font-medium text-base"},pe("label.hyper-parameters")," "),s.createElement("div",{className:"m-t-xs"},(0,i.isEmpty)(d.mlHyperParameters)?(0,A.o3)():s.createElement(E.Z,{bordered:!0,columns:Ve,"data-testid":"hyperparameters-table",dataSource:d.mlHyperParameters,pagination:!1,rowKey:"name",size:"small"}))),s.createElement("div",{className:"flex flex-col m-t-xs"},s.createElement("h6",{className:"font-medium text-base"},pe("label.model-store")),d.mlStore?s.createElement("div",{className:"m-t-xs tw-table-container"},s.createElement("table",{className:"tw-w-full","data-testid":"model-store-table",id:"model-store-table"},s.createElement("thead",null,s.createElement("tr",{className:"tableHead-row"},Object.keys(d.mlStore).map((function(e){return s.createElement("th",{className:"tableHead-cell",key:(0,i.uniqueId)()},(0,i.startCase)(e))})))),s.createElement("tbody",{className:"tableBody"},s.createElement("tr",{className:b()("tableBody-row"),"data-testid":"tableBody-row",key:(0,i.uniqueId)()},s.createElement("td",{className:"tableBody-cell","data-testid":"tableBody-cell"},s.createElement("span",null,s.createElement("a",{href:d.mlStore.storage,rel:"noreferrer",target:"_blank"},d.mlStore.storage))),s.createElement("td",{className:"tableBody-cell","data-testid":"tableBody-cell"},s.createElement("span",null,s.createElement("a",{href:d.mlStore.imageRepository,rel:"noreferrer",target:"_blank"},d.mlStore.imageRepository))))))):(0,A.o3)())),4===m&&s.createElement("div",{className:"h-full","data-testid":"lineage-details"},s.createElement(V.Z,{addLineageHandler:te.addLineageHandler,deleted:d.deleted,entityLineage:te.entityLineage,entityLineageHandler:te.entityLineageHandler,entityType:L.py.MLMODEL,hasEditAccess:Le.EditAll||Le.EditLineage,isLoading:te.isLineageLoading,isNodeLoading:te.isNodeLoading,lineageLeafNodes:te.lineageLeafNodes,loadNodeHandler:te.loadNodeHandler,removeLineageHandler:te.removeLineageHandler,onFullScreenClick:function(){ve.push((0,D.nA)(L.py.MLMODEL,d.fullyQualifiedName||""))}})),5===m&&s.createElement(J.t,{entityDetails:d,entityType:L.py.MLMODEL,handleExtensionUpdate:ne}),s.createElement("div",{"data-testid":"observer-element",id:"observer-element",ref:Pe},re?s.createElement(v.Z,null):null))))),Ae?s.createElement(B.Z,{createThread:de,deletePostHandler:le,open:Boolean(Ae),postFeedHandler:se,threadLink:Ae,threadType:ke,updateThreadHandler:oe,onCancel:function(){He("")}}):null)})),Re=n(52114),ke=n(22215),Fe=n(51737),Me=(0,l.Pi)((function(){var e=(0,o.k6)(),t=(0,o.UO)(),n=t.mlModelFqn,l=t.tab,E=(0,a.CR)((0,s.useState)({}),2),h=E[0],g=E[1],y=(0,a.CR)((0,s.useState)(!1),2),b=y[0],w=y[1],Z=(0,a.CR)((0,s.useState)((0,Fe.EQ)(l)),2),C=Z[0],S=Z[1],T=(0,A.rc)(),x=(0,a.CR)((0,s.useState)({}),2),R=x[0],k=x[1],F=(0,a.CR)((0,s.useState)({}),2),D=F[0],I=F[1],P=(0,a.CR)((0,s.useState)({id:void 0,state:!1}),2),G=P[0],B=P[1],J=(0,a.CR)((0,s.useState)(!1),2),q=J[0],_=J[1],Q=(0,a.CR)((0,s.useState)(O.Bd),2),j=Q[0],V=Q[1],W=(0,a.CR)((0,s.useState)([]),2),z=W[0],X=W[1],Y=(0,a.CR)((0,s.useState)(!1),2),ee=Y[0],te=Y[1],ne=(0,a.CR)((0,s.useState)({}),2),ae=ne[0],re=ne[1],ie=(0,a.CR)((0,s.useState)(0),2),le=ie[0],se=ie[1],oe=(0,a.CR)((0,s.useState)([]),2),ce=oe[0],ue=oe[1],de=(0,a.CR)((0,s.useState)([]),2),me=de[0],fe=de[1],pe=(0,s.useMemo)((function(){return c.Z.getCurrentUserDetails()}),[c.Z.userDetails,c.Z.nonSecureUserDetails]),ve=(0,K.BL)().getEntityPermissionByFqn,Ee=function(){(0,A.Aq)(L.py.MLMODEL,n,ue,fe,se)},he=function(e,t,r){return(0,a.mG)(void 0,void 0,void 0,(function(){var i,l,s,o;return(0,a.Jh)(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,3,4]),te(!0),[4,(0,u.XG)((0,ke.ec)(L.py.MLMODEL,n),e,r,t,void 0,T)];case 1:return i=c.sent(),l=i.data,s=i.paging,re(s),X((function(e){return(0,a.ev)((0,a.ev)([],(0,a.CR)(e)),(0,a.CR)(l))})),[3,4];case 2:return o=c.sent(),(0,U.Eo)(o,M.Z["api-error-messages"]["fetch-entity-feed-error"]),[3,4];case 3:return te(!1),[7];case 4:return[2]}}))}))},ge=function(e){var t=(0,r.qu)((0,i.omitBy)(h,i.isUndefined),e);return(0,f.JX)(h.id,t)};return(0,s.useEffect)((function(){X([])}),[l]),(0,s.useEffect)((function(){!function(e){switch(void 0===e&&(e=""),e){case L.GB.LINEAGE:if(!h.deleted){(0,i.isEmpty)(R)&&(_(!0),(0,d.S)(n,L.py.MLMODEL).then((function(e){e?k(e):(0,U.Eo)(M.Z["api-error-messages"]["fetch-lineage-error"])})).catch((function(e){(0,U.Eo)(e,M.Z["api-error-messages"]["fetch-lineage-error"])})).finally((function(){_(!1)})));break}break;case L.GB.ACTIVITY_FEED:he()}}(Fe.qq[C-1].field)}),[C]),(0,s.useEffect)((function(){var e;(j.ViewAll||j.ViewBasic)&&(e=n,w(!0),(0,f.Lg)(e,Fe.he).then((function(e){var t=e;if(!t)throw M.Z["api-error-messages"]["unexpected-server-response"];g(t)})).catch((function(e){(0,U.Eo)(e)})).finally((function(){w(!1)})),Ee())}),[j,n]),(0,s.useEffect)((function(){var e;e=n,(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:w(!0),n.label=1;case 1:return n.trys.push([1,3,4,5]),[4,ve($.A.ML_MODEL,e)];case 2:return t=n.sent(),V(t),[3,5];case 3:return n.sent(),(0,U.Eo)(M.Z["api-error-messages"]["fetch-entity-permissions-error"]),[3,5];case 4:return w(!1),[7];case 5:return[2]}}))}))}),[n]),s.createElement(s.Fragment,null,b?s.createElement(v.Z,null):s.createElement(s.Fragment,null,j.ViewAll||j.ViewBasic?(0,i.isNil)(h)||(0,i.isEmpty)(h)?s.createElement(p.Z,null,(0,A.mW)("mlModel",n)):s.createElement(xe,{activeTab:C,createThread:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,u.Kl)(e)];case 1:return t=r.sent(),X((function(e){return(0,a.ev)((0,a.ev)([],(0,a.CR)(e)),[t])})),Ee(),[3,3];case 2:return n=r.sent(),(0,U.Eo)(n,M.Z["api-error-messages"]["create-conversation-error"]),[3,3];case 3:return[2]}}))}))},deletePostHandler:function(e,t,n){(0,H.fR)(e,t,n,X)},descriptionUpdateHandler:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,ge(e)];case 1:if(!(t=i.sent()))throw M.Z["api-error-messages"]["update-description-error"];return n=t.description,g((function(e){return(0,a.pi)((0,a.pi)({},e),{description:n})})),[3,3];case 2:return r=i.sent(),(0,U.Eo)(r),[3,3];case 3:return[2]}}))}))},entityFieldTaskCount:me,entityFieldThreadCount:ce,entityThread:z,feedCount:le,fetchFeedHandler:function(e,t,n){!e&&X([]),he(e,t,n)},followMlModelHandler:function(){(0,f.vs)(h.id,T).then((function(e){if(!e)throw M.Z["api-error-messages"]["update-entity-follow-error"];var t=e.changeDescription.fieldsAdded[0].newValue;g((function(e){return(0,a.pi)((0,a.pi)({},e),{followers:(0,a.ev)((0,a.ev)([],(0,a.CR)(h.followers||[])),(0,a.CR)(t))})}))})).catch((function(e){(0,U.Eo)(e,M.Z["api-error-messages"]["update-entity-follow-error"])}))},isEntityThreadLoading:ee,lineageTabData:{loadNodeHandler:function(e,t){var n;B({id:e.id,state:!0}),(0,d.S)(null!==(n=e.fullyQualifiedName)&&void 0!==n?n:"",e.type).then((function(e){e?(function(e,t){var n,r;"to"===t&&0===(null===(n=e.downstreamEdges)||void 0===n?void 0:n.length)&&I((function(t){var n;return(0,a.pi)((0,a.pi)({},t),{downStreamNode:(0,a.ev)((0,a.ev)([],(0,a.CR)(null!==(n=t.downStreamNode)&&void 0!==n?n:[])),[e.entity.id])})})),"from"===t&&0===(null===(r=e.upstreamEdges)||void 0===r?void 0:r.length)&&I((function(t){var n;return(0,a.pi)((0,a.pi)({},t),{upStreamNode:(0,a.ev)((0,a.ev)([],(0,a.CR)(null!==(n=t.upStreamNode)&&void 0!==n?n:[])),[e.entity.id])})}))}(e,t),k((0,ke.s)(R,e,t))):(0,U.Eo)(M.Z["api-error-messages"]["fetch-lineage-node-error"]),setTimeout((function(){B((function(e){return(0,a.pi)((0,a.pi)({},e),{state:!1})}))}),500)})).catch((function(e){(0,U.Eo)(e,M.Z["api-error-messages"]["fetch-lineage-node-error"])}))},addLineageHandler:function(e){return new Promise((function(t,n){(0,m.Zt)(e).then((function(){t()})).catch((function(e){(0,U.Eo)(e,M.Z["api-error-messages"]["add-lineage-error"]),n()}))}))},removeLineageHandler:function(e){(0,m.lg)(e.fromEntity,e.fromId,e.toEntity,e.toId).catch((function(e){(0,U.Eo)(e,M.Z["api-error-messages"]["delete-lineage-error"])}))},entityLineageHandler:function(e){k(e)},isLineageLoading:q,entityLineage:R,lineageLeafNodes:D,isNodeLoading:G},mlModelDetail:h,paging:ae,postFeedHandler:function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,r,i,l,s;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:n={message:e,from:null==pe?void 0:pe.name},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,(0,u.Z1)(t,n)];case 2:return r=o.sent(),i=r.id,l=r.posts,X((function(e){return e.map((function(e){return e.id===i?(0,a.pi)((0,a.pi)({},r),{posts:null==l?void 0:l.slice(-3)}):e}))})),Ee(),[3,4];case 3:return s=o.sent(),(0,U.Eo)(s,M.Z["api-error-messages"]["add-feed-error"]),[3,4];case 4:return[2]}}))}))},setActiveTabHandler:function(t){var a=t-1;Fe.qq[a].path!==l&&(S((0,Fe.EQ)(Fe.qq[a].path)),e.push({pathname:(0,N.OK)(n,Fe.qq[a].path)}))},settingsUpdateHandler:function(e){return new Promise((function(t,n){ge(e).then((function(e){e?(g((function(t){return(0,a.pi)((0,a.pi)({},t),{owner:e.owner,tags:e.tags})})),t()):(0,U.Eo)(M.Z["api-error-messages"]["update-entity-error"])})).catch((function(e){(0,U.Eo)(e,M.Z["api-error-messages"]["update-entity-error"]),n()}))}))},tagUpdateHandler:function(e){ge(e).then((function(e){if(!e)throw M.Z["api-error-messages"]["update-tags-error"];g((function(t){return(0,a.pi)((0,a.pi)({},t),{tags:e.tags})}))})).catch((function(e){(0,U.Eo)(e,M.Z["api-error-messages"]["update-tags-error"])}))},unfollowMlModelHandler:function(){(0,f.mM)(h.id,T).then((function(e){if(e){var t=e.changeDescription.fieldsDeleted[0].oldValue;g((function(e){return(0,a.pi)((0,a.pi)({},e),{followers:(h.followers||[]).filter((function(e){return e.id!==t[0].id}))})}))}else(0,U.Eo)(M.Z["api-error-messages"]["update-entity-unfollow-error"])})).catch((function(e){(0,U.Eo)(e,M.Z["api-error-messages"]["update-entity-unfollow-error"])}))},updateMlModelFeatures:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ge(e)];case 1:if(!(t=r.sent()))throw M.Z["api-error-messages"]["unexpected-error"];return g((function(e){return(0,a.pi)((0,a.pi)({},e),{mlFeatures:t.mlFeatures})})),[3,3];case 2:return n=r.sent(),(0,U.Eo)(n),[3,3];case 3:return[2]}}))}))},updateThreadHandler:function(e,t,n,a){(0,H.jw)(e,t,n,a,X)},onExtensionUpdate:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,ge(e)];case 1:if(!(t=a.sent()))throw M.Z["api-error-messages"]["update-entity-error"];return g(t),[3,3];case 2:return n=a.sent(),(0,U.Eo)(n,M.Z["api-error-messages"]["update-entity-error"]),[3,3];case 3:return[2]}}))}))}}):s.createElement(p.Z,null,Re._D)))}))}}]);