"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[4453],{96971:function(e,t,n){n.d(t,{Zt:function(){return o},$K:function(){return l},BN:function(){return c},el:function(){return s},Cr:function(){return u},aI:function(){return d},xz:function(){return m},Nq:function(){return f},Fj:function(){return w}});var a=n(70655),r=n(97451),i="/alerts",o=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,r.Z.get("/alerts/"+e,{params:(0,a.pi)((0,a.pi)({},t),{include:"all"})})];case 1:return[2,n.sent().data]}}))}))},l=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,r.Z.get("/alerts/name/"+e,{params:(0,a.pi)((0,a.pi)({},t),{include:"all"})})];case 1:return[2,n.sent().data]}}))}))},c=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,r.Z.get(i,{params:(0,a.pi)({},e)})];case 1:return[2,t.sent().data]}}))}))},s=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,r.Z.post(i,e)];case 1:return[2,t.sent().data]}}))}))},u=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,r.Z.put(i,e)];case 1:return[2,t.sent().data]}}))}))},d=function(){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return[4,r.Z.get("/alerts/functions")];case 1:return[2,e.sent().data]}}))}))},m=function(){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return[4,r.Z.get("/alerts/entityFunctions")];case 1:return[2,e.sent().data]}}))}))},f=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,r.Z.get("/alerts/defaultTriggers",{params:{after:e}})];case 1:return[2,t.sent().data]}}))}))},w=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,r.Z.get("/alerts/allAlertAction/"+e)];case 1:return[2,t.sent().data]}}))}))}},10584:function(e,t,n){n.d(t,{z:function(){return c}});var a=n(70655),r=n(45697),i=n.n(r),o=n(67294),l={base:"button-comp tw-align-bottom tw-inline-flex tw-items-center tw-justify-center tw-cursor-pointer \n    tw-leading-5 tw-transition-colors tw-duration-150 tw-font-medium focus:tw-outline-none",block:"tw-block tw-w-full",size:{large:"tw-px-5 tw-py-3 tw-rounded-lg",regular:"tw-px-4 tw-py-2 tw-rounded-lg tw-text-sm",small:"tw-px-2 tw-py-0.5 tw-rounded-md tw-text-sm","x-small":"tw-px-2 tw-py-px tw-rounded-md tw-text-xs",custom:""},contained:{default:{base:"tw-text-gray-600 tw-bg-gray-300 tw-border tw-border-transparent",active:"active:tw-bg-gray-400 hover:tw-bg-gray-400 focus:tw-ring focus:tw-ring-gray-300",disabled:"tw-opacity-50 tw-cursor-not-allowed"},primary:{base:"tw-text-white tw-bg-primary tw-border tw-border-transparent",active:"active:tw-bg-primary-active hover:tw-bg-primary-hover focus:tw-bg-primary-active focus:tw-ring focus:tw-ring-purple-300",disabled:"tw-opacity-50 tw-cursor-not-allowed"}},outlined:{default:{base:"tw-text-grey-muted tw-border-gray-300 tw-border dark:tw-text-gray-400 focus:tw-outline-none",active:"active:tw-bg-transparent hover:tw-border-gray-600 focus:tw-border-gray-600 \n      hover:tw-text-gray-600 active:tw-text-gray-600 focus:tw-ring focus:tw-ring-gray-300",disabled:"tw-opacity-50 tw-cursor-not-allowed"},primary:{base:"tw-text-primary tw-border-primary tw-border dark:tw-text-blue-300 focus:tw-outline-none",active:"active:tw-bg-transparent hover:tw-bg-primary hover:tw-text-white focus:tw-bg-primary \n      focus:tw-text-white active:tw-bg-primary active:tw-text-white focus:tw-ring focus:tw-ring-purple-300",disabled:"tw-opacity-50 tw-cursor-not-allowed"}},link:{default:{base:"tw-text-grey dark:tw-text-gray-400 focus:tw-outline-none",active:"active:tw-bg-transparent hover:tw-underline focus:tw-underline \n        hover:tw-text-gray-600 active:tw-text-gray-600",disabled:"tw-opacity-50 tw-cursor-not-allowed"},primary:{base:"tw-text-primary dark:tw-text-blue-300 focus:tw-outline-none",active:"active:tw-bg-transparent hover:tw-underline focus:tw-underline \n        hover:tw-text-primary-hover active:tw-text-primary-active",disabled:"tw-opacity-50 tw-cursor-not-allowed"}},text:{default:{base:"tw-text-grey-muted dark:tw-text-gray-400 focus:tw-outline-none",active:"active:tw-bg-transparent hover:tw-text-gray-600 active:tw-text-gray-600",disabled:"tw-opacity-50 tw-cursor-not-allowed"},primary:{base:"tw-text-primary dark:tw-text-blue-300 focus:tw-outline-none",active:"active:tw-bg-transparent hover:tw-text-primary-hover active:tw-text-primary-active",disabled:"tw-opacity-50 tw-cursor-not-allowed"}}},c=o.forwardRef((function(e,t){var n=e.block,r=void 0!==n&&n,i=e.children,c=e.className,s=void 0===c?"":c,u=e.disabled,d=void 0!==u&&u,m=e.size,f=void 0===m?"regular":m,w=e.tag,p=void 0===w?"button":w,v=e.theme,b=void 0===v?"default":v,g=e.type,y=void 0===g?"button"===p?"button":void 0:g,E=e.variant,h=void 0===E?"contained":E,x=(0,a._T)(e,["block","children","className","disabled","size","tag","theme","type","variant"]),Z=l.base,k=l.block,T=l.size[f],D=l[h][b].base,S=l[h][b].active,A=l[h][b].disabled,C=[Z,T,D,d?A:S,r?k:"",s].join(" ");return o.createElement(p,(0,a.pi)({className:C,ref:t,disabled:d,type:y},x),i)}));c.propTypes={block:i().bool,children:i().node,className:i().string,disabled:i().bool,tag:i().string,size:i().oneOf(["large","regular","small","x-small","custom"]),theme:i().oneOf(["default","primary"]),type:i().oneOf(["button","submit","reset"]),variant:i().oneOf(["contained","outlined","link","text"])},c.displayName="Button"},72945:function(e,t,n){n.d(t,{Z:function(){return y}});var a,r=n(70655),i=n(50146),o=n(55742),l=n(96486),c=n(67294),s=n(59293),u=n(74313),d={loading:"initial",state:!1,softDelete:!0},m=n(64632),f=n(6929),w=n(48132),p=n(22215),v=n(50168),b=n(10584),g=n(53867);!function(e){e.SOFT_DELETE="soft-delete",e.HARD_DELETE="hard-delete"}(a||(a={}));var y=function(e){var t=e.allowSoftDelete,n=void 0===t||t,y=e.visible,E=e.deleteMessage,h=e.softDeleteMessagePostFix,x=void 0===h?"":h,Z=e.hardDeleteMessagePostFix,k=void 0===Z?"":Z,T=e.entityName,D=e.entityType,S=e.onCancel,A=e.entityId,C=e.prepareType,P=void 0===C||C,N=e.isRecursiveDelete,R=e.afterDeleteAction,F=(0,s.k6)(),L=(0,r.CR)((0,c.useState)(d),2),O=L[0],_=L[1],I=(0,r.CR)((0,c.useState)(""),2),G=I[0],z=I[1],J=(0,r.CR)((0,c.useState)(n?a.SOFT_DELETE:a.HARD_DELETE),2),W=J[0],B=J[1],H=(0,r.CR)((0,c.useState)(!1),2),M=H[0],j=H[1],V=function(e){void 0===e&&(e=!1);var t="Soft deleting will deactivate the "+T+". This will disable any discovery, read or write operations on "+T+".",n=(0,w.fP)((0,p.DX)(D),"");return e?t:n},q=[{title:"Delete "+D+" “"+T+"”",description:V(!0)+" "+x,type:a.SOFT_DELETE,isAllowd:n},{title:"Permanently Delete "+D+" “"+T+"”",description:(E||V())+" "+k,type:a.HARD_DELETE,isAllowd:!0}],K=function(){_(d),z(""),B(a.SOFT_DELETE),S()},U=(0,c.useCallback)((function(){return"DELETE"===G&&(W===a.SOFT_DELETE||W===a.HARD_DELETE)}),[G]);return(0,c.useEffect)((function(){B(n?a.SOFT_DELETE:a.HARD_DELETE),_((0,r.pi)((0,r.pi)({},d),{softDelete:n}))}),[n]),c.createElement(i.Z,{closable:!1,confirmLoading:M,"data-testid":"delete-modal",footer:c.createElement("div",{className:"tw-justify-end","data-testid":"footer"},c.createElement(b.z,{className:"tw-mr-2","data-testid":"discard-button",disabled:"waiting"===O.loading,size:"regular",theme:"primary",variant:"text",onClick:K},"Cancel"),"waiting"===O.loading?c.createElement(b.z,{disabled:!0,className:"tw-w-16 tw-h-8 tw-rounded-md disabled:tw-opacity-100","data-testid":"loading-button",size:"custom",theme:"primary",variant:"contained"},c.createElement(g.Z,{size:"small",type:"white"})):c.createElement(b.z,{className:"tw-h-8 tw-px-3 tw-py-2 tw-rounded-md","data-testid":"confirm-button",disabled:!U(),size:"custom",theme:"primary",variant:"contained",onClick:function(){j(!1),_((function(e){return(0,r.pi)((0,r.pi)({},e),{loading:"waiting"})})),(0,u.Ks)(P?[m.py.DASHBOARD_SERVICE,m.py.DATABASE_SERVICE,m.py.MESSAGING_SERVICE,m.py.PIPELINE_SERVICE,m.py.METADATA_SERVICE].includes(D||"")?"services/"+D+"s":D===m.py.GLOSSARY?"glossaries":D===m.py.POLICY?"policies":D===m.py.TEST_SUITE||D===m.py.KPI?D:D+"s":D,null!=A?A:"",Boolean(N),!O.softDelete).then((function(e){200===e.status?setTimeout((function(){K(),(0,v.XA)(f.Z["api-success-messages"]["delete-entity-success"].replace("Entity",(0,l.startCase)(D))),R?R():setTimeout((function(){F.push("/")}),500)}),1e3):(0,v.Eo)(f.Z["api-error-messages"]["unexpected-server-response"])})).catch((function(e){(0,v.Eo)(e,f.Z["api-error-messages"]["delete-entity-error"])})).finally((function(){K(),j(!1)}))}},"Confirm")),okText:"Delete",title:"Delete "+T,visible:y,onCancel:K},c.createElement(o.ZP.Group,{value:W,onChange:function(e){var t,n=e.target.value;B(n),void 0===(t=n===a.SOFT_DELETE)&&(t=!0),_((function(e){return(0,r.pi)((0,r.pi)({},e),{state:!0,softDelete:t})}))}},q.map((function(e){return e.isAllowd&&c.createElement(o.ZP,{"data-testid":e.type,key:e.type,value:e.type},c.createElement("p",{className:"tw-text-sm tw-mb-1 tw-font-medium","data-testid":e.type+"-option"},e.title),c.createElement("p",{className:"tw-text-grey-muted tw-text-xs tw-mb-2"},e.description))}))),c.createElement("div",null,c.createElement("p",{className:"tw-mb-2"},"Type ",c.createElement("strong",null,"DELETE")," to confirm"),c.createElement("input",{autoComplete:"off",className:"tw-form-inputs tw-form-inputs-padding","data-testid":"confirmation-text-input",disabled:"waiting"===O.loading,name:"entityName",placeholder:"DELETE",type:"text",value:G,onChange:function(e){z(e.target.value)}})))}},41693:function(e,t,n){n.d(t,{Z:function(){return u}});var a,r=n(70655),i=n(51436),o=n(67814),l=n(67294);!function(e){e.BEFORE="before",e.AFTER="after"}(a||(a={}));var c=n(10584),s=function(e,t){return Math.ceil(t/e)},u=function(e){var t=e.paging,n=e.pagingHandler,u=e.totalCount,d=e.pageSize,m=e.isNumberBased,f=void 0!==m&&m,w=e.currentPage,p=(0,r.CR)((0,l.useState)(1),2),v=p[0],b=p[1];return(0,l.useEffect)((function(){b(w)}),[w]),l.createElement("div",{className:"tw-my-4 tw-flex tw-justify-center tw-items-center tw-gap-2","data-testid":"pagination"},l.createElement(c.z,{className:"tw-rounded tw-w-24  tw-px-3 tw-py-1.5 tw-text-sm","data-testid":"previous",disabled:f?1===v:!t.before,size:"custom",theme:"primary",variant:"outlined",onClick:function(){b(v-1),f?n(v-1):n(a.BEFORE,v-1)}},l.createElement(o.G,{className:"tw-text-sm tw-align-middle tw-pr-1.5",icon:i.acZ})," ",l.createElement("span",null,"Previous")),l.createElement("span",{className:"tw-px-2","data-testid":"page-indicator"},v+"/"+s(d,u)+" Page"),l.createElement(c.z,{className:"tw-rounded tw-w-24 tw-px-3 tw-py-1.5 tw-text-sm","data-testid":"next",disabled:function(){if(f){var e=s(d,u);return v===e}return!t.after}(),size:"custom",theme:"primary",variant:"outlined",onClick:function(){b(v+1),f?n(v+1):n(a.AFTER,v+1)}},l.createElement("span",null," Next")," ",l.createElement(o.G,{className:"tw-text-sm tw-align-middle tw-pl-1.5",icon:i.eFW})))}},79072:function(e,t,n){var a,r,i;n.d(t,{c3:function(){return a}}),function(e){e.ActivityFeed="ActivityFeed",e.Email="Email",e.GenericWebhook="GenericWebhook",e.MSTeamsWebhook="MsTeamsWebhook",e.SlackWebhook="SlackWebhook"}(a||(a={})),function(e){e.System="system",e.User="user"}(r||(r={})),function(e){e.Active="active",e.AwaitingRetry="awaitingRetry",e.Disabled="disabled",e.Failed="failed",e.RetryLimitReached="retryLimitReached"}(i||(i={}))},3396:function(e,t,n){var a,r,i;n.d(t,{Qm:function(){return a},lP:function(){return r},Pq:function(){return i}}),function(e){e.Exclude="exclude",e.Include="include"}(a||(a={})),function(e){e.System="system",e.User="user"}(r||(r={})),function(e){e.AllDataAssets="AllDataAssets",e.SpecificDataAsset="SpecificDataAsset"}(i||(i={}))},94453:function(e,t,n){n.r(t);var a=n(70655),r=n(94199),i=n(71577),o=n(71230),l=n(15746),c=n(56256),s=n(25213),u=n(96486),d=n(67294),m=n(437),f=n(97882),w=n(96971),p=n(72945),v=n(41693),b=n(53867),g=n(62761),y=n(96162),E=n(64632),h=n(3396),x=n(79090),Z=n(96840),k=n(38464),T=n(50168);t.default=function(){var e=(0,a.CR)((0,d.useState)(!0),2),t=e[0],n=e[1],D=(0,m.$)().t,S=(0,a.CR)((0,d.useState)([]),2),A=S[0],C=S[1],P=(0,a.CR)((0,d.useState)({total:0}),2),N=P[0],R=P[1],F=(0,a.CR)((0,d.useState)(0),2),L=F[0],O=F[1],_=(0,a.CR)((0,d.useState)(),2),I=_[0],G=_[1],z=(0,d.useCallback)((function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,r,i;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:n(!0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,(0,w.BN)({after:e})];case 2:return t=a.sent(),r=t.data,i=t.paging,C(r.filter((function(e){return e.provider!==h.lP.System}))),R(i),[3,5];case 3:return a.sent(),(0,T.Eo)(D("server.entity-fetch-error",{entity:D("label.alert-plural")})),[3,5];case 4:return n(!1),[7];case 5:return[2]}}))}))}),[]);(0,d.useEffect)((function(){z()}),[]);var J=(0,d.useCallback)((function(){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){return z(),[2]}))}))}),[]),W=(0,d.useCallback)((function(e,t){e&&(z(e+""),t&&O(t))}),[]),B=(0,d.useMemo)((function(){return[{title:D("label.name"),dataIndex:"name",width:"200px",key:"name",render:function(e,t){return d.createElement(f.Link,{to:"alert/"+t.id},e)}},{title:D("label.trigger"),dataIndex:["triggerConfig","type"],width:"200px",key:"triggerConfig.type",render:x._D},{title:D("label.description"),dataIndex:"description",flex:!0,key:"description"},{title:D("label.actions"),dataIndex:"id",width:120,key:"id",render:function(e,t){return d.createElement(d.Fragment,null,d.createElement(r.Z,{placement:"bottom",title:D("label.edit")},d.createElement(f.Link,{to:"edit-alert/"+e},d.createElement(i.Z,{"data-testid":"alert-edit-"+t.name,icon:d.createElement(k.ZP,{className:"tw-w-4",icon:k.PJ.EDIT}),type:"text"}))),d.createElement(r.Z,{placement:"bottom",title:D("label.delete")},d.createElement(i.Z,{"data-testid":"alert-delete-"+t.name,disabled:t.provider===h.lP.System,icon:d.createElement(k.ZP,{className:"tw-w-4",icon:k.PJ.DELETE}),type:"text",onClick:function(){return G(t)}})))}}]}),[J]);return d.createElement(d.Fragment,null,d.createElement(o.Z,{gutter:[16,16]},d.createElement(l.Z,{span:24},d.createElement("div",{className:"d-flex justify-between"},d.createElement("div",null,d.createElement(c.Z.Title,{level:5},D("label.alert-plural")),d.createElement(c.Z.Text,null,D("message.alerts-description"))),d.createElement(f.Link,{to:(0,Z.si)(y.CZ.NOTIFICATIONS,y.lx.ADD_ALERTS)},d.createElement(i.Z,{type:"primary"},D("label.create-entity",{entity:"alert"}))))),d.createElement(l.Z,{span:24},d.createElement(s.Z,{bordered:!0,columns:B,dataSource:A,loading:{spinning:t,indicator:d.createElement(b.Z,null)},pagination:!1,rowKey:"id",size:"middle"})),d.createElement(l.Z,{span:24},Boolean(!(0,u.isNil)(N.after)||!(0,u.isNil)(N.before))&&d.createElement(v.Z,{currentPage:L,pageSize:g.Ou,paging:N,pagingHandler:W,totalCount:N.total}),d.createElement(p.Z,{afterDeleteAction:J,allowSoftDelete:!1,entityId:(null==I?void 0:I.id)||"",entityName:(null==I?void 0:I.name)||"",entityType:E.py.ALERT,visible:Boolean(I),onCancel:function(){G(void 0)}}))))}},79090:function(e,t,n){n.d(t,{us:function(){return k},rg:function(){return y},oS:function(){return x},aX:function(){return b},Hg:function(){return Z},_D:function(){return E},m8:function(){return g},vO:function(){return h}});var a,r=n(70655),i=n(56256),o=n(67800),l=n(96486),c=n(67294),s=n(36599);function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(this,arguments)}var d=function(e){return c.createElement("svg",u({width:16,height:16,fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img"},e),a||(a=c.createElement("path",{d:"M14.25 2.37H1.75C1.06 2.37.5 2.93.5 3.62v8.75c0 .69.56 1.25 1.25 1.25h12.5c.69 0 1.25-.56 1.25-1.25V3.62c0-.69-.56-1.25-1.25-1.25Zm-12.5.625h12.5c.046 0 .087.017.13.026-1.082.99-4.67 4.274-5.926 5.405A.693.693 0 0 1 8 8.62a.693.693 0 0 1-.454-.194A1690.527 1690.527 0 0 1 1.62 3.02c.043-.009.084-.026.13-.026Zm-.625 9.375V3.62c0-.061.018-.117.035-.173.828.758 3.332 3.049 4.956 4.525-1.619 1.39-4.123 3.765-4.958 4.561-.015-.053-.033-.105-.033-.163Zm13.125.625H1.75c-.05 0-.094-.017-.14-.028.862-.823 3.382-3.21 4.972-4.571l.546.494c.257.232.559.355.872.355.313 0 .615-.123.872-.355.15-.134.339-.306.546-.494 1.59 1.36 4.11 3.748 4.973 4.57-.047.012-.091.03-.141.03Zm.625-.625c0 .058-.018.11-.033.163-.835-.796-3.34-3.17-4.958-4.56 1.624-1.477 4.127-3.767 4.956-4.526.017.056.035.112.035.173v8.75Z",fill:"#37352F",stroke:"#37352F",strokeWidth:.3})))},m=n(38100),f=n(29452),w=n(53112),p=n(79072),v=n(3396),b=function(e){switch(e){case p.c3.SlackWebhook:return c.createElement(f.r,{height:16,width:16});case p.c3.MSTeamsWebhook:return c.createElement(m.r,{height:16,width:16});case p.c3.Email:return c.createElement(d,{height:16,width:16});case p.c3.ActivityFeed:return c.createElement(s.r,{height:16,width:16});case p.c3.GenericWebhook:default:return c.createElement(w.r,{height:16,width:16})}},g=function(e){switch(e){case"matchAnyEntityFqn":return o.ZP.t("label.fqn-uppercase");case"matchAnyOwnerName":return o.ZP.t("label.owner");case"matchAnyEventType":return o.ZP.t("label.event-type");case"matchTestResult":return o.ZP.t("label.test-results");case"matchUpdatedBy":return o.ZP.t("label.updated-by");case"matchAnyFieldChange":return o.ZP.t("label.field-change");default:return""}},y=function(e){var t=e.heading,n=e.subHeading;return c.createElement("div",{className:"bg-grey p-sm rounded-4"},c.createElement(i.Z.Text,null,t),c.createElement("br",null),c.createElement(i.Z.Text,{className:"text-xs text-grey-muted"},n))},E=function(e){switch(e){case v.Pq.AllDataAssets:return o.ZP.t("label.all-data-assets");case v.Pq.SpecificDataAsset:return o.ZP.t("label.specific-data-assets")}},h=function(e,t){return void 0===t&&(t=1),function(n,a){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(n){return!a||a.length<t?[2,Promise.reject(new Error(o.ZP.t("message.length-validator-error",{length:t,field:e})))]:[2,Promise.resolve()]}))}))}},x=function(e){switch(e){case p.c3.ActivityFeed:return o.ZP.t("label.activity-feeds");case p.c3.Email:return o.ZP.t("label.email");case p.c3.GenericWebhook:return o.ZP.t("label.webhook");case p.c3.SlackWebhook:return o.ZP.t("label.slack");case p.c3.MSTeamsWebhook:return o.ZP.t("label.ms-teams")}},Z=function(e){switch(e){case"kpi":return o.ZP.t("label.kpi-uppercase");case"mlmodel":return o.ZP.t("label.ml-model");default:return(0,l.startCase)(e)}},k="/settings/notifications/edit-alert"}}]);