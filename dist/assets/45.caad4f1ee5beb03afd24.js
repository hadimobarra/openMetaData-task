"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[45,7364,1794,1603,925],{97109:function(e,t,n){var a=n(8081),r=n.n(a),l=n(23645),i=n.n(l)()(r());i.push([e.id,'/*\n *  Copyright 2022 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n/*\n *  Copyright 2022 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.feed-list-container .ant-btn-link {\n  padding: 0px;\n}\n.feed-list-container .dropdown-icon {\n  fill: #089aad;\n}\n.feed-list-container .filters-container {\n  position: sticky;\n  top: 0;\n  padding: 0px;\n  z-index: 10;\n  border-bottom: 1px solid #e1eece;\n}\n.feed-list-container .filters-wrapper {\n  position: sticky;\n  top: 0;\n  margin-left: -8px;\n  margin-right: -8px;\n  z-index: 300;\n  background-color: #f8f9fa;\n}\n',""]),t.Z=i},22275:function(e,t,n){var a=n(8081),r=n.n(a),l=n(23645),i=n.n(l)()(r());i.push([e.id,'/*\n *  Copyright 2022 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.ant-card-feed {\n  border: 1px solid #dde3ea;\n  border-radius: 4px;\n  box-shadow: 1px 1px 8px #0000000f;\n}\n.task-feed-card {\n  border: 1px solid #c6b5f6;\n}\n.announcement-feed-card {\n  border: 1px solid #ffc143;\n  background-color: #fffdf8;\n}\n',""]),t.Z=i},42905:function(e,t,n){var a=n(8081),r=n.n(a),l=n(23645),i=n.n(l)()(r());i.push([e.id,'/*\n *  Copyright 2022 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.entity-button {\n  color: #37352f;\n}\n.entity-button:hover {\n  color: #089aad;\n  text-decoration: underline;\n}\n',""]),t.Z=i},49857:function(e,t,n){var a=n(8081),r=n.n(a),l=n(23645),i=n.n(l)()(r());i.push([e.id,'/*\n *  Copyright 2022 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.description-markdown-editor .ant-modal-header,\n.description-markdown-editor .ant-modal-body,\n.description-markdown-editor .ant-modal-footer {\n  padding: 20px 24px;\n}\n',""]),t.Z=i},64666:function(e,t,n){var a=n(8081),r=n.n(a),l=n(23645),i=n.n(l)()(r());i.push([e.id,'/*\n *  Copyright 2022 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.manage-button .ant-space-item:first-child {\n  width: 40px;\n  align-self: baseline;\n}\n.manage-dropdown-button {\n  border: none;\n  background-color: #e1eece;\n  padding: 0;\n}\n.manage-dropdown-button .ant-btn {\n  padding: 0 8px 0 8px;\n}\n.manage-dropdown-button:hover,\n.manage-dropdown-button:focus {\n  background-color: #54c5d0;\n}\n.manage-dropdown-button:hover .manage-dropdown-icon,\n.manage-dropdown-button:focus .manage-dropdown-icon {\n  color: #ffffff;\n}\n.ant-dropdown-menu {\n  padding: 8px 0px;\n  background: #ffffff;\n  border: 1px solid #dde3ea;\n  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.12);\n  border-radius: 4px;\n}\n.ant-dropdown-menu .ant-dropdown-menu-item {\n  padding: 5px 16px;\n}\n',""]),t.Z=i},63750:function(e,t,n){n.d(t,{Qe:function(){return l},ov:function(){return i},q8:function(){return s},TJ:function(){return o}});var a=n(70655),r=n(97451),l=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t={category:e,limit:"12"},[4,r.Z.get("/metadata/types",{params:t})];case 1:return[2,n.sent().data]}}))}))},i=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return t="/metadata/types/name/"+e,n={fields:"customProperties"},[4,r.Z.get(t,{params:n})];case 1:return[2,a.sent().data]}}))}))},s=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n="/metadata/types/"+e,[4,r.Z.put(n,t)];case 1:return[2,a.sent().data]}}))}))},o=function(e,t){return(0,a.mG)(void 0,void 0,void 0,(function(){var n,l;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n={headers:{"Content-type":"application/json-patch+json"}},l="/metadata/types/"+e,[4,r.Z.patch(l,t,n)];case 1:return[2,a.sent().data]}}))}))}},22001:function(e,t,n){n.d(t,{Z:function(){return ie}});var a=n(70655),r=n(71230),l=n(15746),i=n(71577),s=n(56256),o=n(94184),c=n.n(o),d=n(96486),u=n(67294),m=n(437),p=n(58369),f=n(14469),E=n(68430),h=n(31982),w=n(77743),v=n(28178),y=n(95126),g=n(13950),T=n(6929),b=n(50168),N=n(27300),C=n(77740),x=n(78790),S=n(92265),Z=n(26051),P=function(e){var t=e.open,n=e.selectedThread,r=e.onCancel,l=e.className,i=e.postFeed,s=e.deletePostHandler,o=e.updateThreadHandler,d=(0,a.CR)((0,u.useState)(n),2),m=d[0],f=d[1],E=(0,a.CR)((0,u.useState)(!1),2),w=E[0],v=E[1],y=(0,h.dS)(n.about),P=(0,h.ku)(n.about),k=(0,a.CR)((0,u.useState)(p.BB),2),L=k[0],D=k[1],A=function(){D(p.BB)};return(0,u.useEffect)((function(){(0,g.h4)(n.id).then((function(e){f(e.data)})).catch((function(e){(0,b.Eo)(e,T.Z["api-error-messages"]["fetch-feed-error"])})).finally((function(){return v(!1)}))}),[n]),u.createElement("div",{className:c()("tw-h-full",l)},u.createElement(Z.Z,{className:"tw-z-9997 tw-fixed tw-inset-0 tw-top-16 tw-h-full tw-w-3/5 tw-bg-black tw-opacity-40",onCancel:r}),u.createElement("div",{className:c()("tw-top-16 tw-right-0 tw-bottom-0 tw-w-2/5 tw-bg-white tw-fixed tw-shadow-md tw-transform tw-ease-in-out tw-duration-1000 tw-overflow-y-auto tw-z-9997",{"tw-translate-x-0":t,"tw-translate-x-full":!t}),id:"feed-panel"},u.createElement(S.Z,{className:"tw-px-4 tw-shadow-sm",entityFQN:P,entityField:y,threadType:n.type,onCancel:r}),u.createElement(x.Z,{className:"tw-p-4 tw-pl-8 tw-mb-3",deletePostHandler:s,isLoading:w,threadData:m,updateThreadHandler:o,onConfirmation:function(e){D(e)}}),u.createElement(N.Z,{buttonClass:"tw-mr-4",className:"tw-ml-5 tw-mr-2 tw-mb-2",onSave:i})),u.createElement(C.Z,{visible:L.state,onDelete:function(){L.postId&&L.threadId&&(null==s||s(L.threadId,L.postId,L.isThread)),A()},onDiscard:A}))},k=n(57364),L=n(38464),D=function(e){var t=e.className,n=e.entityName;return u.createElement("div",{className:c()("tw-mt-10 tw-text-base tw-font-medium",t),"data-testid":"placeholder-container"},u.createElement("div",{className:"tw-text-center"},u.createElement("span",{"data-testid":"placeholder-message"},'There is no activity on the "'+n+'" yet. Start a conversation by clicking\n      on the '),u.createElement("span",{"data-testid":"placeholder-icon"},u.createElement(L.ZP,{alt:"comments",icon:L.PJ.COMMENT_PLUS,width:"20px"})),u.createElement("span",null," to collaborate with other users.")),u.createElement("div",{"data-testid":"placeholder-image"},u.createElement("img",{alt:"editor-image",className:"tw-rounded tw-mt-2 tw-block tw-m-auto","data-testid":"editor-image",loading:"lazy",src:k.default,width:"600px"})))},A=n(93379),I=n.n(A),R=n(7795),F=n.n(R),O=n(90569),H=n.n(O),M=n(3565),B=n.n(M),_=n(19216),J=n.n(_),U=n(44589),K=n.n(U),G=n(97109),q={};q.styleTagTransform=K(),q.setAttributes=B(),q.insert=H().bind(null,"head"),q.domAPI=F(),q.insertStyleElement=J(),I()(G.Z,q),G.Z&&G.Z.locals&&G.Z.locals;var W=n(59615),Y=n(91894),V=n(59293),z=n(31615),j=n(44355),Q=n(77863),X=n(16583),$=n(18085),ee=n(53552),te=n(53179),ne=n(22275),ae={};ae.styleTagTransform=K(),ae.setAttributes=B(),ae.insert=H().bind(null,"head"),ae.domAPI=F(),ae.insertStyleElement=J(),I()(ne.Z,ae),ne.Z&&ne.Z.locals&&ne.Z.locals;var re=function(e){var t=e.updatedFeedList,n=e.relativeDay,r=e.isEntityFeed,l=e.onThreadSelect,i=e.onThreadIdSelect,s=e.postFeed,o=e.onViewMore,m=e.selectedThreadId,p=e.onConfirmation,f=e.updateThreadHandler,E=(0,V.k6)();return u.createElement(u.Fragment,null,t.filter((function(e){return e.relativeDay===n})).map((function(e,t){var n,h,w,v,y={message:e.message,postTs:e.threadTs,from:e.createdBy,id:e.id,reactions:e.reactions},g=(0,d.isEqual)(e.type,z.Th.Task),T=e.type===z.Th.Announcement,b=(null===(n=null==e?void 0:e.posts)||void 0===n?void 0:n.length)||0,C=e.postsCount?e.postsCount-1:0,x=(0,a.ev)([],(0,a.CR)(new Set(((null==e?void 0:e.posts)||[]).map((function(e){return e.from}))))).slice(0,b>=3?2:1),S=null===(h=null==e?void 0:e.posts)||void 0===h?void 0:h[b-1];return u.createElement(Y.Z,{className:c()("ant-card-feed relative m-t-md",g||T?"p-t-xs":"",g?"task-feed-card":T?"announcement-feed-card":""),key:t+" - card",onClick:function(){return e.task&&function(e,t){t&&E.push((0,j.yv)(String(e)))}(e.task.id,g)}},g&&u.createElement(te.Z,{status:null===(w=e.task)||void 0===w?void 0:w.status}),T&&u.createElement(ee.Z,null),u.createElement("div",{"data-testid":"message-container",key:t},u.createElement(X.Z,{isThread:!0,announcementDetails:e.announcement,"data-testid":"main-message",entityLink:e.about,feed:y,feedType:e.type||z.Th.Conversation,isEntityFeed:r,taskDetails:e.task,threadId:e.id,updateThreadHandler:f,onConfirmation:p,onReply:function(){return t=e.id,l(t),void o();var t}}),b>0?u.createElement(u.Fragment,null,function(e,t,n,a,r){return u.createElement("div",{className:"tw-ml-9 tw-my-2"},Boolean(r)&&u.createElement("div",{className:"tw-filter-seperator"}),e>1?u.createElement("div",{className:"tw-flex tw-my-4"},u.createElement($.Z,{isFooterVisible:!0,lastReplyTimeStamp:null==r?void 0:r.postTs,repliedUsers:t,replies:n,threadId:a,onThreadSelect:function(e){i(""),l(e),o()}})):null)}(b,x,C,e.id,S),u.createElement(X.Z,{className:"tw-ml-9","data-testid":"latest-message",feed:S,feedType:e.type||z.Th.Conversation,isEntityFeed:r,threadId:e.id,updateThreadHandler:f,onConfirmation:p,onReply:function(){return t=e.id,void i(m===t?"":t);var t}}),(v=e.id,m===v?u.createElement(N.Z,{buttonClass:"tw-mr-4",className:"tw-ml-5 tw-mr-2","data-testid":"quick-reply-editor",onSave:s}):null)):null),e.task&&u.createElement("div",{className:"tw-border-t tw-border-main tw-py-1 tw-flex"},u.createElement("span",{className:"tw-text-grey-muted"},"Assignees: "),u.createElement(Q.Z,{assignees:e.task.assignees||[],className:"tw-ml-0.5 tw-align-middle tw-inline-flex tw-flex-wrap"})))})))},le=n(14177),ie=(0,E.F)((function(e){var t=e.className,n=e.feedList,o=e.refreshFeedCount,E=e.onRefreshFeeds,g=e.withSidePanel,T=void 0!==g&&g,b=e.isEntityFeed,N=void 0!==b&&b,x=e.postFeedHandler,S=e.entityName,Z=e.deletePostHandler,k=e.updateThreadHandler,L=e.onFeedFiltersUpdate,A=e.hideFeedFilter,I=e.hideThreadFilter,R=e.stickyFilter,F=(0,m.$)().t,O=(0,h.wq)(n),H=O.updatedFeedList,M=O.relativeDays,B=(0,a.CR)((0,u.useState)(),2),_=B[0],J=B[1],U=(0,a.CR)((0,u.useState)(""),2),K=U[0],G=U[1],q=(0,a.CR)((0,u.useState)(!1),2),Y=q[0],V=q[1],z=(0,a.CR)((0,u.useState)(p.BB),2),j=z[0],Q=z[1],X=(0,a.CR)((0,u.useState)(!1),2),$=X[0],ee=X[1],te=(0,a.CR)((0,u.useState)(!1),2),ne=te[0],ae=te[1],ie=(0,a.CR)((0,u.useState)(N?f.D.ALL:f.D.OWNER),2),se=ie[0],oe=ie[1],ce=(0,a.CR)((0,u.useState)(),2),de=ce[0],ue=ce[1],me=(0,u.useCallback)((function(e,t){var n=t||(N?f.D.ALL:f.D.OWNER);oe(n),ee(!1),L&&L(n,de)}),[oe,ee,L,de]),pe=function(){Q(p.BB)},fe=function(e){Q(e)},Ee=function(e){G(e),J(void 0)},he=function(){G("")},we=function(e){var t=n.find((function(t){return t.id===e}));t&&J(t)},ve=function(){V(!0)},ye=function(){J(void 0),V(!1)},ge=function(e){var t;null==x||x(e,null!==(t=null==_?void 0:_.id)&&void 0!==t?t:K)},Te=(0,u.useCallback)((function(e,t){var n,a="ALL"===t?void 0:null!==(n=t)&&void 0!==n?n:void 0;ue(a),ae(!1),L&&L(se,a)}),[se,L,ue,ae]),be=(0,u.useMemo)((function(){return N?W.gQ.filter((function(e){return"ALL"===e.value||"MENTIONS"===e.value})):W.gQ.slice()}),[N]);return(0,u.useEffect)((function(){var e;we(null!==(e=null==_?void 0:_.id)&&void 0!==e?e:K)}),[n]),(0,u.useEffect)((function(){var e=function(e){"Escape"===e.key&&ye()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),u.createElement("div",{className:c()(t,"feed-list-container"),id:"feedData"},u.createElement("div",{className:R?"filters-wrapper":""},0!==n.length||se!==f.D.OWNER||de?function(){var e,t;return A&&I?null:u.createElement(r.Z,{className:c()("filters-container",R?"m-x-xs":""),justify:"space-between"},u.createElement(l.Z,null,!A&&u.createElement(u.Fragment,null,u.createElement(i.Z,{className:"flex items-center","data-testid":"feeds",icon:(0,W._n)(se),type:"link",onClick:function(){return ee((function(e){return!e}))}},u.createElement(s.Z.Text,{className:"font-medium text-primary m-x-xss"},null===(e=be.find((function(e){return e.value===se})))||void 0===e?void 0:e.name),u.createElement(w.Ym,{className:"dropdown-icon"})),$&&u.createElement(y.Z,{dropDownList:be,value:se,onSelect:me}))),u.createElement(l.Z,null,!I&&u.createElement(u.Fragment,null,u.createElement(i.Z,{className:"flex items-center","data-testid":"thread-filter",icon:(0,W.Ai)(null!=de?de:"ALL"),type:"link",onClick:function(){return ae((function(e){return!e}))}},u.createElement(s.Z.Text,{className:"font-medium text-primary m-x-xss"},null===(t=W.gv.find((function(e){return e.value===(null!=de?de:"ALL")})))||void 0===t?void 0:t.name),u.createElement(w.Ym,{className:"dropdown-icon"})),ne&&u.createElement(y.Z,{horzPosRight:!0,dropDownList:W.gv,value:de,onSelect:Te}))))}():null),o?u.createElement("div",{className:"tw-py-px tw-pt-3 tw-pb-3"},u.createElement("button",{className:"tw-refreshButton ",onClick:E},"View ",o," new"," ",o>1?"activities":"activity")):null,n.length>0?u.createElement(u.Fragment,null,M.map((function(e,t){return u.createElement("div",{"data-testid":"feed"+t,key:t},u.createElement(le.Z,{className:"relative m-y-xs",relativeDay:e}),u.createElement(re,{deletePostHandler:Z,isEntityFeed:N,postFeed:ge,relativeDay:e,selectedThreadId:K,updateThreadHandler:k,updatedFeedList:H,withSidePanel:T,onConfirmation:fe,onThreadIdDeselect:he,onThreadIdSelect:Ee,onThreadSelect:we,onViewMore:ve}))})),T&&_&&Y?u.createElement(u.Fragment,null,u.createElement(P,{deletePostHandler:Z,open:!(0,d.isUndefined)(_)&&Y,postFeed:ge,selectedThread:_,updateThreadHandler:k,onCancel:ye})):null):u.createElement("div",{className:"h-min-50"},S&&se===f.D.ALL&&!de?u.createElement(D,{entityName:S}):o?null:u.createElement(v.Z,null,F("message.no-data-available-for-selected-filter"))),u.createElement(C.Z,{visible:j.state,onDelete:function(){j.postId&&j.threadId&&(null==Z||Z(j.threadId,j.postId,j.isThread)),pe()},onDiscard:pe}))}))},59615:function(e,t,n){n.d(t,{_n:function(){return s},Ai:function(){return o},gQ:function(){return c},gv:function(){return d},MW:function(){return u}});var a=n(67294),r=n(14469),l=n(31615),i=n(38464),s=function(e){switch(e){case r.D.OWNER:return a.createElement(i.ZP,{alt:"My Data",className:"m-r-xss",icon:i.PJ.FOLDER_PRIMARY,width:"16px"});case r.D.MENTIONS:return a.createElement(i.ZP,{alt:"Mentions",className:"m-r-xss",icon:i.PJ.MENTIONS_PRIMARY,width:"16px"});case r.D.FOLLOWS:return a.createElement(i.ZP,{alt:"Following",className:"m-r-xss",icon:i.PJ.STAR_PRIMARY,width:"16px"});case r.D.ALL:default:return a.createElement(i.ZP,{alt:"All Activity",className:"m-r-xss",icon:i.PJ.ALL_APPLICATION_PRIMARY,width:"16px"})}},o=function(e){switch(e){case l.Th.Announcement:return a.createElement(i.ZP,{alt:"Announcement",className:"m-r-xss",icon:i.PJ.ANNOUNCEMENT_BASIC_PRIMARY,width:"16px"});case l.Th.Conversation:return a.createElement(i.ZP,{alt:"Conversation",className:"m-r-xss",icon:i.PJ.COMMENT_PRIMARY,width:"16px"});case l.Th.Task:return a.createElement(i.ZP,{alt:"Task",className:"m-r-xss",icon:i.PJ.TASK_PRIMARY,width:"16px"});default:return a.createElement(i.ZP,{alt:"All Threads",className:"m-r-xss",icon:i.PJ.ALL_APPLICATION_PRIMARY,width:"16px"})}},c=[{name:"All Activity",value:"ALL",icon:a.createElement(i.ZP,{alt:"All Activity",className:"m-r-xs",icon:i.PJ.ALL_APPLICATION,width:"16px"})},{name:"My Data",value:"OWNER",icon:a.createElement(i.ZP,{alt:"My Data",className:"m-r-xs",icon:i.PJ.FOLDER,width:"16px"})},{name:"Mentions",value:"MENTIONS",icon:a.createElement(i.ZP,{alt:"Mentions",className:"m-r-xs",icon:i.PJ.MENTIONS,width:"16px"})},{name:"Following",value:"FOLLOWS",icon:a.createElement(i.ZP,{alt:"Following",className:"m-r-xs",icon:i.PJ.STAR,width:"16px"})}],d=[{name:"All Threads",value:"ALL",icon:a.createElement(i.ZP,{alt:"All Threads",className:"m-r-xs",icon:i.PJ.ALL_APPLICATION,width:"16px"})},{name:"Task",value:"Task",icon:a.createElement(i.ZP,{alt:"Task",className:"m-r-xs",icon:i.PJ.TASK,width:"16px"})},{name:"Conversation",value:"Conversation",icon:a.createElement(i.ZP,{alt:"Conversation",className:"m-r-xs",icon:i.PJ.COMMENT_GREY,width:"16px"})},{name:"Announcement",value:"Announcement",icon:a.createElement(i.ZP,{alt:"Announcement",className:"m-r-xs",icon:i.PJ.ANNOUNCEMENT_BLACK,width:"16px"})}],u=[{name:"All Activity",value:"ALL"},{name:"Assigned to me",value:"ASSIGNED_TO"},{name:"Created by me",value:"ASSIGNED_BY"}]},78790:function(e,t,n){var a=n(67294),r=n(31615),l=n(31982),i=n(53867),s=n(16583);t.Z=function(e){var t,n,o,c=e.threadData,d=e.className,u=e.isLoading,m=e.onConfirmation,p=e.updateThreadHandler,f=null!==(n=null===(t=null==c?void 0:c.posts)||void 0===t?void 0:t.length)&&void 0!==n?n:0,E={message:c.message,from:c.createdBy,postTs:c.threadTs,id:c.id,reactions:c.reactions};return a.createElement(a.Fragment,null,u?a.createElement(i.Z,null):a.createElement("div",{className:d,"data-testid":"panel-body"},c?a.createElement("div",{"data-testid":"main-message"},a.createElement(s.Z,{isEntityFeed:!0,isThread:!0,announcementDetails:c.announcement,className:"tw-mb-3",feed:E,feedType:c.type||r.Th.Conversation,threadId:c.id,updateThreadHandler:p,onConfirmation:m})):null,f>0?a.createElement("div",{"data-testid":"replies"},a.createElement("div",{className:"tw-mb-3 tw-flex"},a.createElement("span",{"data-testid":"replies-count"},(0,l.l9)(f,"reply","replies")),a.createElement("span",{className:"tw-flex-auto tw-self-center tw-ml-1.5"},a.createElement("hr",null))),null===(o=null==c?void 0:c.posts)||void 0===o?void 0:o.map((function(e,t){return a.createElement(s.Z,{isEntityFeed:!0,className:"tw-mb-3",feed:e,feedType:c.type||r.Th.Conversation,key:t,threadId:c.id,updateThreadHandler:p,onConfirmation:m})}))):null))}},26051:function(e,t,n){var a=n(67294);t.Z=function(e){var t=e.className,n=e.onCancel;return a.createElement("button",{className:t,"data-testid":"overlay-button",onClick:n})}},19521:function(e,t,n){var a=n(70655),r=n(38222),l=n(94184),i=n.n(l),s=n(96486),o=n(67294),c=n(73935),d=n(58369),u=n(31615),m=n(26051),p=n(82913);t.Z=function(e){var t=e.threadLink,n=e.className,l=e.onCancel,f=e.open,E=e.postFeedHandler,h=e.createThread,w=e.deletePostHandler,v=e.updateThreadHandler,y=e.threadType,g=r.Z.TabPane,T=(0,a.CR)((0,o.useState)(d.qL.TASKS),2),b=T[0],N=T[1];return(0,o.useEffect)((function(){(0,s.isEqual)(y,u.Th.Conversation)&&N(d.qL.CONVERSATIONS)}),[y]),(0,o.useEffect)((function(){document.body.style.overflow="hidden"}),[]),c.createPortal(o.createElement("div",{className:i()("tw-h-full",n)},o.createElement(m.Z,{className:"tw-z-9997 tw-fixed tw-inset-0 tw-top-16 tw-h-full tw-w-3/5 tw-bg-black tw-opacity-40",onCancel:function(){return l&&l()}}),o.createElement("div",{className:i()("tw-top-16 tw-right-0 tw-bottom-0 tw-w-2/5 tw-bg-white tw-fixed tw-shadow-md tw-transform tw-ease-in-out tw-duration-1000 tw-overflow-y-auto tw-z-9997",{"tw-translate-x-0":f,"tw-translate-x-full":!f}),id:"thread-panel"},o.createElement(r.Z,{activeKey:b,className:"ant-tabs-custom-line ant-tabs-custom-threadpanel",onChange:function(e){N(e)}},o.createElement(g,{key:d.qL.TASKS,tab:"Tasks"},o.createElement(p.Z,{createThread:h,deletePostHandler:w,postFeedHandler:E,threadLink:t,threadType:u.Th.Task,updateThreadHandler:v,onCancel:l})),o.createElement(g,{key:d.qL.CONVERSATIONS,tab:"Conversations"},o.createElement(p.Z,{createThread:h,deletePostHandler:w,postFeedHandler:E,threadLink:t,threadType:u.Th.Conversation,updateThreadHandler:v,onCancel:l}))))),document.body)}},82913:function(e,t,n){n.d(t,{Z:function(){return J}});var a=n(70655),r=n(12028),l=n(71577),i=n(94184),s=n.n(i),o=n(96486),c=n(67294),d=n(52046),u=n(13950),m=n(58369),p=n(20615),f=n(14469),E=n(31615),h=n(51887),w=n(6929),v=n(31982),y=n(50168),g=n(28178),T=n(53867),b=n(27300),N=n(92265),C=n(77740),x=n(16583),S=function(e){var t,n,r,l=e.className,i=e.selectedThread,s=e.postFeed,o=e.onConfirmation,d=e.updateThreadHandler,m=(0,a.CR)((0,c.useState)(i),2),p=m[0],f=m[1],h=null!==(n=null===(t=null==p?void 0:p.posts)||void 0===t?void 0:t.length)&&void 0!==n?n:0,g={message:p.message,from:p.createdBy,postTs:p.threadTs,id:p.id,reactions:p.reactions};return(0,c.useEffect)((function(){(0,u.h4)(i.id).then((function(e){f(e.data)})).catch((function(e){(0,y.Eo)(e,w.Z["api-error-messages"]["fetch-feed-error"])}))}),[i]),c.createElement(c.Fragment,null,c.createElement("div",{className:l},p?c.createElement("div",{"data-testid":"main-message"},c.createElement(x.Z,{isEntityFeed:!0,isThread:!0,announcementDetails:p.announcement,className:"tw-mb-3",feed:g,feedType:p.type||E.Th.Conversation,threadId:p.id,updateThreadHandler:d,onConfirmation:o})):null,h>0?c.createElement("div",{"data-testid":"replies"},c.createElement("div",{className:"tw-mb-3 tw-flex"},c.createElement("span",{"data-testid":"replies-count"},(0,v.l9)(h,"reply","replies")),c.createElement("span",{className:"tw-flex-auto tw-self-center tw-ml-1.5"},c.createElement("hr",null))),null===(r=null==p?void 0:p.posts)||void 0===r?void 0:r.map((function(e,t){return c.createElement(x.Z,{isEntityFeed:!0,className:"tw-mb-3",feed:e,feedType:p.type||E.Th.Conversation,key:t,threadId:p.id,updateThreadHandler:d,onConfirmation:o})}))):null),c.createElement(b.Z,{buttonClass:"tw-mr-4",className:"tw-ml-5 tw-mr-2 tw-my-6",onSave:s}))},Z=n(91894),P=n(59293),k=n(44355),L=n(77863),D=n(46892),A=n(18085),I=n(14177),R=n(53552),F=n(53179),O=function(e){var t=e.className,n=e.threads,r=e.selectedThreadId,l=e.postFeed,i=e.onThreadIdSelect,s=e.onThreadSelect,d=e.onConfirmation,u=e.updateThreadHandler,p=(0,P.k6)(),f=(0,v.wq)(n),h=f.updatedFeedList,w=f.relativeDays;return c.createElement("div",{className:t},w.map((function(e,t){return c.createElement("div",{"data-testid":"thread"+t,key:t},c.createElement(I.Z,{className:"tw-relative tw-mt-1 tw-mb-3.5",relativeDay:e}),h.filter((function(t){return t.relativeDay===e})).map((function(e,t){var n,f,h,w={message:e.message,postTs:e.threadTs,from:e.createdBy,id:e.id,reactions:e.reactions},v=(0,o.isEqual)(e.type,E.Th.Task),y=e.type===E.Th.Announcement,g=(null===(n=null==e?void 0:e.posts)||void 0===n?void 0:n.length)||0,T=e.postsCount?e.postsCount-1:0,N=(0,a.ev)([],(0,a.CR)(new Set(((null==e?void 0:e.posts)||[]).map((function(e){return e.from}))))).slice(0,g>=3?2:1),C=null===(f=null==e?void 0:e.posts)||void 0===f?void 0:f[g-1];return c.createElement(c.Fragment,{key:t},c.createElement(Z.Z,{className:"ant-card-feed",key:t+" - card",style:(0,a.pi)((0,a.pi)({},D.K),{marginTop:"20px",paddingTop:v?"8px":"",border:v?"1px solid "+m.Rw:y?"1px solid "+m.WB:D.K.border,background:y?""+m.pA:""}),onClick:function(){return e.task&&function(e,t){t&&p.push((0,k.yv)(String(e)))}(e.task.id,v)}},v&&c.createElement(F.Z,{status:null===(h=e.task)||void 0===h?void 0:h.status}),y&&c.createElement(R.Z,null),c.createElement("div",{"data-testid":"main-message"},c.createElement(x.Z,{isEntityFeed:!0,isThread:!0,announcementDetails:e.announcement,entityLink:e.about,feed:w,feedType:e.type||E.Th.Conversation,taskDetails:e.task,threadId:e.id,updateThreadHandler:u,onConfirmation:d,onReply:function(){return s(e.id)}})),g>0?c.createElement("div",{"data-testid":"replies-container"},g>1?c.createElement("div",{className:"tw-ml-9 tw-my-2"},Boolean(C)&&c.createElement("div",{className:"tw-filter-seperator"}),c.createElement("div",{className:"tw-flex tw-my-4"},c.createElement(A.Z,{isFooterVisible:!0,lastReplyTimeStamp:null==C?void 0:C.postTs,repliedUsers:N,replies:T,threadId:e.id,onThreadSelect:function(){return s(e.id)}}))):null,c.createElement("div",{"data-testid":"latest-reply"},c.createElement(x.Z,{isEntityFeed:!0,className:"tw-ml-9",feed:C,feedType:e.type||E.Th.Conversation,threadId:e.id,updateThreadHandler:u,onConfirmation:d,onReply:function(){return t=e.id,void i(r===t?"":t);var t}}))):null,r===e.id?c.createElement("div",{"data-testid":"quick-reply-editor"},c.createElement(b.Z,{buttonClass:"tw-mr-4",className:"tw-ml-5 tw-mr-2 tw-mb-6",onSave:l})):null,e.task&&c.createElement("div",{className:"tw-border-t tw-border-main tw-py-1"},c.createElement("span",{className:"tw-text-grey-muted"},"Assignees:"," "),c.createElement(L.Z,{assignees:e.task.assignees||[],className:"tw-ml-0.5 tw-align-baseline tw-inline-flex tw-flex-wrap"}))))})))})))},H=n(56256),M=n(27049),B=n(71859),_=function(e){var t=e.threads,n=e.className,r=e.selectedThreadId,l=e.onThreadIdSelect,i=e.onThreadSelect,s=e.onConfirmation,o=e.postFeed,d=e.updateThreadHandler,u=(0,v.wq)(t).updatedFeedList,p=u.filter((function(e){var t,n;return e.announcement&&(0,B.B7)(null===(t=e.announcement)||void 0===t?void 0:t.startTime,null===(n=e.announcement)||void 0===n?void 0:n.endTime)})),f=u.filter((function(e){var t,n;return!(e.announcement&&(0,B.B7)(null===(t=e.announcement)||void 0===t?void 0:t.startTime,null===(n=e.announcement)||void 0===n?void 0:n.endTime))})),h=function(e){return e.map((function(e,t){var n,u,p={message:e.message,postTs:e.threadTs,from:e.createdBy,id:e.id,reactions:e.reactions},f=(null===(n=null==e?void 0:e.posts)||void 0===n?void 0:n.length)||0,h=e.postsCount?e.postsCount-1:0,w=(0,a.ev)([],(0,a.CR)(new Set(((null==e?void 0:e.posts)||[]).map((function(e){return e.from}))))).slice(0,f>=3?2:1),v=null===(u=null==e?void 0:e.posts)||void 0===u?void 0:u[f-1];return c.createElement(c.Fragment,{key:t},c.createElement(Z.Z,{className:"ant-card-feed","data-testid":"announcement-card",key:t+" - card",style:(0,a.pi)((0,a.pi)({},D.K),{marginTop:"20px",paddingTop:"8px",border:"1px solid "+m.WB,background:""+m.pA})},c.createElement(R.Z,null),c.createElement("div",{"data-testid":"main-message"},c.createElement(x.Z,{isEntityFeed:!0,isThread:!0,announcementDetails:e.announcement,entityLink:e.about,feed:p,feedType:e.type||E.Th.Conversation,taskDetails:e.task,threadId:e.id,updateThreadHandler:d,onConfirmation:s,onReply:function(){return i(e.id)}})),f>0?c.createElement("div",{"data-testid":"replies-container"},f>1?c.createElement("div",{className:"tw-ml-9 tw-my-2"},Boolean(v)&&c.createElement("div",{className:"tw-filter-seperator"}),c.createElement("div",{className:"tw-flex tw-my-4"},c.createElement(A.Z,{isFooterVisible:!0,lastReplyTimeStamp:null==v?void 0:v.postTs,repliedUsers:w,replies:h,threadId:e.id,onThreadSelect:function(){return i(e.id)}}))):null,c.createElement("div",{"data-testid":"latest-reply"},c.createElement(x.Z,{isEntityFeed:!0,className:"tw-ml-9",feed:v,feedType:e.type||E.Th.Conversation,threadId:e.id,updateThreadHandler:d,onConfirmation:s,onReply:function(){return t=e.id,void l(r===t?"":t);var t}}))):null,r===e.id?c.createElement("div",{"data-testid":"quick-reply-editor"},c.createElement(b.Z,{buttonClass:"tw-mr-4",className:"tw-ml-5 tw-mr-2 tw-mb-6",onSave:o})):null))}))};return c.createElement("div",{className:n},h(p),Boolean(f.length)&&c.createElement(c.Fragment,null,c.createElement(H.Z.Text,{className:"tw-block tw-mt-4 tw-font-medium","data-testid":"inActive-announcements"},"Inactive Announcements"),c.createElement(M.Z,{className:"tw-mb-4 tw-mt-2"})),h(f))},J=function(e){var t=e.threadLink,n=e.onCancel,i=e.postFeedHandler,x=e.createThread,Z=e.deletePostHandler,P=e.updateThreadHandler,k=e.className,L=e.showHeader,D=void 0===L||L,A=e.threadType,I=(0,a.CR)((0,c.useState)([]),2),R=I[0],F=I[1],H=(0,a.CR)((0,c.useState)(),2),M=H[0],B=H[1],J=(0,a.CR)((0,c.useState)(""),2),U=J[0],K=J[1],G=(0,a.CR)((0,c.useState)(!1),2),q=G[0],W=G[1],Y=(0,a.CR)((0,c.useState)(m.BB),2),V=Y[0],z=Y[1],j=(0,a.CR)((0,h.M)(p.a),2),Q=j[0],X=j[1],$=(0,a.CR)((0,c.useState)({}),2),ee=$[0],te=$[1],ne=(0,a.CR)((0,c.useState)(!1),2),ae=ne[0],re=ne[1],le=(0,a.CR)((0,c.useState)(E.aq.Open),2),ie=le[0],se=le[1],oe=(0,o.isEqual)(A,E.Th.Task),ce=(0,o.isEqual)(A,E.Th.Conversation),de=(0,o.isEqual)(ie,E.aq.Closed),ue=A===E.Th.Announcement,me=function(e){var n=oe?ie:void 0;re(!0),(0,u.XG)(t,e,A,f.D.ALL,n).then((function(t){var n=t.data,r=t.paging;F((function(t){return e?(0,a.ev)((0,a.ev)([],(0,a.CR)(t)),(0,a.CR)(n)):(0,a.ev)([],(0,a.CR)(n))})),te(r)})).catch((function(e){(0,y.Eo)(e,w.Z["api-error-messages"]["fetch-thread-error"])})).finally((function(){re(!1)}))},pe=function(){z(m.BB)},fe=function(){setTimeout((function(){me()}),500)},Ee=function(e){z(e)},he=(0,v.dS)(t),we=function(e){var t;null==i||i(e,null!==(t=null==M?void 0:M.id)&&void 0!==t?t:U),fe()},ve=function(e){K(e)},ye=function(e){var t=R.find((function(t){return t.id===e}));t&&B(t)},ge=function(e,t,n,a){P(e,t,n,a),fe()};return(0,c.useEffect)((function(){var e=function(e){"Escape"===e.key&&n&&n()};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[]),(0,c.useEffect)((function(){ye(null==M?void 0:M.id)}),[R]),(0,c.useEffect)((function(){me()}),[t,A,ie]),(0,c.useEffect)((function(){var e,t;e=ee,t=ae,X&&(null==e?void 0:e.after)&&!t&&me(e.after)}),[ee,ae,X]),c.createElement(c.Fragment,null,c.createElement("div",{id:"thread-panel-body"},D&&ce&&c.createElement(N.Z,{className:"tw-px-4 tw-shadow-sm",entityField:he,noun:ce?"Conversations":"Tasks",onCancel:function(){return n&&n()},onShowNewConversation:R.length>0&&(0,o.isUndefined)(M)?function(e){W(e)}:void 0}),oe&&c.createElement("div",{className:"tw-flex tw-justify-end tw-mr-2 tw-mt-2"},c.createElement(r.Z,{size:"small",onChange:function(e){se(e?E.aq.Closed:E.aq.Open)}}),c.createElement("span",{className:"tw-ml-1"},"Closed Tasks")),(0,o.isUndefined)(M)?c.createElement(c.Fragment,null,q||(0,o.isEqual)(R.length,0)?c.createElement(c.Fragment,null,ce&&c.createElement(c.Fragment,null,c.createElement("p",{className:"tw-ml-9 tw-mr-2 tw-mb-2 tw-mt-1"},"You are starting a new conversation"),c.createElement(b.Z,{buttonClass:"tw-mr-4",className:"tw-ml-5 tw-mr-2",placeHolder:"Enter a message",onSave:function(e){var n,a,r,l=null!==(a=null===(n=d.Z.userDetails)||void 0===n?void 0:n.name)&&void 0!==a?a:null===(r=d.Z.users[0])||void 0===r?void 0:r.name;x({message:e,from:l,about:t}),fe()}})),oe&&c.createElement(g.Z,null,c.createElement("p",null,de?"No Closed Tasks":"No Open Tasks")),ue&&c.createElement(g.Z,null,c.createElement("p",{"data-testid":"announcement-error"},"No Announcements, Click on add announcement to add one."))):null,ue?c.createElement(_,{className:s()({"tw-p-4":!k},k),postFeed:we,selectedThreadId:U,threads:R,updateThreadHandler:ge,onConfirmation:Ee,onThreadIdSelect:ve,onThreadSelect:ye}):c.createElement(O,{className:s()({"tw-p-4":!k},k),postFeed:we,selectedThreadId:U,threads:R,updateThreadHandler:ge,onConfirmation:Ee,onThreadIdSelect:ve,onThreadSelect:ye}),c.createElement("div",{"data-testid":"observer-element",id:"observer-element",ref:Q},ae?c.createElement(T.Z,null):null)):c.createElement(c.Fragment,null,c.createElement(l.Z,{className:"tw-mb-3 tw-ml-2",size:"small",type:"link",onClick:function(){B(void 0)}},"Back"),c.createElement(S,{className:"tw-pb-4 tw-pl-5 tw-pr-2",postFeed:we,selectedThread:M,updateThreadHandler:ge,onConfirmation:Ee}))),c.createElement(C.Z,{visible:V.state,onDelete:function(){V.postId&&V.threadId&&(null==Z||Z(V.threadId,V.postId,V.isThread)),pe(),fe()},onDiscard:pe}))}},47368:function(e,t,n){n.d(t,{p:function(){return S}});var a=n(70655),r=n(50146),l=n(71577),i=n(56256),s=n(67294),o=n(437),c=n(50168),d=n(97809),u=n(53867),m=n(93379),p=n.n(m),f=n(7795),E=n.n(f),h=n(90569),w=n.n(h),v=n(3565),y=n.n(v),g=n(19216),T=n.n(g),b=n(44589),N=n.n(b),C=n(49857),x={};x.styleTagTransform=N(),x.setAttributes=y(),x.insert=w().bind(null,"head"),x.domAPI=E(),x.insertStyleElement=T(),p()(C.Z,x),C.Z&&C.Z.locals&&C.Z.locals;var S=function(e){var t=e.header,n=e.placeholder,m=e.value,p=e.onSave,f=e.onCancel,E=e.visible,h=(0,o.$)().t,w=(0,a.CR)((0,s.useState)(!1),2),v=w[0],y=w[1],g=(0,s.useRef)();return s.createElement(r.Z,{centered:!0,destroyOnClose:!0,className:"description-markdown-editor",closable:!1,"data-testid":"markdown-editor",footer:[s.createElement(l.Z,{"data-testid":"cancel",disabled:v,key:"cancelButton",type:"link",onClick:f},h("label.cancel")),s.createElement(l.Z,{"data-testid":"save",key:"saveButton",type:"primary",onClick:function(){return(0,a.mG)(void 0,void 0,void 0,(function(){var e,t,n;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(!g.current)return[3,5];y(!0),a.label=1;case 1:return a.trys.push([1,3,4,5]),[4,null==p?void 0:p(null!==(n=null===(t=g.current)||void 0===t?void 0:t.getEditorContent().trim())&&void 0!==n?n:"")];case 2:return a.sent(),[3,5];case 3:return e=a.sent(),(0,c.Eo)(e),[3,5];case 4:return y(!1),[7];case 5:return[2]}}))}))}},v?s.createElement(u.Z,{size:"small",type:"white"}):h("label.save"))],open:E,title:s.createElement(i.Z.Text,{"data-testid":"header"},t),width:"90%",onCancel:f},s.createElement(d.Z,{initialValue:m,placeHolder:n,ref:g}))}},32555:function(e,t,n){n.d(t,{Z:function(){return V}});var a=n(70655),r=n(91894),l=n(67674),i=n(67294),s=n(97882),o=n(52046),c=n(62761),d=n(20615),u=n(14469),m=n(51887),p=n(38464),f=n(22001),E=n(56383),h=n(46892),w=n(14109),v=n(56256),y=n(19586),g=n(71577),T=n(48132),b=n(19790),N=n(93379),C=n.n(N),x=n(7795),S=n.n(x),Z=n(90569),P=n.n(Z),k=n(3565),L=n.n(k),D=n(19216),A=n.n(D),I=n(44589),R=n.n(I),F=n(42905),O={};O.styleTagTransform=R(),O.setAttributes=L(),O.insert=P().bind(null,"head"),O.domAPI=S(),O.insertStyleElement=A(),C()(F.Z,O),F.Z&&F.Z.locals&&F.Z.locals,v.Z.Text;var H=function(e){var t=e.entityList,n=void 0===t?[]:t,a=e.headerText,l=e.headerTextLabel,o=e.noDataPlaceholder,c=e.testIDText,d=e.isLoadingOwnedData;return i.createElement(r.Z,{extra:a,style:h.K,title:l},d?i.createElement(y.Z,{active:!0}):n.length?n.map((function(e,t){return i.createElement("div",{className:"flex items-center justify-between","data-testid":c+"-"+(0,T.C_)(e),key:t},i.createElement("div",{className:"flex items-center"},(0,b.wc)(e.type||""),i.createElement(s.Link,{className:"font-medium",to:(0,b.Ch)(e.type||"",e.fullyQualifiedName)},i.createElement(g.Z,{className:"entity-button",title:(0,T.C_)(e),type:"text"},i.createElement(v.Z.Text,{className:"w-48 text-left",ellipsis:{tooltip:!0}},(0,T.C_)(e))))))})):o)},M=n(53867),B=n(96486),_=n(96162),J=n(48217),U=n(96840),K=function(e){var t=e.entityCounts,n=(0,a.CR)((0,i.useState)({}),2),l=n[0],o=n[1];return(0,i.useEffect)((function(){o({tables:{icon:p.PJ.TABLE_GREY,data:"Tables",count:t.tableCount,link:(0,c.yR)(void 0,"tables"),dataTestId:"tables"},topics:{icon:p.PJ.TOPIC_GREY,data:"Topics",count:t.topicCount,link:(0,c.yR)(void 0,"topics"),dataTestId:"topics"},dashboards:{icon:p.PJ.DASHBOARD_GREY,data:"Dashboards",count:t.dashboardCount,link:(0,c.yR)(void 0,"dashboards"),dataTestId:"dashboards"},pipelines:{icon:p.PJ.PIPELINE_GREY,data:"Pipelines",count:t.pipelineCount,link:(0,c.yR)(void 0,"pipelines"),dataTestId:"pipelines"},mlModal:{icon:p.PJ.MLMODAL,data:"ML Models",count:t.mlmodelCount,link:(0,c.yR)(void 0,"mlmodels"),dataTestId:"mlmodels"},testSuite:{icon:p.PJ.TEST_SUITE,data:"Test Suites",count:t.testSuiteCount,link:c.Z6.TEST_SUITES,dataTestId:"test-suite"},service:{icon:p.PJ.SERVICE,data:"Services",count:t.servicesCount,link:(0,U.si)(_.CZ.SERVICES,_.lx.DATABASES),dataTestId:"service"},user:{icon:p.PJ.USERS,data:"Users",count:t.userCount,link:(0,U.si)(_.CZ.MEMBERS,_.lx.USERS),dataTestId:"user",adminOnly:!0},teams:{icon:p.PJ.TEAMS_GREY,data:"Teams",count:t.teamCount,link:(0,U.KH)(J.C.Organization),dataTestId:"terms"}})}),[]),i.createElement("div",{className:"ant-entity-card"},i.createElement(r.Z,{"data-testid":"data-summary-container",id:"assetStatsCount",style:h.K},Object.values(l).map((function(e,t){return i.createElement("div",{className:"tw-flex tw-items-center tw-justify-between","data-testid":e.dataTestId+"-summary",key:t},i.createElement("div",{className:"tw-flex"},i.createElement(p.ZP,{alt:"icon",className:"tw-h-4 tw-w-4 tw-self-center",icon:e.icon}),e.link?i.createElement(s.Link,{className:"tw-font-medium hover:tw-text-primary-hover hover:tw-underline","data-testid":e.dataTestId,to:e.link},i.createElement(g.Z,{className:"tw-text-grey-body hover:tw-text-primary-hover hover:tw-underline",type:"text"},e.data)):i.createElement("p",{className:"tw-text-grey-body tw-pl-2"},e.data)),!(0,B.isNil)(e.count)&&(0,T.yh)(e.count,"",!1))}))))},G=n(27924),q=function(){var e=(0,T.Kr)(),t=(0,a.CR)((0,i.useState)([]),2),n=t[0],r=t[1],l=(0,a.CR)((0,i.useState)(!1),2),s=l[0],o=l[1];return(0,i.useEffect)((function(){!function(){if(e.length){o(!0);var t=e.map((function(e){return{serviceType:e.serviceType,name:e.displayName||(0,T.ci)(e.entityType,e.fqn),fullyQualifiedName:e.fqn,type:e.entityType}})).filter((function(e){return e.name}));r(t),o(!1)}}()}),[]),i.createElement(i.Fragment,null,s?i.createElement(M.Z,null):i.createElement(H,{entityList:n,headerTextLabel:"Recent Views",noDataPlaceholder:i.createElement(i.Fragment,null,"No recently viewed data."),testIDText:"Recently Viewed"}))},W=n(95597),Y=function(){var e=(0,a.CR)((0,i.useState)([]),2),t=e[0],n=e[1];return(0,i.useEffect)((function(){n((0,T.vy)())}),[]),i.createElement(i.Fragment,null,i.createElement(r.Z,{style:h.K,title:"Recent Search Terms"},t.length?t.map((function(e,t){return i.createElement("div",{className:"tw-flex tw-items-center tw-justify-between tw-group","data-testid":"Recently-Search-"+e.term,key:t},i.createElement("div",{className:"tw-flex"},i.createElement(p.ZP,{alt:"search",className:"tw-h-4 tw-w-4 tw-self-center",icon:p.PJ.SEARCHV1}),i.createElement("div",{className:"tw-flex tw-justify-between"},i.createElement(s.Link,{className:"tw-font-medium",to:(0,c.yR)(e.term)},i.createElement(g.Z,{className:"tw-text-grey-body hover:tw-text-primary-hover hover:tw-underline","data-testid":"search-term-"+e.term,type:"text"},e.term.length>20?i.createElement(W.Z,{html:i.createElement("div",{className:"tw-flex tw-flex-nowrap"},e.term),position:"top",size:"regular",trigger:"mouseenter"},i.createElement("span",null,e.term.slice(0,20),"...")):e.term)),i.createElement(g.Z,{className:"tw-opacity-0 group-hover:tw-opacity-100 tw-ml-2",type:"text",onClick:function(){return t=e.term,(0,T.$9)(t),void n((0,T.vy)());var t}},i.createElement(p.ZP,{alt:"delete",icon:"icon-times-circle",width:"12"})))))})):i.createElement(i.Fragment,null,"No searched terms.")))},V=(0,l.Pi)((function(e){var t=e.activityFeeds,n=e.onRefreshFeeds,l=e.error,v=e.entityCounts,y=e.ownedData,g=e.pendingTaskCount,T=e.followedData,b=e.feedData,N=e.ownedDataCount,C=e.followedDataCount,x=e.isFeedLoading,S=e.postFeedHandler,Z=e.deletePostHandler,P=e.fetchFeedHandler,k=e.paging,L=e.updateThreadHandler,D=e.isLoadingOwnedData,A=(0,i.useRef)(!1),I=(0,a.CR)((0,m.M)(d.a),2),R=I[0],F=I[1],O=(0,a.CR)((0,i.useState)(u.D.OWNER),2),B=O[0],_=O[1],J=(0,a.CR)((0,i.useState)(),2),U=J[0],W=J[1],V=(0,i.useCallback)((function(){var e=o.Z.getCurrentUserDetails();return i.createElement(i.Fragment,null,g?i.createElement("div",{className:"tw-mb-5","data-testid":"my-tasks-container "},i.createElement(r.Z,{bodyStyle:{padding:0},extra:i.createElement(i.Fragment,null,i.createElement(s.Link,{"data-testid":"my-data",to:(0,c.ZG)((null==e?void 0:e.name)||"","tasks?feedFilter=ASSIGNED_TO")},i.createElement("span",{className:"tw-text-info tw-font-normal tw-text-xs"},"View All"))),style:h.K,title:i.createElement("div",{className:"tw-flex tw-item-center "},i.createElement(p.ZP,{alt:"Pending tasks",className:"tw-mr-2.5",icon:p.PJ.TASK,title:"Tasks",width:"16px"}),g," Pending task",g>1&&"s")})):null,i.createElement("div",{"data-testid":"my-data-container"},i.createElement(H,{entityList:y,headerText:i.createElement(i.Fragment,null,y.length?i.createElement(s.Link,{"data-testid":"my-data",to:(0,c.ZG)((null==e?void 0:e.name)||"","mydata")},i.createElement("span",{className:"tw-text-info tw-font-normal tw-text-xs"},"View All"," ",i.createElement("span",{"data-testid":"my-data-total-count"},"(",N,")"))):null),headerTextLabel:"My Data",isLoadingOwnedData:D,noDataPlaceholder:i.createElement(i.Fragment,null,"You have not owned anything yet."),testIDText:"My data"})),i.createElement("div",{className:"tw-mt-5"}),i.createElement("div",{"data-testid":"following-data-container"},i.createElement(H,{entityList:T,headerText:i.createElement(i.Fragment,null,T.length?i.createElement(s.Link,{"data-testid":"following-data",to:(0,c.ZG)((null==e?void 0:e.name)||"","following")},i.createElement("span",{className:"tw-text-info tw-font-normal tw-text-xs"},"View All"," ",i.createElement("span",{"data-testid":"following-data-total-count"},"(",C,")"))):null),headerTextLabel:"Following",isLoadingOwnedData:D,noDataPlaceholder:i.createElement(i.Fragment,null,"You have not followed anything yet."),testIDText:"Following data"})),i.createElement("div",{className:"tw-mt-5"}))}),[y,T,g,D]),z=(0,i.useCallback)((function(e,t){e&&(null==t?void 0:t.after)&&!x&&A.current&&P(B,t.after,U)}),[x,U,P,A.current]);(0,i.useEffect)((function(){z(Boolean(F),k)}),[F,k]),(0,i.useEffect)((function(){A.current=!0}),[]);var j=(0,i.useCallback)((function(e,t){_(e),W(t),P(e,void 0,t)}),[P]),Q=t&&t.length,X=(0,i.useMemo)((function(){return B===u.D.OWNER&&!U}),[B,U]);return i.createElement(w.Z,{leftPanel:i.createElement(i.Fragment,null,i.createElement(K,{entityCounts:v}),i.createElement("div",{className:"tw-mb-5"}),i.createElement(q,null),i.createElement("div",{className:"tw-mb-5"}),i.createElement(Y,null)),rightPanel:V()},l?i.createElement(E.Z,{errorMessage:l,type:"error"}):i.createElement(i.Fragment,null,(null==b?void 0:b.length)>0||!X||Q?i.createElement(i.Fragment,null,i.createElement(f.Z,{stickyFilter:!0,withSidePanel:!0,deletePostHandler:Z,feedList:b,postFeedHandler:S,refreshFeedCount:Q,updateThreadHandler:L,onFeedFiltersUpdate:j,onRefreshFeeds:n}),X&&(null==b?void 0:b.length)<=0?i.createElement(G.Z,null):null):!x&&i.createElement(G.Z,null),x?i.createElement(M.Z,null):null,i.createElement("div",{"data-testid":"observer-element",id:"observer-element",ref:R}),i.createElement("div",{className:"tw-p-4"})))}))},37620:function(e,t,n){n.d(t,{t:function(){return y}});var a=n(70655),r=n(25213),l=n(96486),i=n(67294),s=n(63750),o=n(50168),c=n(28178),d=n(67800),u=n(38464),m=n(47368),p=n(80131),f=n(67814),E=n(10584),h=function(e){var t=e.value,n=e.onCancel,r=e.type,l=e.propertyName,s=e.onSave,o="string"===r?"text":"number",c=(0,a.CR)((0,i.useState)(t||""),2),d=c[0],u=c[1];return i.createElement("div",{className:"tw-flex tw-items-center tw-gap-1"},i.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding tw-py-0.5 tw-w-64","data-testid":"value-input",id:"value",name:l,placeholder:"value",type:o,value:d,onChange:function(e){var t=e.target.value;u(t)}}),i.createElement("div",{className:"tw-flex tw-justify-end","data-testid":"buttons"},i.createElement(E.z,{className:"tw-px-1 tw-py-1 tw-rounded tw-text-sm tw-mr-1","data-testid":"cancel-value",size:"custom",theme:"primary",variant:"contained",onMouseDown:n},i.createElement(f.G,{className:"tw-w-3.5 tw-h-3.5",icon:"times"})),i.createElement(E.z,{className:"tw-px-1 tw-py-1 tw-rounded tw-text-sm","data-testid":"save-value",size:"custom",theme:"primary",variant:"contained",onClick:function(){s(d)}},i.createElement(f.G,{className:"tw-w-3.5 tw-h-3.5",icon:"check"}))))},w=function(e){var t=e.onShowInput;return i.createElement("span",{className:"tw-cursor-pointer tw-ml-2","data-testid":"edit-icon",onClick:t},i.createElement(u.ZP,{alt:"edit",icon:u.PJ.EDIT,width:"16px"}))},v=function(e){var t,n=e.propertyName,r=e.extension,s=e.propertyType,o=e.onExtensionUpdate,c=null==r?void 0:r[n],u=(0,a.CR)((0,i.useState)(!1),2),f=u[0],E=u[1],v=function(){E(!1)},y=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t,i;return(0,a.Jh)(this,(function(c){switch(c.label){case 0:return t=(0,a.pi)((0,a.pi)({},r||{}),((i={})[n]="integer"===s.name?(0,l.toNumber)(e||0):e,i)),[4,o(t)];case 1:return c.sent(),E(!1),[2]}}))}))};return i.createElement("div",null,f?function(){switch(s.name){case"string":case"integer":return i.createElement(h,{propertyName:n,type:s.name,value:c,onCancel:v,onSave:y});case"markdown":return i.createElement(m.p,{header:(0,d.t)("label.edit-property",{propertyName:n}),placeholder:(0,d.t)("label.enter-property-value"),value:c||"",visible:f,onCancel:v,onSave:y});default:return null}}():i.createElement(i.Fragment,null,i.createElement("div",{className:"tw-flex"},(t="markdown"===s.name?i.createElement(p.Z,{markdown:c||""}):i.createElement("span",{"data-testid":"value"},c),"integer"===s.name?(0,l.isUndefined)(c)?i.createElement("span",{className:"tw-text-grey-muted","data-testid":"no-data"},"No data"):t:c?t:i.createElement("span",{className:"tw-text-grey-muted","data-testid":"no-data"},"No data")),i.createElement(w,{onShowInput:function(){E(!0)}}))))},y=function(e){var t=e.entityDetails,n=e.handleExtensionUpdate,d=e.entityType,u=(0,a.CR)((0,i.useState)({}),2),m=u[0],p=u[1],f=function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,n((0,a.pi)((0,a.pi)({},t),{extension:e}))];case 1:return r.sent(),[2]}}))}))},E=(0,i.useMemo)((function(){return[{title:"Name",dataIndex:"name",key:"name",width:"50%"},{title:"Value",dataIndex:"value",key:"value",width:"50%",render:function(e,n){return i.createElement(v,{extension:t.extension,propertyName:n.name,propertyType:n.propertyType,onExtensionUpdate:f})}}]}),[t.extension]);return(0,i.useEffect)((function(){(0,s.ov)(d).then((function(e){p(e)})).catch((function(e){return(0,o.Eo)(e)}))}),[]),i.createElement(i.Fragment,null,(0,l.isEmpty)(m.customProperties)?i.createElement(c.Z,{heading:"Custom Properties"}):i.createElement(r.Z,{bordered:!0,columns:E,"data-testid":"custom-properties-table",dataSource:m.customProperties||[],pagination:!1,rowKey:"name",size:"small"}))}},72945:function(e,t,n){n.d(t,{Z:function(){return y}});var a,r=n(70655),l=n(50146),i=n(55742),s=n(96486),o=n(67294),c=n(59293),d=n(74313),u={loading:"initial",state:!1,softDelete:!0},m=n(64632),p=n(6929),f=n(48132),E=n(22215),h=n(50168),w=n(10584),v=n(53867);!function(e){e.SOFT_DELETE="soft-delete",e.HARD_DELETE="hard-delete"}(a||(a={}));var y=function(e){var t=e.allowSoftDelete,n=void 0===t||t,y=e.visible,g=e.deleteMessage,T=e.softDeleteMessagePostFix,b=void 0===T?"":T,N=e.hardDeleteMessagePostFix,C=void 0===N?"":N,x=e.entityName,S=e.entityType,Z=e.onCancel,P=e.entityId,k=e.prepareType,L=void 0===k||k,D=e.isRecursiveDelete,A=e.afterDeleteAction,I=(0,c.k6)(),R=(0,r.CR)((0,o.useState)(u),2),F=R[0],O=R[1],H=(0,r.CR)((0,o.useState)(""),2),M=H[0],B=H[1],_=(0,r.CR)((0,o.useState)(n?a.SOFT_DELETE:a.HARD_DELETE),2),J=_[0],U=_[1],K=(0,r.CR)((0,o.useState)(!1),2),G=K[0],q=K[1],W=function(e){void 0===e&&(e=!1);var t="Soft deleting will deactivate the "+x+". This will disable any discovery, read or write operations on "+x+".",n=(0,f.fP)((0,E.DX)(S),"");return e?t:n},Y=[{title:"Delete "+S+" “"+x+"”",description:W(!0)+" "+b,type:a.SOFT_DELETE,isAllowd:n},{title:"Permanently Delete "+S+" “"+x+"”",description:(g||W())+" "+C,type:a.HARD_DELETE,isAllowd:!0}],V=function(){O(u),B(""),U(a.SOFT_DELETE),Z()},z=(0,o.useCallback)((function(){return"DELETE"===M&&(J===a.SOFT_DELETE||J===a.HARD_DELETE)}),[M]);return(0,o.useEffect)((function(){U(n?a.SOFT_DELETE:a.HARD_DELETE),O((0,r.pi)((0,r.pi)({},u),{softDelete:n}))}),[n]),o.createElement(l.Z,{closable:!1,confirmLoading:G,"data-testid":"delete-modal",footer:o.createElement("div",{className:"tw-justify-end","data-testid":"footer"},o.createElement(w.z,{className:"tw-mr-2","data-testid":"discard-button",disabled:"waiting"===F.loading,size:"regular",theme:"primary",variant:"text",onClick:V},"Cancel"),"waiting"===F.loading?o.createElement(w.z,{disabled:!0,className:"tw-w-16 tw-h-8 tw-rounded-md disabled:tw-opacity-100","data-testid":"loading-button",size:"custom",theme:"primary",variant:"contained"},o.createElement(v.Z,{size:"small",type:"white"})):o.createElement(w.z,{className:"tw-h-8 tw-px-3 tw-py-2 tw-rounded-md","data-testid":"confirm-button",disabled:!z(),size:"custom",theme:"primary",variant:"contained",onClick:function(){q(!1),O((function(e){return(0,r.pi)((0,r.pi)({},e),{loading:"waiting"})})),(0,d.Ks)(L?[m.py.DASHBOARD_SERVICE,m.py.DATABASE_SERVICE,m.py.MESSAGING_SERVICE,m.py.PIPELINE_SERVICE,m.py.METADATA_SERVICE].includes(S||"")?"services/"+S+"s":S===m.py.GLOSSARY?"glossaries":S===m.py.POLICY?"policies":S===m.py.TEST_SUITE||S===m.py.KPI?S:S+"s":S,null!=P?P:"",Boolean(D),!F.softDelete).then((function(e){200===e.status?setTimeout((function(){V(),(0,h.XA)(p.Z["api-success-messages"]["delete-entity-success"].replace("Entity",(0,s.startCase)(S))),A?A():setTimeout((function(){I.push("/")}),500)}),1e3):(0,h.Eo)(p.Z["api-error-messages"]["unexpected-server-response"])})).catch((function(e){(0,h.Eo)(e,p.Z["api-error-messages"]["delete-entity-error"])})).finally((function(){V(),q(!1)}))}},"Confirm")),okText:"Delete",title:"Delete "+x,visible:y,onCancel:V},o.createElement(i.ZP.Group,{value:J,onChange:function(e){var t,n=e.target.value;U(n),void 0===(t=n===a.SOFT_DELETE)&&(t=!0),O((function(e){return(0,r.pi)((0,r.pi)({},e),{state:!0,softDelete:t})}))}},Y.map((function(e){return e.isAllowd&&o.createElement(i.ZP,{"data-testid":e.type,key:e.type,value:e.type},o.createElement("p",{className:"tw-text-sm tw-mb-1 tw-font-medium","data-testid":e.type+"-option"},e.title),o.createElement("p",{className:"tw-text-grey-muted tw-text-xs tw-mb-2"},e.description))}))),o.createElement("div",null,o.createElement("p",{className:"tw-mb-2"},"Type ",o.createElement("strong",null,"DELETE")," to confirm"),o.createElement("input",{autoComplete:"off",className:"tw-form-inputs tw-form-inputs-padding","data-testid":"confirmation-text-input",disabled:"waiting"===F.loading,name:"entityName",placeholder:"DELETE",type:"text",value:M,onChange:function(e){B(e.target.value)}})))}},9632:function(e,t,n){var a=n(70655),r=n(55241),l=n(94184),i=n.n(l),s=n(67800),o=n(96486),c=n(67294),d=n(59293),u=n(58369),m=n(31615),p=n(48132),f=n(22215),E=n(38464),h=n(44355),w=n(50168),v=n(47368),y=n(80131);t.Z=function(e){var t=e.className,n=e.hasEditAccess,l=e.onDescriptionEdit,g=e.description,T=void 0===g?"":g,b=e.isEdit,N=e.onCancel,C=e.onDescriptionUpdate,x=e.isReadOnly,S=void 0!==x&&x,Z=e.removeBlur,P=void 0!==Z&&Z,k=e.entityName,L=e.entityFieldThreads,D=e.onThreadLinkSelect,A=e.entityType,I=e.entityFqn,R=e.entityFieldTasks,F=(0,d.k6)(),O=null==L?void 0:L[0],H=null==R?void 0:R[0],M=function(){F.push((0,h.Ie)(A,I))},B=function(){F.push((0,h.Q3)(A,I))},_=function(){l&&l()},J=function(){var e=Boolean(T.trim());return h.GZ.includes(A)?c.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none link-text focus:tw-outline-none","data-testid":"request-entity-description",onClick:e?B:M},c.createElement(r.Z,{destroyTooltipOnHide:!0,content:e?"Request update description":"Request description",overlayClassName:"ant-popover-request-description",trigger:"hover",zIndex:9999},c.createElement(E.ZP,{alt:"request-description",icon:E.PJ.REQUEST,width:"16px"}))):null},U=function(e){var t=e.descriptionThread;return(0,o.isUndefined)(t)?c.createElement(c.Fragment,null,(null==T?void 0:T.trim())&&D?c.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none link-text focus:tw-outline-none","data-testid":"start-description-thread",onClick:function(){return null==D?void 0:D((0,f.ec)(A,I,u.Sn.DESCRIPTION))}},c.createElement(E.ZP,{alt:"comments",icon:E.PJ.COMMENT_PLUS,width:"16px"})):null):c.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none link-text focus:tw-outline-none","data-testid":"description-thread",onClick:function(){return null==D?void 0:D(t.entityLink)}},c.createElement("span",{className:"tw-flex"},c.createElement(E.ZP,{alt:"comments",icon:E.PJ.COMMENT,width:"16px"})," ",c.createElement("span",{className:"tw-ml-1","data-testid":"description-thread-count"}," ",t.count)))};return c.createElement("div",{className:"schema-description tw-relative "+t},c.createElement("div",{className:"tw-flex description-inner-main-container tw-items-end"},c.createElement("div",{className:"tw-relative"},c.createElement("div",{className:"description tw-h-full tw-overflow-y-scroll tw-relative ","data-testid":"description",id:"center"},(null==T?void 0:T.trim())?c.createElement(y.Z,{enableSeeMoreVariant:!P,markdown:T}):c.createElement("span",{className:"tw-no-description p-y-xs"},(0,s.t)("label.no-description"))),c.createElement(v.p,{header:(0,s.t)("label.edit-description-for",{entityName:k}),placeholder:(0,s.t)("label.enter-description"),value:T,visible:Boolean(b),onCancel:N,onSave:function(e){return(0,a.mG)(void 0,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:if(!C||!(0,o.isFunction)(C))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,C(e)];case 2:return n.sent(),N&&N(),[3,4];case 3:return t=n.sent(),(0,w.Eo)(t),[3,4];case 4:return[2]}}))}))}})),c.createElement((function(){return S?null:c.createElement("div",{className:i()("tw-w-5 tw-min-w-max tw-flex")},n&&c.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none focus:tw-outline-none","data-testid":"edit-description",onClick:_},c.createElement(E.ZP,{alt:"edit",icon:"icon-edit",title:"Edit",width:"16px"})),(0,p.nq)(A)?c.createElement(c.Fragment,null," ",c.createElement(J,null),(0,o.isUndefined)(H)?null:c.createElement("button",{className:"tw-w-7 tw-h-7 tw-mr-2 tw-flex-none link-text focus:tw-outline-none","data-testid":"description-task",onClick:function(){return null==D?void 0:D(H.entityLink,m.Th.Task)}},c.createElement("span",{className:"tw-flex"},c.createElement(E.ZP,{alt:"tasks",icon:E.PJ.TASK_ICON,width:"16px"})," ",c.createElement("span",{className:"tw-ml-1","data-testid":"description-tasks-count"}," ",H.count)))):null,c.createElement(U,{descriptionThread:O}))}),null)))}},41603:function(e,t,n){n.d(t,{Z:function(){return R}});var a=n(70655),r=n(67814),l=n(28682),i=n(94199),s=n(71230),o=n(15746),c=n(56256),d=n(13013),u=n(71577),m=n(94184),p=n.n(m),f=n(67294),E=n(437),h=n(52114),w=n(71859),v=n(38464),y=n(72945),g=n(93379),T=n.n(g),b=n(7795),N=n.n(b),C=n(90569),x=n.n(C),S=n(3565),Z=n.n(S),P=n(19216),k=n.n(P),L=n(44589),D=n.n(L),A=n(64666),I={};I.styleTagTransform=D(),I.setAttributes=Z(),I.insert=x().bind(null,"head"),I.domAPI=N(),I.insertStyleElement=k(),T()(A.Z,I),A.Z&&A.Z.locals&&A.Z.locals;var R=function(e){var t=e.allowSoftDelete,n=e.afterDeleteAction,m=e.buttonClassName,g=e.deleteMessage,T=e.softDeleteMessagePostFix,b=e.hardDeleteMessagePostFix,N=e.entityName,C=e.entityType,x=e.canDelete,S=e.entityId,Z=e.isRecursiveDelete,P=e.extraDropdownContent,k=e.onAnnouncementClick,L=e.onRestoreEntity,D=e.deleted,A=(0,E.$)().t,I=(0,a.CR)((0,f.useState)(!1),2),R=I[0],F=I[1],O=(0,a.CR)((0,f.useState)(!1),2),H=O[0],M=O[1],B=f.createElement(l.Z,{items:(0,a.ev)((0,a.ev)((0,a.ev)([{label:f.createElement(i.Z,{title:x?"":h.oH},f.createElement(s.Z,{className:p()("tw-cursor-pointer manage-button",{"tw-cursor-not-allowed tw-opacity-50":!x}),onClick:function(e){x&&(e.stopPropagation(),M(!0),F(!1))}},f.createElement(o.Z,{span:3},f.createElement(v.ZP,{alt:"Delete",icon:v.PJ.DELETE,width:"20px"})),f.createElement(o.Z,{span:21},f.createElement(s.Z,{"data-testid":"delete-button"},f.createElement(o.Z,{span:21},f.createElement(c.Z.Text,{className:"font-medium","data-testid":"delete-button-title"},A("label.delete"))),f.createElement(o.Z,{className:"p-t-xss"},f.createElement(c.Z.Paragraph,{className:"text-grey-muted text-xs m-b-0 line-height-16"},A("message.delete-action-description",{entityType:C}))))))),key:"delete-button"}],(0,a.CR)(D?[{label:f.createElement(i.Z,{title:x?"":h.oH},f.createElement(s.Z,{className:p()("tw-cursor-pointer manage-button",{"tw-cursor-not-allowed tw-opacity-50":!x}),onClick:function(e){x&&(e.stopPropagation(),F(!1),L&&L())}},f.createElement(o.Z,{span:3}," ",f.createElement(v.ZP,{alt:"Restore",icon:v.PJ.RESTORE,width:"20px"})),f.createElement(o.Z,{span:21},f.createElement(s.Z,{"data-testid":"restore-button"},f.createElement(o.Z,{span:21},f.createElement(c.Z.Text,{className:"font-medium","data-testid":"delete-button-title"},A("label.restore"))),f.createElement(o.Z,{className:"p-t-xss"},f.createElement(c.Z.Paragraph,{className:"text-grey-muted text-xs m-b-0 line-height-16"},A("message.restore-action-description",{entityType:C}))))))),key:"restore-button"}]:[])),(0,a.CR)(w.Ib.includes(C)?[{label:f.createElement(s.Z,{className:"tw-cursor-pointer manage-button",onClick:function(e){e.stopPropagation(),F(!1),k&&k()}},f.createElement(o.Z,{span:3},f.createElement(v.ZP,{alt:"announcement",icon:v.PJ.ANNOUNCEMENT_BLACK,width:"20px"})),f.createElement(o.Z,{span:21},f.createElement(s.Z,{"data-testid":"announcement-button"},f.createElement(o.Z,{span:21},f.createElement(c.Z.Text,{className:"font-medium"},A("label.announcements"))),f.createElement(o.Z,{className:"p-t-xss"},f.createElement(c.Z.Paragraph,{className:"text-grey-muted text-xs m-b-0 line-height-16"},A("message.announcement-action-description")))))),key:"announcement-button"}]:[])),(0,a.CR)(P||[]))});return f.createElement(f.Fragment,null,f.createElement(d.Z,{align:{targetOffset:[-12,0]},overlay:B,overlayStyle:{width:"350px"},placement:"bottomRight",trigger:["click"],visible:R,onVisibleChange:F},f.createElement(u.Z,{className:p()("tw-rounded tw-flex tw-justify-center tw-w-6 manage-dropdown-button",m),"data-testid":"manage-button",size:"small",title:"Manage",type:"default",onClick:function(){return F(!0)}},f.createElement(r.G,{className:"tw-text-primary tw-self-center manage-dropdown-icon",icon:"ellipsis-vertical"}))),H&&f.createElement(y.Z,{afterDeleteAction:n,allowSoftDelete:t,deleteMessage:g,entityId:S||"",entityName:N||"",entityType:C||"",hardDeleteMessagePostFix:b,isRecursiveDelete:Z,softDeleteMessagePostFix:T,visible:H,onCancel:function(){return M(!1)}}))}},88308:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var a,r=n(70655),l=n(96486),i=n(67674),s=n(67294),o=n(59293),c=n(52046),d=n(73780),u=n(30270),m=n(32555),p=n(25612),f=n(10801),E=n.n(f),h=n(24556),w=n(50146),v=n(71577),y=n(71230),g=n(15746),T=n(56256),b=n(67800),N=n(38464),C=function(e){var t=e.onSave,n=e.visible;return s.createElement(w.Z,{closable:!1,"data-testid":"modal-container",footer:s.createElement(v.Z,{"data-testid":"saveButton",size:"large",type:"primary",onClick:t},(0,b.t)("label.explore-now")),visible:n},s.createElement(y.Z,{className:"text-center",gutter:[16,16]},s.createElement(g.Z,{className:"mt-4",span:24},s.createElement(N.ZP,{alt:(0,b.t)("label.open-metadata-logo"),icon:N.PJ.LOGO_SMALL,width:"70"})),s.createElement(g.Z,{span:24},s.createElement(T.Z,{className:"text-base mt-5"},(0,b.t)("label.successfully-completed-the-tour"),s.createElement("br",null),(0,b.t)("label.get-started-with-open-metadata")))))},x=(0,i.Pi)((function(e){var t=e.steps,n=(0,h.r)(),a=n.isTourOpen,l=n.handleIsTourOpen,i=(0,r.CR)((0,s.useState)(!1),2),c=i[0],d=i[1],u=(0,o.k6)(),m=function(){u.push("/")};return s.createElement("div",null,a?s.createElement(E(),{disableDotsNavigation:!0,disableKeyboardNavigation:!0,showCloseButton:!0,showNumber:!0,accentColor:"#54C5D0",inViewThreshold:200,lastStepNextButton:s.createElement("button",{className:"tw-w-4",onClick:function(){return d(!0)}},s.createElement("svg",{viewBox:"0 0 18.4 14.4"},s.createElement("path",{d:"M17 7.2H1M10.8 1 17 7.2l-6.2 6.2",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:10,strokeWidth:2}))),maskColor:"#302E36",playTour:a,stepWaitTimer:300,steps:t,onRequestClose:function(){return l(!1)},onRequestSkip:m}):null,s.createElement(C,{visible:c,onSave:m}))})),S=n(62761),Z=n(34669),P=n(71225),k=n(22653),L=n(27868),D=n(48132),A=n(63406),I=function(e,t){return[{content:function(){return s.createElement("p",null,s.createElement(D.u1,{i18nKey:"message.tour-step-discover-all-assets-at-one-place",renderElement:s.createElement("strong",null),values:{text:b.ZP.t("label.openmetadata")}}))},stepInteraction:!1,selector:"#assetStatsCount"},{content:function(){return s.createElement("p",null,s.createElement(D.u1,{i18nKey:"message.tour-step-activity-feed",renderElement:s.createElement("strong",null),values:{text:b.ZP.t("label.activity-feeds")}}))},selector:"#feedData",stepInteraction:!1},{content:function(){return s.createElement("p",null,s.createElement(D.u1,{i18nKey:"message.tour-step-search-for-matching-dataset",renderElement:s.createElement("strong",null),values:{text:b.ZP.t("label.search")}}))},selector:"#searchBox",stepInteraction:!1,beforeNext:t},{beforePrev:t,content:function(){return s.createElement("p",null,s.createElement(D.u1,{i18nKey:"message.tour-step-type-search-term",renderElement:s.createElement("strong",null),values:{text:e,enterText:b.ZP.t("label.enter")}}))},actionType:"enter",userTypeText:e,selector:"#searchBox",beforeNext:function(){t(),c.Z.currentTourPage=L.B.EXPLORE_PAGE}},{beforePrev:function(){c.Z.currentTourPage=L.B.MY_DATA_PAGE},content:function(){return s.createElement("p",null,s.createElement(D.u1,{i18nKey:"message.tour-step-explore-summary-asset",renderElement:s.createElement("strong",null),values:{text:b.ZP.t("label.explore")}}))},selector:"#tabledatacard0",stepInteraction:!1},{content:function(){return s.createElement("p",null,s.createElement(D.u1,{i18nKey:"message.tour-step-click-on-link-to-view-more",renderElement:s.createElement("strong",null)}))},actionType:"click",selector:"#tabledatacard0-title",beforeNext:function(){c.Z.currentTourPage=L.B.DATASET_PAGE}},{beforePrev:function(){c.Z.currentTourPage=L.B.EXPLORE_PAGE},content:function(){return s.createElement("p",null,s.createElement(D.u1,{i18nKey:"message.tour-step-get-to-know-table-schema",renderElement:s.createElement("strong",null),values:{text:b.ZP.t("label.schema")}}))},stepInteraction:!1,selector:"#schemaDetails"},{beforePrev:function(){c.Z.activeTabforTourDatasetPage=(0,A.jW)("schema")},actionType:"click",content:function(){return s.createElement("p",null,s.createElement(D.u1,{i18nKey:"message.tour-step-click-on-entity-tab",renderElement:s.createElement("strong",null),values:{text:b.ZP.t("label.sample-data")}}))},selector:"#sampleData",beforeNext:function(){c.Z.activeTabforTourDatasetPage=(0,A.jW)("sample_data")}},{content:function(){return s.createElement("p",null,s.createElement(D.u1,{i18nKey:"message.tour-step-look-at-sample-data",renderElement:s.createElement("strong",null),values:{text:b.ZP.t("label.sample-data")}}))},selector:"#sampleDataDetails"},{beforePrev:function(){c.Z.activeTabforTourDatasetPage=(0,A.jW)("sample_data")},beforeNext:function(){c.Z.activeTabforTourDatasetPage=(0,A.jW)("profiler")},actionType:"click",content:function(){return s.createElement("p",null,s.createElement(D.u1,{i18nKey:"message.tour-step-click-on-entity-tab",renderElement:s.createElement("strong",null),values:{text:b.ZP.t("label.profiler")}}))},selector:"#profilerDataQuality"},{content:function(){return s.createElement("p",null,s.createElement(D.u1,{i18nKey:"message.tour-step-discover-data-assets-with-data-profile",renderElement:s.createElement("strong",null),values:{text:b.ZP.t("label.data-profiler")}}))},stepInteraction:!1,selector:"#profilerDetails"},{beforePrev:function(){c.Z.activeTabforTourDatasetPage=(0,A.jW)("profiler")},beforeNext:function(){c.Z.activeTabforTourDatasetPage=(0,A.jW)("lineage")},actionType:"click",content:function(){return s.createElement("p",null,s.createElement(D.u1,{i18nKey:"message.tour-step-click-on-entity-tab",renderElement:s.createElement("strong",null),values:{text:b.ZP.t("label.lineage")}}))},selector:"#lineage"},{content:function(){return s.createElement("p",null,s.createElement(D.u1,{i18nKey:"message.tour-step-trace-path-across-tables",renderElement:s.createElement("strong",null),values:{text:b.ZP.t("label.lineage")}}))},stepInteraction:!1,selector:"#lineageDetails"}]},R=((a={})[k.W.TABLE]=4,a[k.W.TOPIC]=0,a[k.W.DASHBOARD]=0,a[k.W.PIPELINE]=0,a[k.W.MLMODEL]=0,a),F=(0,i.Pi)((function(){var e=(0,o.TH)(),t=(0,h.r)().handleIsTourOpen,n=(0,r.CR)((0,s.useState)(c.Z.currentTourPage),2),a=n[0],i=n[1],f=(0,r.CR)((0,s.useState)(P.SH),2),E=f[0],w=f[1],v=(0,r.CR)((0,s.useState)(c.Z.activeTabforTourDatasetPage),2),y=v[0],g=v[1],T=(0,r.CR)((0,s.useState)(R),2),b=T[0],N=T[1],C=(0,r.CR)((0,s.useState)(""),2),D=C[0],A=C[1],F=function(){return(0,r.mG)(void 0,void 0,void 0,(function(){return(0,r.Jh)(this,(function(e){return N(R),[2]}))}))},O=function(){return new Promise((function(e){return e()}))},H=function(){A("")},M=function(){e.pathname.includes(S.Z6.TOUR)&&D===S.CK&&(c.Z.currentTourPage=L.B.EXPLORE_PAGE,H())},B=function(){M()};return(0,s.useEffect)((function(){t(!0),c.Z.currentTourPage=L.B.MY_DATA_PAGE,c.Z.activeTabforTourDatasetPage=1}),[]),(0,s.useEffect)((function(){i(c.Z.currentTourPage)}),[c.Z.currentTourPage]),(0,s.useEffect)((function(){g(c.Z.activeTabforTourDatasetPage)}),[c.Z.activeTabforTourDatasetPage]),s.createElement("div",null,s.createElement(p.Z,{isTourRoute:!0,handleFeatureModal:F,handleKeyDown:function(e){"Enter"===e.key&&M()},handleOnClick:B,handleSearchBoxOpen:F,handleSearchChange:function(e){return A(e)},isFeatureModalOpen:!1,isSearchBoxOpen:!1,pathname:e.pathname,profileDropdown:[],searchValue:D,supportDropdown:[],username:"User"}),s.createElement(x,{steps:I(S.CK,H)}),function(e){switch(e){case L.B.MY_DATA_PAGE:return s.createElement(m.Z,{entityCounts:{tableCount:21,topicCount:20,dashboardCount:10,pipelineCount:8,mlmodelCount:2,servicesCount:4,userCount:100,teamCount:7,testSuiteCount:2},error:"",feedData:E,fetchData:function(){w(P.SH)},fetchFeedHandler:B,followedData:[],followedDataCount:1,isFeedLoading:!1,isLoadingOwnedData:!1,ownedData:[],ownedDataCount:1,paging:{},pendingTaskCount:0,postFeedHandler:B,updateThreadHandler:B,userDetails:c.Z.userDetails});case L.B.EXPLORE_PAGE:return s.createElement(u.Z,{searchIndex:k.W.TABLE,searchResults:P.R0,showDeleted:!1,sortOrder:Z.yf,sortValue:Z.dM,tabCounts:b,onChangeAdvancedSearchJsonTree:l.noop,onChangeAdvancedSearchQueryFilter:l.noop,onChangePostFilter:l.noop,onChangeSearchIndex:l.noop,onChangeShowDeleted:l.noop,onChangeSortOder:l.noop,onChangeSortValue:l.noop});case L.B.DATASET_PAGE:return s.createElement(d.Z,{activeTab:y,addLineageHandler:O,columns:P.cb.columns,columnsUpdateHandler:F,createThread:F,datasetFQN:P.cb.datasetFQN,deletePostHandler:F,description:P.cb.description,descriptionUpdateHandler:F,entityFieldTaskCount:[],entityFieldThreadCount:[],entityLineage:P.cb.entityLineage,entityLineageHandler:F,entityName:P.cb.entityName,entityThread:P.SH,feedCount:0,fetchFeedHandler:F,followTableHandler:F,followers:P.cb.followers,handleExtensionUpdate:F,isNodeLoading:{id:void 0,state:!1},isentityThreadLoading:!1,joins:P.cb.joins,lineageLeafNodes:{},loadNodeHandler:F,owner:void 0,paging:{},postFeedHandler:F,removeLineageHandler:F,sampleData:P.cb.sampleData,setActiveTabHandler:function(e){return g(e)},settingsUpdateHandler:function(){return Promise.resolve()},slashedTableName:P.cb.slashedTableName,tableDetails:P.cb.tableDetails,tableProfile:P.cb.tableProfile,tableQueries:[],tableTags:P.cb.tableTags,tableType:P.cb.tableType,tagUpdateHandler:F,tier:"",unfollowTableHandler:F,updateThreadHandler:B,usageSummary:P.cb.usageSummary,versionHandler:F});default:return}}(a))}))},57364:function(e,t,n){n.r(t),t.default=n.p+"feedEditor.png"}}]);