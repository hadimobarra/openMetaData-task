(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[2277],{97183:function(e,t,n){"use strict";var r=n(2897),a=n(78457),l=r.ZP;l.Header=r.h4,l.Footer=r.$_,l.Content=r.VY,l.Sider=a.Z,t.Z=l},50963:function(e,t,n){"use strict";var r=n(75263).default,a=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return c.List}}),t.default=void 0,Object.defineProperty(t,"useForm",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"useWatch",{enumerable:!0,get:function(){return c.useWatch}});var l=a(n(10434)),o=a(n(18698)),i=a(n(27424)),u=a(n(81670)),s=a(n(36228)),c=r(n(51273)),d=r(n(67294)),f=n(31929),m=r(n(93319)),p=r(n(3236)),v=n(51130),g=a(n(3284)),h=function(e,t){var n,r=d.useContext(p.default),a=d.useContext(m.default),h=d.useContext(f.ConfigContext),y=h.getPrefixCls,b=h.direction,E=h.form,w=e.prefixCls,C=e.className,x=void 0===C?"":C,F=e.size,N=void 0===F?r:F,S=e.disabled,k=void 0===S?a:S,_=e.form,T=e.colon,Z=e.labelAlign,O=e.labelWrap,M=e.labelCol,I=e.wrapperCol,R=e.hideRequiredMark,A=e.layout,P=void 0===A?"horizontal":A,j=e.scrollToFirstError,W=e.requiredMark,q=e.onFinishFailed,H=e.name,D=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),L=(0,d.useMemo)((function(){return void 0!==W?W:E&&void 0!==E.requiredMark?E.requiredMark:!R}),[R,W,E]),V=null!=T?T:null==E?void 0:E.colon,Q=y("form",w),U=(0,s.default)(Q,(n={},(0,u.default)(n,"".concat(Q,"-").concat(P),!0),(0,u.default)(n,"".concat(Q,"-hide-required-mark"),!1===L),(0,u.default)(n,"".concat(Q,"-rtl"),"rtl"===b),(0,u.default)(n,"".concat(Q,"-").concat(N),N),n),x),B=(0,g.default)(_),z=(0,i.default)(B,1)[0],Y=z.__INTERNAL__;Y.name=H;var X=(0,d.useMemo)((function(){return{name:H,labelAlign:Z,labelCol:M,labelWrap:O,wrapperCol:I,vertical:"vertical"===P,colon:V,requiredMark:L,itemRef:Y.itemRef,form:z}}),[H,Z,M,I,P,V,L,z]);return d.useImperativeHandle(t,(function(){return z})),d.createElement(m.DisabledContextProvider,{disabled:k},d.createElement(p.SizeContextProvider,{size:N},d.createElement(v.FormContext.Provider,{value:X},d.createElement(c.default,(0,l.default)({id:H},D,{name:H,onFinishFailed:function(e){null==q||q(e);var t={block:"nearest"};j&&e.errorFields.length&&("object"===(0,o.default)(j)&&(t=j),z.scrollToField(e.errorFields[0].name,t))},form:z,className:U})))))},y=d.forwardRef(h);t.default=y},51130:function(e,t,n){"use strict";var r=n(75263).default,a=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NoStyleItemContext=t.NoFormStyle=t.FormProvider=t.FormItemPrefixContext=t.FormItemInputContext=t.FormContext=void 0;var l=a(n(10434)),o=n(51273),i=a(n(18475)),u=r(n(67294)),s=u.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}});t.FormContext=s;var c=u.createContext(null);t.NoStyleItemContext=c,t.FormProvider=function(e){var t=(0,i.default)(e,["prefixCls"]);return u.createElement(o.FormProvider,(0,l.default)({},t))};var d=u.createContext({prefixCls:""});t.FormItemPrefixContext=d;var f=u.createContext({});t.FormItemInputContext=f,t.NoFormStyle=function(e){var t=e.children,n=e.status,r=e.override,a=(0,u.useContext)(f),o=(0,u.useMemo)((function(){var e=(0,l.default)({},a);return r&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,r,a]);return u.createElement(f.Provider,{value:o},t)}},3284:function(e,t,n){"use strict";var r=n(75263).default,a=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,i.useForm)(),n=(0,o.default)(t,1)[0],r=u.useRef({}),a=u.useMemo((function(){return null!=e?e:(0,l.default)((0,l.default)({},n),{__INTERNAL__:{itemRef:function(e){return function(t){var n=d(e);t?r.current[n]=t:delete r.current[n]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,c.toArray)(e),r=(0,c.getFieldId)(n,a.__INTERNAL__.name),o=r?document.getElementById(r):null;o&&(0,s.default)(o,(0,l.default)({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=d(e);return r.current[t]}})}),[e,n]);return[a]};var l=a(n(10434)),o=a(n(27424)),i=n(51273),u=r(n(67294)),s=a(n(10059)),c=n(81351);function d(e){return(0,c.toArray)(e).join("_")}},81351:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFieldId=function(e,t){if(e.length){var r=e.join("_");return t?"".concat(t,"_").concat(r):n.includes(r)?"".concat("form_item","_").concat(r):r}},t.toArray=function(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]};var n=["parentNode"]},41207:function(e){function t(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function n(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function r(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return n(r.overflowY,t)||n(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function a(e,t,n,r,a,l,o,i){return l<e&&o>t||l>e&&o<t?0:l<=e&&i<=n||o>=t&&i>=n?l-e-r:o>t&&i<n||l<e&&i>n?o-t+a:0}e.exports=function(e,n){var l=window,o=n.scrollMode,i=n.block,u=n.inline,s=n.boundary,c=n.skipOverflowHiddenElements,d="function"==typeof s?s:function(e){return e!==s};if(!t(e))throw new TypeError("Invalid target");for(var f,m,p=document.scrollingElement||document.documentElement,v=[],g=e;t(g)&&d(g);){if((g=null==(m=(f=g).parentElement)?f.getRootNode().host||null:m)===p){v.push(g);break}null!=g&&g===document.body&&r(g)&&!r(document.documentElement)||null!=g&&r(g,c)&&v.push(g)}for(var h=l.visualViewport?l.visualViewport.width:innerWidth,y=l.visualViewport?l.visualViewport.height:innerHeight,b=window.scrollX||pageXOffset,E=window.scrollY||pageYOffset,w=e.getBoundingClientRect(),C=w.height,x=w.width,F=w.top,N=w.right,S=w.bottom,k=w.left,_="start"===i||"nearest"===i?F:"end"===i?S:F+C/2,T="center"===u?k+x/2:"end"===u?N:k,Z=[],O=0;O<v.length;O++){var M=v[O],I=M.getBoundingClientRect(),R=I.height,A=I.width,P=I.top,j=I.right,W=I.bottom,q=I.left;if("if-needed"===o&&F>=0&&k>=0&&S<=y&&N<=h&&F>=P&&S<=W&&k>=q&&N<=j)return Z;var H=getComputedStyle(M),D=parseInt(H.borderLeftWidth,10),L=parseInt(H.borderTopWidth,10),V=parseInt(H.borderRightWidth,10),Q=parseInt(H.borderBottomWidth,10),U=0,B=0,z="offsetWidth"in M?M.offsetWidth-M.clientWidth-D-V:0,Y="offsetHeight"in M?M.offsetHeight-M.clientHeight-L-Q:0,X="offsetWidth"in M?0===M.offsetWidth?0:A/M.offsetWidth:0,G="offsetHeight"in M?0===M.offsetHeight?0:R/M.offsetHeight:0;if(p===M)U="start"===i?_:"end"===i?_-y:"nearest"===i?a(E,E+y,y,L,Q,E+_,E+_+C,C):_-y/2,B="start"===u?T:"center"===u?T-h/2:"end"===u?T-h:a(b,b+h,h,D,V,b+T,b+T+x,x),U=Math.max(0,U+E),B=Math.max(0,B+b);else{U="start"===i?_-P-L:"end"===i?_-W+Q+Y:"nearest"===i?a(P,W,R,L,Q+Y,_,_+C,C):_-(P+R/2)+Y/2,B="start"===u?T-q-D:"center"===u?T-(q+A/2)+z/2:"end"===u?T-j+V+z:a(q,j,A,D,V+z,T,T+x,x);var J=M.scrollLeft,$=M.scrollTop;_+=$-(U=Math.max(0,Math.min($+U/G,M.scrollHeight-R/G+Y))),T+=J-(B=Math.max(0,Math.min(J+B/X,M.scrollWidth-A/X+z)))}Z.push({el:M,top:U,left:B})}return Z}},71068:function(e,t,n){"use strict";var r=n(8081),a=n.n(r),l=n(23645),o=n.n(l)()(a());o.push([e.id,".assignee-tag {\n  display: flex;\n  align-items: center;\n  padding: 2px 3px;\n  margin: 1px 2px;\n}\n",""]),t.Z=o},18475:function(e,t,n){"use strict";var r=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n};var a=r(n(42122))},10059:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(41207))&&r.__esModule?r:{default:r};function l(e){return e===Object(e)&&0!==Object.keys(e).length}t.default=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(l(t)&&"function"==typeof t.behavior)return t.behavior(n?(0,a.default)(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:l(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,a=e.top,l=e.left;r.scroll&&n?r.scroll({top:a,left:l,behavior:t}):(r.scrollTop=a,r.scrollLeft=l)}))}((0,a.default)(e,r),r.behavior)}},e.exports=t.default},22535:function(e,t,n){"use strict";n.d(t,{w:function(){return i}});var r=n(19650),a=n(96486),l=n(67294),o=n(25577),i=function(e){var t=e.id,n=e.name;return(0,a.isUndefined)(t)&&(0,a.isUndefined)(n)?null:l.createElement(r.Z,{"data-testid":"user-tag"},l.createElement(o.Z,{id:t,name:n,width:"22"}),l.createElement("span",null,n))}},62277:function(e,t,n){"use strict";n.r(t);var r=n(70655),a=n(91894),l=n(9242),o=n(4107),i=n(19650),u=n(71577),s=n(50963),c=n(96486),d=n(67674),f=n(67294),m=n(59293),p=n(52046),v=n(13950),g=n(25577),h=n(84419),y=n(73213),b=n(58369),E=n(59583),w=n(31615),C=n(48132),x=n(22215),F=n(19790),N=n(44355),S=n(50168),k=n(25131),_=n(58666),T=n(90846),Z=n(72468);t.default=(0,d.Pi)((function(){var e=(0,m.TH)(),t=(0,m.k6)(),n=(0,r.CR)((0,s.useForm)(),1)[0],d=(0,m.UO)(),O=d.entityType,M=d.entityFQN,I=new URLSearchParams(e.search),R=I.get("field"),A=I.get("value"),P=(0,r.CR)((0,f.useState)({}),2),j=P[0],W=P[1],q=(0,r.CR)((0,f.useState)([]),2),H=q[0],D=q[1],L=(0,r.CR)((0,f.useState)([]),2),V=L[0],Q=L[1],U=(0,r.CR)((0,f.useState)([]),2),B=U[0],z=U[1],Y=(0,f.useMemo)((function(){var e,t=null===(e=(0,F.Zk)(j.tags||[]))||void 0===e?void 0:e.tagFQN;return null==t?void 0:t.split(y.o)[1]}),[j.tags]),X=(0,f.useMemo)((function(){return((0,F.nD)(j.tags||[])||[]).map((function(e){return"#"+e.tagFQN})).join(" ")}),[j.tags]),G=(null==A?void 0:A.replaceAll(/^"|"$/g,""))||"",J="Request tags for "+(G||O)+" "+(R!==b.Sn.COLUMNS?(0,C.C_)(j):""),$=(0,f.useMemo)((function(){return p.Z.getCurrentUserDetails()}),[p.Z.userDetails,p.Z.nonSecureUserDetails]),K=(0,f.useCallback)((function(){var e,t;if((0,c.isNil)(R)||(0,c.isNil)(A)||R!==b.Sn.COLUMNS)return null;var n=G.split(y.o).slice(-1),r=(0,N.dY)(n[0],j.columns||[]);return f.createElement("div",{"data-testid":"column-details"},f.createElement("p",{className:"tw-font-semibold"},"Column Details"),f.createElement("p",null,f.createElement("span",{className:"tw-text-grey-muted"},"Type:")," ",f.createElement("span",null,r.dataTypeDisplay)),f.createElement("p",null,null===(t=null===(e=null==r?void 0:r.tags)||void 0===e?void 0:e.map((function(e){return"#"+e.tagFQN})))||void 0===t?void 0:t.join(" ")))}),[j.columns]),ee=function(){return R&&A?""+R+x.LV+A+x.LV+"tags":b.Sn.TAGS};return(0,f.useEffect)((function(){(0,N.Dy)(O,M,W)}),[M,O]),(0,f.useEffect)((function(){var e=j.owner;if(e){var t=[{label:(0,C.C_)(e),value:e.id||"",type:e.type}];Q(t),D(t)}n.setFieldsValue({title:J.trimEnd()})}),[j]),f.createElement(T.Z,null,f.createElement(h.Z,{titleLinks:(0,r.ev)((0,r.ev)([],(0,r.CR)((0,N.rM)(j,O))),[{name:"Create Task",activeTitle:!0,url:""}])}),f.createElement("div",{className:"tw-grid tw-grid-cols-3 tw-gap-x-2"},f.createElement(a.Z,{className:"tw-col-span-2",key:"request-tags",style:(0,r.pi)({},Z.F),title:"Create Task"},f.createElement(l.Z,{form:n,layout:"vertical",onFinish:function(e){if(V.length){var n={from:null==$?void 0:$.name,message:e.title||J,about:(0,x.ec)(O,M,ee()),taskDetails:{assignees:V.map((function(e){return{id:e.value,type:e.type}})),suggestion:JSON.stringify(B),type:E.U.RequestTag,oldValue:"[]"},type:w.Th.Task};(0,v.Kl)(n).then((function(e){var n,r;(0,S.XA)("Task Created Successfully"),t.push((0,N.yv)(null!==(r=null===(n=e.task)||void 0===n?void 0:n.id.toFixed())&&void 0!==r?r:""))})).catch((function(e){return(0,S.Eo)(e)}))}else(0,S.Eo)("Cannot create a task without assignee")}},f.createElement(l.Z.Item,{"data-testid":"title",label:"Title:",name:"title"},f.createElement(o.Z,{placeholder:"Task title",style:{margin:"4px 0px"}})),f.createElement(l.Z.Item,{"data-testid":"assignees",label:"Assignees:",name:"assignees"},f.createElement(k.Z,{assignees:V,options:H,onChange:Q,onSearch:function(e){(0,N.Od)(e,D)}})),f.createElement(l.Z.Item,{"data-testid":"tags-label",label:"Suggest tags:",name:"suggestTags"},f.createElement(_.Z,{selectedTags:B,onChange:z})),f.createElement(l.Z.Item,null,f.createElement(i.Z,{className:"w-full justify-end","data-testid":"cta-buttons",size:16},f.createElement(u.Z,{type:"link",onClick:function(){return t.goBack()}},"Back"),f.createElement(u.Z,{"data-testid":"submit-tag-request",htmlType:"submit",type:"primary"},B?"Suggest":"Submit"))))),f.createElement("div",{className:"tw-pl-2","data-testid":"entity-details"},f.createElement("h6",{className:"tw-text-base"},(0,c.capitalize)(O)," Details"),f.createElement("div",{className:"tw-flex tw-mb-4"},f.createElement("span",{className:"tw-text-grey-muted"},"Owner:")," ",f.createElement("span",null,j.owner?f.createElement("span",{className:"tw-flex tw-ml-1"},f.createElement(g.Z,{displayName:(0,C.C_)(j.owner),id:"",name:(0,C.C_)(j.owner),width:"20"}),f.createElement("span",{className:"tw-ml-1"},(0,C.C_)(j.owner))):f.createElement("span",{className:"tw-text-grey-muted tw-ml-1"},"No Owner"))),f.createElement("p",{"data-testid":"tier"},Y||f.createElement("span",{className:"tw-text-grey-muted"},"No Tier")),f.createElement("p",{"data-testid":"tags"},X),K())))}))},72468:function(e,t,n){"use strict";n.d(t,{F:function(){return r},_R:function(){return a},Oq:function(){return l}});var r={border:"1px rgb(221, 227, 234) solid",borderRadius:"8px",marginBottom:"20px",boxShadow:"1px 1px 6px rgb(0 0 0 / 6%)",marginTop:"8px"},a={padding:24,margin:0,paddingTop:0},l={background:"#F8F9FA"}},25131:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(34041),a=n(67294),l=n(22535),o=n(93379),i=n.n(o),u=n(7795),s=n.n(u),c=n(90569),d=n.n(c),f=n(3565),m=n.n(f),p=n(19216),v=n.n(p),g=n(44589),h=n.n(g),y=n(71068),b={};b.styleTagTransform=h(),b.setAttributes=m(),b.insert=d().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=v(),i()(y.Z,b),y.Z&&y.Z.locals&&y.Z.locals;var E=function(e){var t=e.assignees,n=e.onSearch,o=e.onChange,i=e.options,u=r.Z.Option;return a.createElement(r.Z,{showSearch:!0,className:"ant-select-custom","data-testid":"select-assignee",defaultActiveFirstOption:!1,filterOption:!1,mode:"multiple",notFoundContent:null,placeholder:"Search to Select",showArrow:!1,value:t.length?t:void 0,onChange:function(e,t){var n=t.map((function(e){return{label:e["data-label"],value:e.value,type:e["data-usertype"]}}));o(n)},onSearch:n},i.map((function(e){return a.createElement(u,{"data-label":e.label,"data-testid":"assignee-option","data-usertype":e.type,key:e.value},a.createElement(l.w,{id:e.value,name:e.label}))})))}},58666:function(e,t,n){"use strict";var r=n(70655),a=n(34041),l=n(96486),o=n(67294),i=n(74313),u=n(90058),s=n(50168),c=a.Z.Option;t.Z=function(e){var t=e.onChange,n=e.selectedTags,d=function(){return n.map((function(e){return{label:e.tagFQN,value:e.tagFQN,"data-sourcetype":(0,l.isEqual)(e.source,"Tag")?"tag":"glossaryTerm"}}))},f=(0,r.CR)((0,o.useState)([]),2),m=f[0],p=f[1];return(0,o.useEffect)((function(){p(d())}),[n]),o.createElement(a.Z,{showSearch:!0,className:"ant-select-custom","data-testid":"select-tags",defaultActiveFirstOption:!1,filterOption:!1,mode:"multiple",notFoundContent:null,placeholder:"Search to Select",showArrow:!1,value:(0,l.isEmpty)(d())?void 0:d(),onChange:function(e,n){var r=n.map((function(e){return{labelType:u.JG.Manual,state:u.ZM.Suggested,source:(0,l.isEqual)(e["data-sourcetype"],"tag")?u.c6.Tag:u.c6.Glossary,tagFQN:e.value}}));t(r)},onSearch:function(e){var t;e?(t=e,(0,i.op)(t).then((function(e){var t,n=null!==(t=e.data.suggest["metadata-suggest"][0].options)&&void 0!==t?t:[],a=(0,r.ev)([],(0,r.CR)(new Set(n.map((function(e){return e._source})))));p(a.map((function(e){return{label:e.fullyQualifiedName,value:e.fullyQualifiedName,"data-sourcetype":e.entityType}})))})).catch((function(e){return(0,s.Eo)(e)}))):p([])}},m.map((function(e){return o.createElement(c,{"data-sourcetype":e["data-sourcetype"],"data-testid":"tag-option",key:e.value},e.label)})))}},90846:function(e,t,n){"use strict";var r=n(70655),a=n(97183),l=n(67294),o=n(72468);t.Z=function(e){var t=e.children,n=a.Z.Content,i=a.Z.Sider;return l.createElement(a.Z,{style:(0,r.pi)((0,r.pi)({},o.Oq),{height:"100vh"})},l.createElement(i,{"data-testid":"left-sider",style:o.Oq,width:180}),l.createElement(n,{style:o._R},t),l.createElement(i,{"data-testid":"right-sider",style:o.Oq,width:180}))}}}]);