(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[9202],{97183:function(e,t,n){"use strict";var r=n(2897),a=n(78457),l=r.ZP;l.Header=r.h4,l.Footer=r.$_,l.Content=r.VY,l.Sider=a.Z,t.Z=l},50963:function(e,t,n){"use strict";var r=n(75263).default,a=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return d.List}}),t.default=void 0,Object.defineProperty(t,"useForm",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"useWatch",{enumerable:!0,get:function(){return d.useWatch}});var l=a(n(10434)),i=a(n(18698)),o=a(n(27424)),u=a(n(81670)),s=a(n(36228)),d=r(n(51273)),c=r(n(67294)),f=n(31929),m=r(n(93319)),p=r(n(3236)),v=n(51130),h=a(n(3284)),g=function(e,t){var n,r=c.useContext(p.default),a=c.useContext(m.default),g=c.useContext(f.ConfigContext),b=g.getPrefixCls,w=g.direction,y=g.form,E=e.prefixCls,C=e.className,x=void 0===C?"":C,N=e.size,k=void 0===N?r:N,F=e.disabled,Z=void 0===F?a:F,_=e.form,S=e.colon,O=e.labelAlign,I=e.labelWrap,M=e.labelCol,T=e.wrapperCol,R=e.hideRequiredMark,P=e.layout,A=void 0===P?"horizontal":P,j=e.scrollToFirstError,W=e.requiredMark,D=e.onFinishFailed,H=e.name,q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),L=(0,c.useMemo)((function(){return void 0!==W?W:y&&void 0!==y.requiredMark?y.requiredMark:!R}),[R,W,y]),U=null!=S?S:null==y?void 0:y.colon,V=b("form",E),z=(0,s.default)(V,(n={},(0,u.default)(n,"".concat(V,"-").concat(A),!0),(0,u.default)(n,"".concat(V,"-hide-required-mark"),!1===L),(0,u.default)(n,"".concat(V,"-rtl"),"rtl"===w),(0,u.default)(n,"".concat(V,"-").concat(k),k),n),x),B=(0,h.default)(_),Y=(0,o.default)(B,1)[0],Q=Y.__INTERNAL__;Q.name=H;var X=(0,c.useMemo)((function(){return{name:H,labelAlign:O,labelCol:M,labelWrap:I,wrapperCol:T,vertical:"vertical"===A,colon:U,requiredMark:L,itemRef:Q.itemRef,form:Y}}),[H,O,M,T,A,U,L,Y]);return c.useImperativeHandle(t,(function(){return Y})),c.createElement(m.DisabledContextProvider,{disabled:Z},c.createElement(p.SizeContextProvider,{size:k},c.createElement(v.FormContext.Provider,{value:X},c.createElement(d.default,(0,l.default)({id:H},q,{name:H,onFinishFailed:function(e){null==D||D(e);var t={block:"nearest"};j&&e.errorFields.length&&("object"===(0,i.default)(j)&&(t=j),Y.scrollToField(e.errorFields[0].name,t))},form:Y,className:z})))))},b=c.forwardRef(g);t.default=b},51130:function(e,t,n){"use strict";var r=n(75263).default,a=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NoStyleItemContext=t.NoFormStyle=t.FormProvider=t.FormItemPrefixContext=t.FormItemInputContext=t.FormContext=void 0;var l=a(n(10434)),i=n(51273),o=a(n(18475)),u=r(n(67294)),s=u.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}});t.FormContext=s;var d=u.createContext(null);t.NoStyleItemContext=d,t.FormProvider=function(e){var t=(0,o.default)(e,["prefixCls"]);return u.createElement(i.FormProvider,(0,l.default)({},t))};var c=u.createContext({prefixCls:""});t.FormItemPrefixContext=c;var f=u.createContext({});t.FormItemInputContext=f,t.NoFormStyle=function(e){var t=e.children,n=e.status,r=e.override,a=(0,u.useContext)(f),i=(0,u.useMemo)((function(){var e=(0,l.default)({},a);return r&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,r,a]);return u.createElement(f.Provider,{value:i},t)}},3284:function(e,t,n){"use strict";var r=n(75263).default,a=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.useForm)(),n=(0,i.default)(t,1)[0],r=u.useRef({}),a=u.useMemo((function(){return null!=e?e:(0,l.default)((0,l.default)({},n),{__INTERNAL__:{itemRef:function(e){return function(t){var n=c(e);t?r.current[n]=t:delete r.current[n]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,d.toArray)(e),r=(0,d.getFieldId)(n,a.__INTERNAL__.name),i=r?document.getElementById(r):null;i&&(0,s.default)(i,(0,l.default)({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=c(e);return r.current[t]}})}),[e,n]);return[a]};var l=a(n(10434)),i=a(n(27424)),o=n(51273),u=r(n(67294)),s=a(n(10059)),d=n(81351);function c(e){return(0,d.toArray)(e).join("_")}},81351:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFieldId=function(e,t){if(e.length){var r=e.join("_");return t?"".concat(t,"_").concat(r):n.includes(r)?"".concat("form_item","_").concat(r):r}},t.toArray=function(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]};var n=["parentNode"]},41207:function(e){function t(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function n(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function r(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return n(r.overflowY,t)||n(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function a(e,t,n,r,a,l,i,o){return l<e&&i>t||l>e&&i<t?0:l<=e&&o<=n||i>=t&&o>=n?l-e-r:i>t&&o<n||l<e&&o>n?i-t+a:0}e.exports=function(e,n){var l=window,i=n.scrollMode,o=n.block,u=n.inline,s=n.boundary,d=n.skipOverflowHiddenElements,c="function"==typeof s?s:function(e){return e!==s};if(!t(e))throw new TypeError("Invalid target");for(var f,m,p=document.scrollingElement||document.documentElement,v=[],h=e;t(h)&&c(h);){if((h=null==(m=(f=h).parentElement)?f.getRootNode().host||null:m)===p){v.push(h);break}null!=h&&h===document.body&&r(h)&&!r(document.documentElement)||null!=h&&r(h,d)&&v.push(h)}for(var g=l.visualViewport?l.visualViewport.width:innerWidth,b=l.visualViewport?l.visualViewport.height:innerHeight,w=window.scrollX||pageXOffset,y=window.scrollY||pageYOffset,E=e.getBoundingClientRect(),C=E.height,x=E.width,N=E.top,k=E.right,F=E.bottom,Z=E.left,_="start"===o||"nearest"===o?N:"end"===o?F:N+C/2,S="center"===u?Z+x/2:"end"===u?k:Z,O=[],I=0;I<v.length;I++){var M=v[I],T=M.getBoundingClientRect(),R=T.height,P=T.width,A=T.top,j=T.right,W=T.bottom,D=T.left;if("if-needed"===i&&N>=0&&Z>=0&&F<=b&&k<=g&&N>=A&&F<=W&&Z>=D&&k<=j)return O;var H=getComputedStyle(M),q=parseInt(H.borderLeftWidth,10),L=parseInt(H.borderTopWidth,10),U=parseInt(H.borderRightWidth,10),V=parseInt(H.borderBottomWidth,10),z=0,B=0,Y="offsetWidth"in M?M.offsetWidth-M.clientWidth-q-U:0,Q="offsetHeight"in M?M.offsetHeight-M.clientHeight-L-V:0,X="offsetWidth"in M?0===M.offsetWidth?0:P/M.offsetWidth:0,K="offsetHeight"in M?0===M.offsetHeight?0:R/M.offsetHeight:0;if(p===M)z="start"===o?_:"end"===o?_-b:"nearest"===o?a(y,y+b,b,L,V,y+_,y+_+C,C):_-b/2,B="start"===u?S:"center"===u?S-g/2:"end"===u?S-g:a(w,w+g,g,q,U,w+S,w+S+x,x),z=Math.max(0,z+y),B=Math.max(0,B+w);else{z="start"===o?_-A-L:"end"===o?_-W+V+Q:"nearest"===o?a(A,W,R,L,V+Q,_,_+C,C):_-(A+R/2)+Q/2,B="start"===u?S-D-q:"center"===u?S-(D+P/2)+Y/2:"end"===u?S-j+U+Y:a(D,j,P,q,U+Y,S,S+x,x);var $=M.scrollLeft,G=M.scrollTop;_+=G-(z=Math.max(0,Math.min(G+z/K,M.scrollHeight-R/K+Q))),S+=$-(B=Math.max(0,Math.min($+B/X,M.scrollWidth-P/X+Y)))}O.push({el:M,top:z,left:B})}return O}},71068:function(e,t,n){"use strict";var r=n(8081),a=n.n(r),l=n(23645),i=n.n(l)()(a());i.push([e.id,".assignee-tag {\n  display: flex;\n  align-items: center;\n  padding: 2px 3px;\n  margin: 1px 2px;\n}\n",""]),t.Z=i},18475:function(e,t,n){"use strict";var r=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n};var a=r(n(42122))},10059:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(41207))&&r.__esModule?r:{default:r};function l(e){return e===Object(e)&&0!==Object.keys(e).length}t.default=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(l(t)&&"function"==typeof t.behavior)return t.behavior(n?(0,a.default)(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:l(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,a=e.top,l=e.left;r.scroll&&n?r.scroll({top:a,left:l,behavior:t}):(r.scrollTop=a,r.scrollLeft=l)}))}((0,a.default)(e,r),r.behavior)}},e.exports=t.default},22535:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(19650),a=n(96486),l=n(67294),i=n(25577),o=function(e){var t=e.id,n=e.name;return(0,a.isUndefined)(t)&&(0,a.isUndefined)(n)?null:l.createElement(r.Z,{"data-testid":"user-tag"},l.createElement(i.Z,{id:t,name:n,width:"22"}),l.createElement("span",null,n))}},72468:function(e,t,n){"use strict";n.d(t,{F:function(){return r},_R:function(){return a},Oq:function(){return l}});var r={border:"1px rgb(221, 227, 234) solid",borderRadius:"8px",marginBottom:"20px",boxShadow:"1px 1px 6px rgb(0 0 0 / 6%)",marginTop:"8px"},a={padding:24,margin:0,paddingTop:0},l={background:"#F8F9FA"}},49636:function(e,t,n){"use strict";n.r(t);var r=n(70655),a=n(91894),l=n(9242),i=n(4107),o=n(19650),u=n(71577),s=n(50963),d=n(96486),c=n(67294),f=n(59293),m=n(52046),p=n(13950),v=n(25577),h=n(84419),g=n(73213),b=n(58369),w=n(59583),y=n(48132),E=n(22215),C=n(19790),x=n(44355),N=n(50168),k=n(25131),F=n(91238),Z=n(90846),_=n(72468);t.default=function(){var e=(0,f.TH)(),t=(0,f.k6)(),n=(0,r.CR)((0,s.useForm)(),1)[0],S=(0,c.useRef)(),O=(0,f.UO)(),I=O.entityType,M=O.entityFQN,T=new URLSearchParams(e.search),R=T.get("field"),P=T.get("value"),A=(0,r.CR)((0,c.useState)({}),2),j=A[0],W=A[1],D=(0,r.CR)((0,c.useState)([]),2),H=D[0],q=D[1],L=(0,r.CR)((0,c.useState)([]),2),U=L[0],V=L[1],z=(0,r.CR)((0,c.useState)(""),2),B=z[0],Y=z[1],Q=(0,c.useMemo)((function(){var e,t=null===(e=(0,C.Zk)(j.tags||[]))||void 0===e?void 0:e.tagFQN;return null==t?void 0:t.split(g.o)[1]}),[j.tags]),X=(0,c.useMemo)((function(){return((0,C.nD)(j.tags||[])||[]).map((function(e){return"#"+e.tagFQN})).join(" ")}),[j.tags]),K=(null==P?void 0:P.replaceAll(/^"|"$/g,""))||"",$=(0,c.useMemo)((function(){return m.Z.getCurrentUserDetails()}),[m.Z.userDetails,m.Z.nonSecureUserDetails]),G="Update description for "+(K||I)+" "+(R!==b.Sn.COLUMNS?(0,y.C_)(j):""),J=(0,c.useMemo)((function(){var e=K.split(g.o).slice(-1);return(0,x.dY)(e[0],j.columns||[])}),[R,j]),ee=(0,c.useCallback)((function(){var e,t;return(0,d.isNil)(R)||(0,d.isNil)(P)||R!==b.Sn.COLUMNS?null:c.createElement("div",{"data-testid":"column-details"},c.createElement("p",{className:"tw-font-semibold"},"Column Details"),c.createElement("p",null,c.createElement("span",{className:"tw-text-grey-muted"},"Type:")," ",c.createElement("span",null,J.dataTypeDisplay)),c.createElement("p",null,null===(t=null===(e=null==J?void 0:J.tags)||void 0===e?void 0:e.map((function(e){return"#"+e.tagFQN})))||void 0===t?void 0:t.join(" ")))}),[j.columns]),te=function(){return R&&P?""+R+E.LV+P+E.LV+"description":b.Sn.DESCRIPTION};return(0,c.useEffect)((function(){(0,x.Dy)(I,M,W)}),[M,I]),(0,c.useEffect)((function(){var e=j.owner;if(e){var t=[{label:(0,y.C_)(e),value:e.id||"",type:e.type}];V(t),q(t)}n.setFieldsValue({title:G.trimEnd()})}),[j]),(0,c.useEffect)((function(){Y((0,d.isEmpty)(J)||(0,d.isUndefined)(J)?j.description||"":J.description||"")}),[j,J]),c.createElement(Z.Z,null,c.createElement(h.Z,{titleLinks:(0,r.ev)((0,r.ev)([],(0,r.CR)((0,x.rM)(j,I))),[{name:"Create Task",activeTitle:!0,url:""}])}),c.createElement("div",{className:"tw-grid tw-grid-cols-3 tw-gap-x-2"},c.createElement(a.Z,{className:"tw-col-span-2",key:"update-description",style:(0,r.pi)({},_.F),title:"Create Task"},c.createElement(l.Z,{form:n,layout:"vertical",onFinish:function(e){var n;if(U.length){var r={from:null==$?void 0:$.name,message:e.title||G,about:(0,E.ec)(I,M,te()),taskDetails:{assignees:U.map((function(e){return{id:e.value,type:e.type}})),suggestion:null===(n=S.current)||void 0===n?void 0:n.getEditorContent(),type:w.U.UpdateDescription,oldValue:B},type:w.T.Task};(0,p.Kl)(r).then((function(e){var n,r;(0,N.XA)("Task Created Successfully"),t.push((0,x.yv)(null!==(r=null===(n=e.task)||void 0===n?void 0:n.id.toString())&&void 0!==r?r:""))})).catch((function(e){return(0,N.Eo)(e)}))}else(0,N.Eo)("Cannot create a task without assignee")}},c.createElement(l.Z.Item,{"data-testid":"title",label:"Title:",name:"title"},c.createElement(i.Z,{placeholder:"Task title",style:{margin:"4px 0px"}})),c.createElement(l.Z.Item,{"data-testid":"assignees",label:"Assignees:",name:"assignees"},c.createElement(k.Z,{assignees:U,options:H,onChange:V,onSearch:function(e){(0,x.Od)(e,q)}})),B&&c.createElement(l.Z.Item,{"data-testid":"description-tabs",label:"Description:",name:"description"},c.createElement(F.Z,{description:B,markdownRef:S,suggestion:B})),c.createElement(l.Z.Item,null,c.createElement(o.Z,{className:"tw-w-full tw-justify-end","data-testid":"cta-buttons",size:16},c.createElement(u.Z,{type:"link",onClick:function(){return t.goBack()}},"Back"),c.createElement(u.Z,{htmlType:"submit",type:"primary"},"Submit"))))),c.createElement("div",{className:"tw-pl-2","data-testid":"entity-details"},c.createElement("h6",{className:"tw-text-base"},(0,d.capitalize)(I)," Details"),c.createElement("div",{className:"tw-flex tw-mb-4"},c.createElement("span",{className:"tw-text-grey-muted"},"Owner:")," ",c.createElement("span",null,j.owner?c.createElement("span",{className:"tw-flex tw-ml-1"},c.createElement(v.Z,{displayName:(0,y.C_)(j.owner),id:"",name:(0,y.C_)(j.owner),width:"20"}),c.createElement("span",{className:"tw-ml-1"},(0,y.C_)(j.owner))):c.createElement("span",{className:"tw-text-grey-muted tw-ml-1"},"No Owner"))),c.createElement("p",{"data-testid":"tier"},Q||c.createElement("span",{className:"tw-text-grey-muted"},"No Tier")),c.createElement("p",{"data-testid":"tags"},X),ee())))}},25131:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(34041),a=n(67294),l=n(22535),i=n(93379),o=n.n(i),u=n(7795),s=n.n(u),d=n(90569),c=n.n(d),f=n(3565),m=n.n(f),p=n(19216),v=n.n(p),h=n(44589),g=n.n(h),b=n(71068),w={};w.styleTagTransform=g(),w.setAttributes=m(),w.insert=c().bind(null,"head"),w.domAPI=s(),w.insertStyleElement=v(),o()(b.Z,w),b.Z&&b.Z.locals&&b.Z.locals;var y=function(e){var t=e.assignees,n=e.onSearch,i=e.onChange,o=e.options,u=r.Z.Option;return a.createElement(r.Z,{showSearch:!0,className:"ant-select-custom","data-testid":"select-assignee",defaultActiveFirstOption:!1,filterOption:!1,mode:"multiple",notFoundContent:null,placeholder:"Search to Select",showArrow:!1,value:t.length?t:void 0,onChange:function(e,t){var n=t.map((function(e){return{label:e["data-label"],value:e.value,type:e["data-usertype"]}}));i(n)},onSearch:n},o.map((function(e){return a.createElement(u,{"data-label":e.label,"data-testid":"assignee-option","data-usertype":e.type,key:e.value},a.createElement(l.w,{id:e.value,name:e.label}))})))}},91238:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(70655),a=n(38222),l=n(96486),i=n(67294),o=n(97809),u=n(80131),s=n(44355),d=n(36190),c=function(e){var t=e.description,n=e.suggestion,c=e.markdownRef,f=e.placeHolder,m=e.onChange,p=a.Z.TabPane,v=(0,r.CR)((0,i.useState)([]),2),h=v[0],g=v[1],b=(0,r.CR)((0,i.useState)("3"),2),w=b[0],y=b[1];return i.createElement(a.Z,{activeKey:w,className:"ant-tabs-description","data-testid":"tabs",size:"small",type:"card",onChange:function(e){var n;if(y(e),(0,l.isEqual)(e,"2")){var r=null===(n=c.current)||void 0===n?void 0:n.getEditorContent();r&&g((0,s.up)(t,r))}else g([])}},i.createElement(p,{"data-testid":"current-tab",key:"1",tab:"Current"},i.createElement("div",{className:"tw-flex tw-border tw-border-main tw-rounded tw-mb-4 tw-mt-4"},t.trim()?i.createElement(u.Z,{className:"tw-p-2",enableSeeMoreVariant:!1,markdown:t}):i.createElement("span",{className:"tw-no-description tw-p-2"},"No description "))),i.createElement(p,{"data-testid":"diff-tab",key:"2",tab:"Diff"},i.createElement(d.E,{className:"tw-border tw-border-main tw-p-2 tw-rounded tw-my-3",diffArr:h})),i.createElement(p,{"data-testid":"new-tab",key:"3",tab:"New"},i.createElement(o.Z,{className:"tw-my-0",height:"208px",initialValue:n,placeHolder:null!=f?f:"Update description",ref:c,onTextChange:m})))}},36190:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var r=n(94184),a=n.n(r),l=n(96486),i=n(67294),o=function(e){var t=e.diffArr,n=e.className,r=t.map((function(e){return e.added?i.createElement("ins",{className:"diff-added","data-testid":"diff-added",key:(0,l.uniqueId)()},e.value):e.removed?i.createElement("del",{"data-testid":"diff-removed",key:(0,l.uniqueId)(),style:{color:"grey",textDecoration:"line-through"}},e.value):i.createElement("span",{"data-testid":"diff-normal",key:(0,l.uniqueId)()},e.value)}));return i.createElement("div",{className:a()("tw-w-full tw-max-h-52 tw-overflow-y-auto",n)},i.createElement("pre",{className:"tw-whitespace-pre-wrap tw-mb-0","data-testid":"diff-container"},t.length?r:i.createElement("span",{className:"tw-text-grey-muted","data-testid":"noDiff-placeholder"},"No diff available")))}},90846:function(e,t,n){"use strict";var r=n(70655),a=n(97183),l=n(67294),i=n(72468);t.Z=function(e){var t=e.children,n=a.Z.Content,o=a.Z.Sider;return l.createElement(a.Z,{style:(0,r.pi)((0,r.pi)({},i.Oq),{height:"100vh"})},l.createElement(o,{"data-testid":"left-sider",style:i.Oq,width:180}),l.createElement(n,{style:i._R},t),l.createElement(o,{"data-testid":"right-sider",style:i.Oq,width:180}))}}}]);