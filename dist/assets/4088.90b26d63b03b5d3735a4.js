"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[4088],{63565:function(e,t,n){var i=n(8081),r=n.n(i),a=n(23645),o=n.n(a)()(r());o.push([e.id,'/*\n *  Copyright 2021 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.ant-attribute-modal .ant-modal-body {\n  padding: 16px 8px;\n}\n.ant-attribute-modal .ant-modal-body .ant-row {\n  padding: 16px;\n  cursor: pointer;\n}\n.ant-attribute-modal .ant-modal-body .ant-row.ant-search-box-row {\n  padding-top: 0px;\n}\n.ant-attribute-modal .ant-modal-body .ant-row.selected {\n  background-color: #54C5D01a;\n}\n',""]),t.Z=o},63153:function(e,t,n){n.d(t,{F3:function(){return o},Ko:function(){return c},n5:function(){return s},u7:function(){return u},_d:function(){return l},u$:function(){return d},sZ:function(){return m},$j:function(){return f},cN:function(){return h},QW:function(){return p},dV:function(){return v}});var i=n(70655),r=n(97451),a={headers:{"Content-type":"application/json-patch+json"}},o=function(e,t,n,a,o){return void 0===a&&(a=!1),void 0===o&&(o=10),(0,i.mG)(void 0,void 0,void 0,(function(){var c;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return c={default:a,limit:o,fields:e,after:t,before:n},[4,r.Z.get("/roles",{params:c})];case 1:return[2,i.sent().data]}}))}))},c=function(e,t,n,a){return void 0===a&&(a=10),(0,i.mG)(void 0,void 0,void 0,(function(){var o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return o={limit:a,fields:e,after:t,before:n},[4,r.Z.get("/policies",{params:o})];case 1:return[2,i.sent().data]}}))}))},s=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return[4,r.Z.get("/roles/name/"+e,{params:{fields:t}})];case 1:return[2,n.sent().data]}}))}))},u=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return[4,r.Z.get("/policies/name/"+e,{params:{fields:t}})];case 1:return[2,n.sent().data]}}))}))},l=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,r.Z.post("/roles",e)];case 1:return[2,t.sent().data]}}))}))},d=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,r.Z.post("/policies",e)];case 1:return[2,t.sent().data]}}))}))},m=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return[4,r.Z.patch("/roles/"+t,e,a)];case 1:return[2,n.sent().data]}}))}))},f=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return[4,r.Z.patch("/policies/"+t,e,a)];case 1:return[2,n.sent().data]}}))}))},h=function(){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return[4,r.Z.get("/policies/resources")];case 1:return[2,e.sent().data]}}))}))},p=function(){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return[4,r.Z.get("/policies/functions")];case 1:return[2,e.sent().data]}}))}))},v=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,r.Z.get("/policies/validation/condition/"+e)];case 1:return[2,t.sent()]}}))}))}},66703:function(e,t,n){n.d(t,{LK:function(){return c},RG:function(){return s},Xv:function(){return u},Cm:function(){return l},hh:function(){return d},fs:function(){return m},kt:function(){return f}});var i=n(70655),r=n(96486),a=n(22334),o=n(97451),c=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){var n,c;return(0,i.Jh)(this,(function(s){switch(s.label){case 0:return n=(0,i.pi)({fields:(0,r.isString)(e)?e:null==e?void 0:e.join(","),limit:1e5},t),c=(0,a.JP)("/teams"),[4,o.Z.get(c,{params:n})];case 1:return[2,s.sent().data]}}))}))},s=function(e){return void 0===e&&(e=!1),(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,o.Z.get("/teams/hierarchy",{params:{isJoinable:e}})];case 1:return[2,t.sent().data]}}))}))},u=function(e,t,n){return(0,i.mG)(void 0,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return r=(0,a.JP)("/teams/name/"+e,t),[4,o.Z.get(r,{params:{include:n}})];case 1:return[2,i.sent().data]}}))}))},l=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,o.Z.post("/teams",e)];case 1:return[2,t.sent().data]}}))}))},d=function(e,t){return(0,i.mG)(void 0,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n={headers:{"Content-type":"application/json-patch+json"}},[4,o.Z.patch("/teams/"+e,t,n)];case 1:return[2,i.sent().data]}}))}))},m=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,o.Z.put("/teams",e)];case 1:return[2,t.sent().data]}}))}))},f=function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,o.Z.put("/teams/restore",{id:e})];case 1:return[2,t.sent().data]}}))}))}},9632:function(e,t,n){var i=n(70655),r=n(55241),a=n(94184),o=n.n(a),c=n(67800),s=n(96486),u=n(67294),l=n(59293),d=n(58369),m=n(31615),f=n(48132),h=n(22215),p=n(38464),v=n(44355),w=n(50168),E=n(47368),b=n(80131);t.Z=function(e){var t=e.className,n=e.hasEditAccess,a=e.onDescriptionEdit,y=e.description,Z=void 0===y?"":y,N=e.isEdit,g=e.onCancel,x=e.onDescriptionUpdate,C=e.isReadOnly,k=void 0!==C&&C,J=e.removeBlur,S=void 0!==J&&J,G=e.entityName,T=e.entityFieldThreads,L=e.onThreadLinkSelect,I=e.entityType,O=e.entityFqn,P=e.entityFieldTasks,R=(0,l.k6)(),F=null==T?void 0:T[0],A=null==P?void 0:P[0],q=function(){R.push((0,v.Ie)(I,O))},D=function(){R.push((0,v.Q3)(I,O))},U=function(){a&&a()},j=function(){var e=Boolean(Z.trim());return v.GZ.includes(I)?u.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none link-text focus:tw-outline-none","data-testid":"request-entity-description",onClick:e?D:q},u.createElement(r.Z,{destroyTooltipOnHide:!0,content:e?"Request update description":"Request description",overlayClassName:"ant-popover-request-description",trigger:"hover",zIndex:9999},u.createElement(p.ZP,{alt:"request-description",icon:p.PJ.REQUEST,width:"16px"}))):null},K=function(e){var t=e.descriptionThread;return(0,s.isUndefined)(t)?u.createElement(u.Fragment,null,(null==Z?void 0:Z.trim())&&L?u.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none link-text focus:tw-outline-none","data-testid":"start-description-thread",onClick:function(){return null==L?void 0:L((0,h.ec)(I,O,d.Sn.DESCRIPTION))}},u.createElement(p.ZP,{alt:"comments",icon:p.PJ.COMMENT_PLUS,width:"16px"})):null):u.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none link-text focus:tw-outline-none","data-testid":"description-thread",onClick:function(){return null==L?void 0:L(t.entityLink)}},u.createElement("span",{className:"tw-flex"},u.createElement(p.ZP,{alt:"comments",icon:p.PJ.COMMENT,width:"16px"})," ",u.createElement("span",{className:"tw-ml-1","data-testid":"description-thread-count"}," ",t.count)))};return u.createElement("div",{className:"schema-description tw-relative "+t},u.createElement("div",{className:"tw-flex description-inner-main-container tw-items-end"},u.createElement("div",{className:"tw-relative"},u.createElement("div",{className:"description tw-h-full tw-overflow-y-scroll tw-relative ","data-testid":"description",id:"center"},(null==Z?void 0:Z.trim())?u.createElement(b.Z,{enableSeeMoreVariant:!S,markdown:Z}):u.createElement("span",{className:"tw-no-description p-y-xs"},(0,c.t)("label.no-description"))),u.createElement(E.p,{header:(0,c.t)("label.edit-description-for",{entityName:G}),placeholder:(0,c.t)("label.enter-description"),value:Z,visible:Boolean(N),onCancel:g,onSave:function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:if(!x||!(0,s.isFunction)(x))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,x(e)];case 2:return n.sent(),g&&g(),[3,4];case 3:return t=n.sent(),(0,w.Eo)(t),[3,4];case 4:return[2]}}))}))}})),u.createElement((function(){return k?null:u.createElement("div",{className:o()("tw-w-5 tw-min-w-max tw-flex")},n&&u.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none focus:tw-outline-none","data-testid":"edit-description",onClick:U},u.createElement(p.ZP,{alt:"edit",icon:"icon-edit",title:"Edit",width:"16px"})),(0,f.nq)(I)?u.createElement(u.Fragment,null," ",u.createElement(j,null),(0,s.isUndefined)(A)?null:u.createElement("button",{className:"tw-w-7 tw-h-7 tw-mr-2 tw-flex-none link-text focus:tw-outline-none","data-testid":"description-task",onClick:function(){return null==L?void 0:L(A.entityLink,m.Th.Task)}},u.createElement("span",{className:"tw-flex"},u.createElement(p.ZP,{alt:"tasks",icon:p.PJ.TASK_ICON,width:"16px"})," ",u.createElement("span",{className:"tw-ml-1","data-testid":"description-tasks-count"}," ",A.count)))):null,u.createElement(K,{descriptionThread:F}))}),null)))}},87119:function(e,t,n){n.d(t,{Z:function(){return I}});var i=n(70655),r=n(67814),a=n(50146),o=n(71230),c=n(15746),s=n(4107),u=n(94184),l=n.n(u),d=n(67294),m=n(63153),f=n(80131),h=n(53867),p=n(64632),v=n(48132),w=n(50168),E=n(93379),b=n.n(E),y=n(7795),Z=n.n(y),N=n(90569),g=n.n(N),x=n(3565),C=n.n(x),k=n(19216),J=n.n(k),S=n(44589),G=n.n(S),T=n(63565),L={};L.styleTagTransform=G(),L.setAttributes=C(),L.insert=g().bind(null,"head"),L.domAPI=Z(),L.insertStyleElement=J(),b()(T.Z,L),T.Z&&T.Z.locals&&T.Z.locals;var I=function(e){var t=e.isOpen,n=e.onSave,u=e.onCancel,E=e.title,b=e.type,y=e.selectedKeys,Z=e.isModalLoading,N=(0,i.CR)((0,d.useState)([]),2),g=N[0],x=N[1],C=(0,i.CR)((0,d.useState)([]),2),k=C[0],J=C[1],S=(0,i.CR)((0,d.useState)(!1),2),G=S[0],T=S[1],L=(0,i.CR)((0,d.useState)(y),2),I=L[0],O=L[1];return(0,d.useEffect)((function(){(0,i.mG)(void 0,void 0,void 0,(function(){var e,t,n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:T(!0),i.label=1;case 1:switch(i.trys.push([1,8,9,10]),e={data:[]},b){case p.py.POLICY:return[3,2];case p.py.ROLE:return[3,4]}return[3,6];case 2:return[4,(0,m.Ko)("",void 0,void 0,100)];case 3:return e=i.sent(),[3,7];case 4:return[4,(0,m.F3)("",void 0,void 0,!1,100)];case 5:return e=i.sent(),[3,7];case 6:return[3,7];case 7:return t=(e.data||[]).map((function(e){return{id:e.id,name:e.name,displayName:e.displayName,type:b,description:e.description}})),x(t),J(t),[3,10];case 8:return n=i.sent(),(0,w.Eo)(n),[3,10];case 9:return T(!1),[7];case 10:return[2]}}))}))}),[]),d.createElement(a.Z,{centered:!0,className:"ant-attribute-modal",closable:!1,confirmLoading:Z,"data-testid":"modal-container",okText:"Submit",title:d.createElement("span",{"data-testid":"modal-title"},E," ",d.createElement("span",{className:"tw-text-grey-muted tw-text-sm"},"(",I.length,"/",g.length," selected)")),visible:t,width:750,onCancel:u,onOk:function(){return n(I)}},G?d.createElement(h.Z,null):d.createElement(d.Fragment,null,d.createElement(o.Z,{className:"ant-search-box-row"},d.createElement(c.Z,{span:24},d.createElement(s.Z,{"data-testid":"search-input",placeholder:"Search "+b,prefix:d.createElement(r.G,{icon:"search",style:{color:"#37352F4D"}}),onChange:function(e){return t=e.target.value,void J(t?g.filter((function(e){var n,i,r;return(null===(n=e.name)||void 0===n?void 0:n.includes(t))||(null===(i=e.displayName)||void 0===i?void 0:i.includes(t))||(null===(r=e.description)||void 0===r?void 0:r.includes(t))})):g);var t}}))),k.map((function(e){return d.createElement(o.Z,{className:l()({selected:I.includes(e.id)}),"data-testid":"policy-row",gutter:[16,16],key:e.id,onClick:function(){return t=e.id,n=I.includes(t),void O(n?function(e){return e.filter((function(e){return e!==t}))}:function(e){return(0,i.ev)((0,i.ev)([],(0,i.CR)(e)),[t])});var t,n}},d.createElement(c.Z,{span:6},(0,v.C_)(e)),d.createElement(c.Z,{span:16},d.createElement(f.Z,{markdown:e.description||""})),d.createElement(c.Z,{span:2},I.includes(e.id)&&d.createElement(r.G,{className:"tw-text-primary",icon:"check"})))}))))}}}]);