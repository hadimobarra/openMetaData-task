"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[7988],{93573:function(e,l,n){var i=n(94184),t=n.n(i),a=n(45697),d=n.n(a),o=n(67294),u=n(59293),r=n(85087),s=function(e){var l=e.children,n=e.leftPanelContent,i=e.className,a=(0,u.TH)(),d=(0,r.a)(a.pathname).isAuthenticatedRoute;return o.createElement("div",{className:t()("page-container",i||"",d?null:"full-page"),"data-testid":"container"},o.createElement("div",{className:"page-layout centered-layout"},n&&o.createElement("div",{className:"side-panel"},n),l))};s.propTypes={children:d().oneOfType([d().node,d().arrayOf(d().node)]).isRequired,leftPanelContent:d().oneOfType([d().node,d().arrayOf(d().node)]),className:d().string},l.Z=s},49857:function(e,l,n){var i=n(8081),t=n.n(i),a=n(23645),d=n.n(a)()(t());d.push([e.id,'/*\n *  Copyright 2022 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.description-markdown-editor .ant-modal-header,\n.description-markdown-editor .ant-modal-body,\n.description-markdown-editor .ant-modal-footer {\n  padding: 20px 24px;\n}\n',""]),l.Z=d},47368:function(e,l,n){n.d(l,{p:function(){return k}});var i=n(70655),t=n(50146),a=n(71577),d=n(56256),o=n(67294),u=n(437),r=n(50168),s=n(97809),v=n(53867),c=n(93379),m=n.n(c),p=n(7795),f=n.n(p),w=n(90569),h=n.n(w),E=n(3565),N=n.n(E),g=n(19216),y=n.n(g),S=n(44589),V=n.n(S),b=n(49857),x={};x.styleTagTransform=V(),x.setAttributes=N(),x.insert=h().bind(null,"head"),x.domAPI=f(),x.insertStyleElement=y(),m()(b.Z,x),b.Z&&b.Z.locals&&b.Z.locals;var k=function(e){var l=e.header,n=e.placeholder,c=e.value,m=e.onSave,p=e.onCancel,f=e.visible,w=(0,u.$)().t,h=(0,i.CR)((0,o.useState)(!1),2),E=h[0],N=h[1],g=(0,o.useRef)();return o.createElement(t.Z,{centered:!0,destroyOnClose:!0,className:"description-markdown-editor",closable:!1,"data-testid":"markdown-editor",footer:[o.createElement(a.Z,{"data-testid":"cancel",disabled:E,key:"cancelButton",type:"link",onClick:p},w("label.cancel")),o.createElement(a.Z,{"data-testid":"save",key:"saveButton",type:"primary",onClick:function(){return(0,i.mG)(void 0,void 0,void 0,(function(){var e,l,n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:if(!g.current)return[3,5];N(!0),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,null==m?void 0:m(null!==(n=null===(l=g.current)||void 0===l?void 0:l.getEditorContent().trim())&&void 0!==n?n:"")];case 2:return i.sent(),[3,5];case 3:return e=i.sent(),(0,r.Eo)(e),[3,5];case 4:return N(!1),[7];case 5:return[2]}}))}))}},E?o.createElement(v.Z,{size:"small",type:"white"}):w("label.save"))],open:f,title:o.createElement(d.Z.Text,{"data-testid":"header"},l),width:"90%",onCancel:p},o.createElement(s.Z,{initialValue:c,placeHolder:n,ref:g}))}},8851:function(e,l,n){var i=n(94184),t=n.n(i),a=n(96486),d=n(67294),o=n(48132);l.Z=function(e){var l=e.activeTab,n=e.setActiveTab,i=e.tabs,u=e.className,r=void 0===u?"":u,s=e.rightPosButton,v=function(e,l){return"tw-gh-tabs tw-px-0 tw-pt-2 tw-mr-8"+(l===e?" active":"")};return d.createElement("div",{className:t()("tw-bg-transparent",r)},d.createElement("nav",{className:"tw-flex tw-items-center tw-justify-between tw-gh-tabs-container","data-testid":"tabs",id:"tabs"},d.createElement("div",{className:"tw-flex tw-flex-grow"},i.map((function(e){return e.isHidden?null:d.createElement("button",{className:v(e.position,l),"data-testid":e.name,id:(0,a.camelCase)(e.name),key:e.position,onClick:function(){return null==n?void 0:n(e.position)}},e.name,(0,a.isNil)(e.count)?null:(0,o.yh)(e.count,"",e.position===l))}))),s))}},9632:function(e,l,n){var i=n(70655),t=n(55241),a=n(94184),d=n.n(a),o=n(67800),u=n(96486),r=n(67294),s=n(59293),v=n(58369),c=n(31615),m=n(48132),p=n(22215),f=n(38464),w=n(44355),h=n(50168),E=n(47368),N=n(80131);l.Z=function(e){var l=e.className,n=e.hasEditAccess,a=e.onDescriptionEdit,g=e.description,y=void 0===g?"":g,S=e.isEdit,V=e.onCancel,b=e.onDescriptionUpdate,x=e.isReadOnly,k=void 0!==x&&x,T=e.removeBlur,C=void 0!==T&&T,R=e.entityName,F=e.entityFieldThreads,D=e.onThreadLinkSelect,O=e.entityType,L=e.entityFqn,I=e.entityFieldTasks,Q=(0,s.k6)(),Z=null==F?void 0:F[0],U=null==I?void 0:I[0],P=function(){Q.push((0,w.Ie)(O,L))},A=function(){Q.push((0,w.Q3)(O,L))},J=function(){a&&a()},H=function(){var e=Boolean(y.trim());return w.GZ.includes(O)?r.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none link-text focus:tw-outline-none","data-testid":"request-entity-description",onClick:e?A:P},r.createElement(t.Z,{destroyTooltipOnHide:!0,content:e?"Request update description":"Request description",overlayClassName:"ant-popover-request-description",trigger:"hover",zIndex:9999},r.createElement(f.ZP,{alt:"request-description",icon:f.PJ.REQUEST,width:"16px"}))):null},B=function(e){var l=e.descriptionThread;return(0,u.isUndefined)(l)?r.createElement(r.Fragment,null,(null==y?void 0:y.trim())&&D?r.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none link-text focus:tw-outline-none","data-testid":"start-description-thread",onClick:function(){return null==D?void 0:D((0,p.ec)(O,L,v.Sn.DESCRIPTION))}},r.createElement(f.ZP,{alt:"comments",icon:f.PJ.COMMENT_PLUS,width:"16px"})):null):r.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none link-text focus:tw-outline-none","data-testid":"description-thread",onClick:function(){return null==D?void 0:D(l.entityLink)}},r.createElement("span",{className:"tw-flex"},r.createElement(f.ZP,{alt:"comments",icon:f.PJ.COMMENT,width:"16px"})," ",r.createElement("span",{className:"tw-ml-1","data-testid":"description-thread-count"}," ",l.count)))};return r.createElement("div",{className:"schema-description tw-relative "+l},r.createElement("div",{className:"tw-flex description-inner-main-container tw-items-end"},r.createElement("div",{className:"tw-relative"},r.createElement("div",{className:"description tw-h-full tw-overflow-y-scroll tw-relative ","data-testid":"description",id:"center"},(null==y?void 0:y.trim())?r.createElement(N.Z,{enableSeeMoreVariant:!C,markdown:y}):r.createElement("span",{className:"tw-no-description p-y-xs"},(0,o.t)("label.no-description"))),r.createElement(E.p,{header:(0,o.t)("label.edit-description-for",{entityName:R}),placeholder:(0,o.t)("label.enter-description"),value:y,visible:Boolean(S),onCancel:V,onSave:function(e){return(0,i.mG)(void 0,void 0,void 0,(function(){var l;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:if(!b||!(0,u.isFunction)(b))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,b(e)];case 2:return n.sent(),V&&V(),[3,4];case 3:return l=n.sent(),(0,h.Eo)(l),[3,4];case 4:return[2]}}))}))}})),r.createElement((function(){return k?null:r.createElement("div",{className:d()("tw-w-5 tw-min-w-max tw-flex")},n&&r.createElement("button",{className:"tw-w-7 tw-h-7 tw-flex-none focus:tw-outline-none","data-testid":"edit-description",onClick:J},r.createElement(f.ZP,{alt:"edit",icon:"icon-edit",title:"Edit",width:"16px"})),(0,m.nq)(O)?r.createElement(r.Fragment,null," ",r.createElement(H,null),(0,u.isUndefined)(U)?null:r.createElement("button",{className:"tw-w-7 tw-h-7 tw-mr-2 tw-flex-none link-text focus:tw-outline-none","data-testid":"description-task",onClick:function(){return null==D?void 0:D(U.entityLink,c.Th.Task)}},r.createElement("span",{className:"tw-flex"},r.createElement(f.ZP,{alt:"tasks",icon:f.PJ.TASK_ICON,width:"16px"})," ",r.createElement("span",{className:"tw-ml-1","data-testid":"description-tasks-count"}," ",U.count)))):null,r.createElement(B,{descriptionThread:Z}))}),null)))}},48217:function(e,l,n){var i;n.d(l,{C:function(){return i}}),function(e){e.BusinessUnit="BusinessUnit",e.Department="Department",e.Division="Division",e.Group="Group",e.Organization="Organization"}(i||(i={}))},10104:function(e,l,n){n.r(l),n.d(l,{default:function(){return ie}});var i=n(70655),t=n(67294),a=n(59293),d=n(71560),o=n(14480),u=n(57794),r=n(41989),s=n(19650),v=n(25213),c=n(94184),m=n.n(c),p=n(96486),f=n(97882),w=n(73213),h=n(58369),E=n(55546),N=n(59295),g=n(67800),y=n(97762),S=n.n(y),V=n(81274),b=function(e,l,n){var i=(null==l?void 0:l.fieldsAdded)||[],t=(null==l?void 0:l.fieldsDeleted)||[],a=(null==l?void 0:l.fieldsUpdated)||[];return n?{added:i.find((function(l){return l.name===e})),deleted:t.find((function(l){return l.name===e})),updated:a.find((function(l){return l.name===e}))}:{added:i.find((function(l){var n;return null===(n=l.name)||void 0===n?void 0:n.startsWith(e)})),deleted:t.find((function(l){var n;return null===(n=l.name)||void 0===n?void 0:n.startsWith(e)})),updated:a.find((function(l){var n;return null===(n=l.name)||void 0===n?void 0:n.startsWith(e)}))}},x=function(e,l){return(0,N.hp)(e,l).map((function(e,l){return t.createElement("span",{className:m()({"diff-added":e.added},{"diff-removed":e.removed}),key:l},e.value)}))},k=function(e,l,n){return(0,p.isUndefined)(l)&&(0,p.isUndefined)(e)?n||"":(0,N.NV)(null!=e?e:"",null!=l?l:"").map((function(e){return e.added?S().renderToString(t.createElement("ins",{className:"diff-added","data-testid":"diff-added",key:(0,p.uniqueId)()},e.value)):e.removed?S().renderToString(t.createElement("del",{"data-testid":"diff-removed",key:(0,p.uniqueId)(),style:{color:"grey",textDecoration:"line-through"}},e.value)):S().renderToString(t.createElement("span",{"data-testid":"diff-normal",key:(0,p.uniqueId)()},e.value))})).join("")},T=function(e,l){var n;return null===(n=(0,N.Bm)(e,l).map((function(e){return e.value.map((function(l){return(0,i.pi)((0,i.pi)({},l),{added:e.added,removed:e.removed})}))})))||void 0===n?void 0:n.flat(1/0)},C=function(e){var l,n,i=JSON.parse((0,V.YO)(null==e?void 0:e.newValue)?null==e?void 0:e.newValue:(0,V.YO)(null==e?void 0:e.oldValue)?null==e?void 0:e.oldValue:"{}");return e.name===h.Sn.COLUMNS?"columns "+(null==i?void 0:i.map((function(e){return null==e?void 0:e.name})).join(", ")):"tags"===e.name||(null===(l=e.name)||void 0===l?void 0:l.endsWith("tags"))?"tags "+(null===(n=null==i?void 0:i.map((function(e){return null==e?void 0:e.tagFQN})))||void 0===n?void 0:n.join(", ")):"owner"===e.name?e.name+" "+i.name:e.name},R=function(e,l){var n=parseFloat(e),i=parseFloat(l),t=!isNaN(n)&&!isNaN(i);return t?n+1===i:t},F=n(38464),D=n(9632),O=n(71008),L=n(80131),I=n(8851),Q=n(93573),Z=function(e){var l=e.versionList,n=void 0===l?{}:l,a=e.currentVersion,d=e.show,o=void 0!==d&&d,u=e.versionHandler,r=e.onBack,s=(0,i.CR)((0,t.useState)("all"),1)[0];return t.createElement("div",{className:m()("timeline-drawer",{open:o})},t.createElement("header",{className:"tw-flex tw-justify-between"},t.createElement("p",{className:"tw-font-medium tw-mr-2"},"Versions History"),t.createElement("div",{className:"tw-flex",onClick:r},t.createElement("svg",{className:"tw-w-5 tw-h-5 tw-ml-1 tw-cursor-pointer","data-testid":"closeDrawer",fill:"none",stroke:"#6B7280",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M6 18L18 6M6 6l12 12",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"})))),t.createElement("hr",{className:"tw-mt-3 tw-border-primary-hover-lite"}),t.createElement("div",{className:"tw-my-2 tw-pb-9"},function(){var e,l=[],d=null!==(e=n.versions)&&void 0!==e?e:[];switch(s){case"major":l=d.filter((function(e){var l,n=JSON.parse(e);return R(parseFloat(null===(l=null==n?void 0:n.changeDescription)||void 0===l?void 0:l.previousVersion).toFixed(1).toString(),parseFloat(null==n?void 0:n.version).toFixed(1).toString())}));break;case"minor":l=d.filter((function(e){var l,n=JSON.parse(e);return!R(parseFloat(null===(l=null==n?void 0:n.changeDescription)||void 0===l?void 0:l.previousVersion).toFixed(1).toString(),parseFloat(null==n?void 0:n.version).toFixed(1).toString())}));break;default:l=d}return l.length?l.map((function(e,l){var n=JSON.parse(e),d=function(){var e;return R(parseFloat(null===(e=null==n?void 0:n.changeDescription)||void 0===e?void 0:e.previousVersion).toFixed(1).toString(),parseFloat(null==n?void 0:n.version).toFixed(1).toString())&&"all"===s};return t.createElement(t.Fragment,{key:l},0===l?t.createElement("div",{className:"timeline-content tw-cursor-pointer tw--mb-2.5"},t.createElement("div",{className:"timeline-wrapper"},t.createElement("span",{className:"timeline-line-se"}))):null,t.createElement("div",{className:"timeline-content tw-py-2 tw-cursor-pointer",onClick:function(){return u((0,p.toString)(null==n?void 0:n.version))}},t.createElement("div",{className:"timeline-wrapper"},t.createElement("span",{className:m()("timeline-rounder",{selected:(0,p.toString)(null==n?void 0:n.version)===a},{major:d()}),"data-testid":"select-version"}),t.createElement("span",{className:m()("timeline-line")})),t.createElement("div",{className:"tw-grid tw-gap-0.5"},t.createElement("p",{className:m()("tw-text-grey-body tw-font-medium",{"tw-text-primary-active":(0,p.toString)(null==n?void 0:n.version)===a})},t.createElement("span",null,"v",parseFloat(null==n?void 0:n.version).toFixed(1)),d()?t.createElement("span",{className:"tw-ml-2 tw-text-xs tw-font-medium tw-text-grey-body tw-bg-tag tw-px-2 tw-py-0.5 tw-rounded"},"Major"):null),t.createElement("div",{className:m()("tw-text-xs tw-font-normal tw-break-all",{"diff-description":(0,p.toString)(null==n?void 0:n.version)===a})},function(e,l){var n,a;void 0===l&&(l=!1);var d=(0,i.ev)([],(0,i.CR)((null==e?void 0:e.fieldsAdded)||[])),o=(0,i.ev)([],(0,i.CR)((null==e?void 0:e.fieldsDeleted)||[])),u=(0,i.ev)([],(0,i.CR)((null===(n=null==e?void 0:e.fieldsUpdated)||void 0===n?void 0:n.filter((function(e){return"deleted"!==e.name})))||[])),r=(0,i.ev)([],(0,i.CR)((null===(a=null==e?void 0:e.fieldsUpdated)||void 0===a?void 0:a.filter((function(e){return"deleted"===e.name})))||[]));return t.createElement(t.Fragment,null,(null==r?void 0:r.length)>0?t.createElement("p",{className:"tw-mb-2"},r.map((function(e){return e.newValue?(0,g.t)("label.data-asset-has-been-action-type",{actionType:(0,g.t)("label.deleted-lowercase")}):(0,g.t)("label.data-asset-has-been-action-type",{actionType:(0,g.t)("label.restored-lowercase")})})).join(", ")):null,(null==d?void 0:d.length)>0?t.createElement("p",{className:"tw-mb-2"},(l?"+ "+(0,g.t)("label.added"):"")+" "+d.map(C).join(", ")+" "+(l?"":(0,g.t)("label.has-been-action-type-lowercase",{actionType:(0,g.t)("label.added-lowercase")}))," "):null,(null==u?void 0:u.length)?t.createElement("p",{className:"tw-mb-2"},(l?(0,g.t)("label.edited"):"")+" "+u.map(C).join(", ")+" "+(l?"":(0,g.t)("label.has-been-action-type-lowercase",{actionType:(0,g.t)("label.updated-lowercase")}))," "):null,(null==o?void 0:o.length)?t.createElement("p",{className:"tw-mb-2"},(l?"- Removed":"")+" "+o.map(C).join(", ")+" "+(l?"":(0,g.t)("label.has-been-action-type-lowercase",{actionType:(0,g.t)("label.deleted-lowercase")}))," "):null)}(null==n?void 0:n.changeDescription)),t.createElement("p",{className:"tw-text-xs tw-italic"},t.createElement("span",{className:"tw-font-medium"},null==n?void 0:n.updatedBy),t.createElement("span",{className:"tw-text-grey-muted"}," updated on "),t.createElement("span",{className:"tw-font-medium"},new Date(null==n?void 0:n.updatedAt).toLocaleDateString("en-CA",{hour:"numeric",minute:"numeric"}))))))})):t.createElement("p",{className:"tw-text-grey-muted tw-flex tw-justify-center tw-items-center tw-mt-10"},"No "+(0,p.capitalize)(s)+" versions available")}()))},U=n(53867),P=function(e){var l,n,a,d=e.version,o=e.currentVersionData,u=e.isVersionLoading,r=e.owner,c=e.tier,N=e.slashedDashboardName,g=e.versionList,y=e.deleted,S=void 0!==y&&y,V=e.backHandler,C=e.versionHandler,R=(0,i.CR)((0,t.useState)(o.changeDescription),2),P=R[0],A=R[1];(0,t.useEffect)((function(){A(o.changeDescription)}),[o]);var J=(0,t.useMemo)((function(){return[{title:"Chart Name",dataIndex:"name",key:"name",render:function(e,l){return t.createElement(f.Link,{target:"_blank",to:{pathname:e}},t.createElement(s.Z,null,t.createElement("span",null,l.displayName),t.createElement(F.ZP,{alt:"external-link",className:"tw-align-middle",icon:"external-link",width:"16px"})))}},{title:"Chart Type",dataIndex:"type",key:"type"},{title:"Description",dataIndex:"description",key:"description",render:function(e){return e?t.createElement(L.Z,{markdown:e}):t.createElement("span",{className:"tw-no-description"},"No description")}},{title:"Tags",dataIndex:"tags",key:"tags"}]}),[]);return t.createElement(Q.Z,null,t.createElement("div",{className:m()("tw-px-6 tw-w-full tw-h-full tw-flex tw-flex-col tw-relative"),"data-testid":"dashboard-version-container"},u?t.createElement(U.Z,null):t.createElement("div",{className:m()("version-data"),"data-testid":"version-data"},t.createElement(O.Z,{isVersionSelected:!0,deleted:S,entityName:null!==(n=null!==(l=o.displayName)&&void 0!==l?l:o.name)&&void 0!==n?n:"",extraInfo:function(){var e,l,n,t,a,d,u,s,v,m,f,h,N,g,y,S,V,k,T,C,R,F,D,O,L,I,Q,Z,U,A=b("owner",P),J=JSON.parse(null!==(d=null!==(t=null!==(l=null===(e=null==A?void 0:A.added)||void 0===e?void 0:e.oldValue)&&void 0!==l?l:null===(n=null==A?void 0:A.deleted)||void 0===n?void 0:n.oldValue)&&void 0!==t?t:null===(a=null==A?void 0:A.updated)||void 0===a?void 0:a.oldValue)&&void 0!==d?d:"{}"),H=JSON.parse(null!==(h=null!==(m=null!==(s=null===(u=null==A?void 0:A.added)||void 0===u?void 0:u.newValue)&&void 0!==s?s:null===(v=null==A?void 0:A.deleted)||void 0===v?void 0:v.newValue)&&void 0!==m?m:null===(f=null==A?void 0:A.updated)||void 0===f?void 0:f.newValue)&&void 0!==h?h:"{}"),B=null!==(g=null!==(N=null==r?void 0:r.name)&&void 0!==N?N:null==r?void 0:r.displayName)&&void 0!==g?g:"",j=b("tags",P,!0),z=(0,i.ev)([],(0,i.CR)(JSON.parse(null!==(C=null!==(k=null!==(S=null===(y=null==j?void 0:j.added)||void 0===y?void 0:y.newValue)&&void 0!==S?S:null===(V=null==j?void 0:j.deleted)||void 0===V?void 0:V.newValue)&&void 0!==k?k:null===(T=null==j?void 0:j.updated)||void 0===T?void 0:T.newValue)&&void 0!==C?C:"[]"))).find((function(e){return(null==e?void 0:e.tagFQN).startsWith("Tier")})),_=(0,i.ev)([],(0,i.CR)(JSON.parse(null!==(I=null!==(O=null!==(F=null===(R=null==j?void 0:j.added)||void 0===R?void 0:R.oldValue)&&void 0!==F?F:null===(D=null==j?void 0:j.deleted)||void 0===D?void 0:D.oldValue)&&void 0!==O?O:null===(L=null==j?void 0:j.updated)||void 0===L?void 0:L.oldValue)&&void 0!==I?I:"[]"))).find((function(e){return(null==e?void 0:e.tagFQN).startsWith("Tier")}));return[{key:"Owner",value:(0,p.isUndefined)(null==A?void 0:A.added)&&(0,p.isUndefined)(null==A?void 0:A.deleted)&&(0,p.isUndefined)(null==A?void 0:A.updated)?B?x(B,B):"":x((null==J?void 0:J.displayName)||(null==J?void 0:J.name)||"",(null==H?void 0:H.displayName)||(null==H?void 0:H.name)||""),profileName:(null==H?void 0:H.type)===E.jc.USER?null==H?void 0:H.name:void 0},{key:"Tier",value:(0,p.isUndefined)(z)&&(0,p.isUndefined)(_)?(null==c?void 0:c.tagFQN)?null==c?void 0:c.tagFQN.split(w.o)[1]:"":x((null===(Q=null==_?void 0:_.tagFQN)||void 0===Q?void 0:Q.split(w.o)[1])||"",(null===(Z=null==z?void 0:z.tagFQN)||void 0===Z?void 0:Z.split(w.o)[1])||"")},{key:o.serviceType+" Url",value:o.dashboardUrl,placeholderText:null!==(U=o.displayName)&&void 0!==U?U:o.name,isLink:!0,openInNewTab:!0}]}(),followersList:[],tags:function(){var e,l,n,t,a,d,u,r,s,v,c,m,p,f,h=b("tags",P,!0),E=JSON.parse(null!==(d=null!==(t=null!==(l=null===(e=null==h?void 0:h.added)||void 0===e?void 0:e.oldValue)&&void 0!==l?l:null===(n=null==h?void 0:h.deleted)||void 0===n?void 0:n.oldValue)&&void 0!==t?t:null===(a=null==h?void 0:h.updated)||void 0===a?void 0:a.oldValue)&&void 0!==d?d:"[]"),N=JSON.parse(null!==(m=null!==(v=null!==(r=null===(u=null==h?void 0:h.added)||void 0===u?void 0:u.newValue)&&void 0!==r?r:null===(s=null==h?void 0:h.deleted)||void 0===s?void 0:s.newValue)&&void 0!==v?v:null===(c=null==h?void 0:h.updated)||void 0===c?void 0:c.newValue)&&void 0!==m?m:"[]"),g={},y=[];return(0,i.ev)((0,i.ev)([],(0,i.CR)(null!==(p=T(E,N))&&void 0!==p?p:[])),(0,i.CR)(null!==(f=o.tags)&&void 0!==f?f:[])).forEach((function(e){g[e.tagFQN]||(g[e.tagFQN]=!0,y.push(e))})),(0,i.ev)([],(0,i.CR)(y.map((function(e){return e.tagFQN.startsWith("Tier")?(0,i.pi)((0,i.pi)({},e),{tagFQN:e.tagFQN.split(w.o)[1]}):e}))))}(),tier:{},titleLinks:N,version:d,versionHandler:V}),t.createElement("div",{className:"tw-mt-1 tw-flex tw-flex-col tw-flex-grow "},t.createElement(I.Z,{activeTab:1,className:"tw-flex-initial",tabs:[{name:"Details",icon:{alt:"schema",name:"icon-schema",title:"Details",selectedName:"icon-schemacolor"},isProtected:!1,position:1}]}),t.createElement("div",{className:"tw-bg-white tw-flex-grow tw--mx-6 tw-px-7 tw-py-4"},t.createElement("div",{className:"tw-grid tw-grid-cols-4 tw-gap-4 tw-w-full"},t.createElement("div",{className:"tw-col-span-full"},t.createElement(D.Z,{isReadOnly:!0,description:function(){var e,l,n,i,t,a,d,u,r,s,v=b(h.Sn.DESCRIPTION,P),c=null!==(i=null!==(l=null===(e=null==v?void 0:v.added)||void 0===e?void 0:e.oldValue)&&void 0!==l?l:null===(n=null==v?void 0:v.deleted)||void 0===n?void 0:n.oldValue)&&void 0!==i?i:null===(t=null==v?void 0:v.updated)||void 0===t?void 0:t.oldValue,m=null!==(r=null!==(d=null===(a=null==v?void 0:v.added)||void 0===a?void 0:a.newValue)&&void 0!==d?d:null===(u=null==v?void 0:v.deleted)||void 0===u?void 0:u.newValue)&&void 0!==r?r:null===(s=null==v?void 0:v.updated)||void 0===s?void 0:s.newValue;return k(c,m,o.description)}()})),t.createElement("div",{className:"m-y-md tw-col-span-full"},t.createElement(v.Z,{bordered:!0,columns:J,"data-testid":"schema-table",dataSource:null===(a=o)||void 0===a?void 0:a.charts,pagination:!1,rowKey:"id",size:"small"})))))),t.createElement(Z,{show:!0,currentVersion:d,versionHandler:C,versionList:g,onBack:V})))},A=n(64632),J=n(48132),H=n(71230),B=n(15746),j=n(437),z=n(22215),_=n(19790),W=n(6603),M=n(57269),q=function(e){var l=e.columnName,n=e.columns,a=e.joins,d=(0,i.CR)((0,t.useState)([]),2),o=d[0],u=d[1],r=(0,j.$)().t,s=(0,i.CR)((0,t.useState)(""),2),c=s[0],m=s[1],p=(0,t.useMemo)((function(){return(0,_._l)(o)}),[o]),f=(0,t.useMemo)((function(){return[{title:r("label.name"),dataIndex:"name",key:"name",accessor:"name",ellipsis:!0,width:180,render:function(e){return t.createElement("div",{className:"d-inline-block"},t.createElement(L.Z,{markdown:e}))}},{title:r("label.type"),dataIndex:"dataTypeDisplay",key:"dataTypeDisplay",accessor:"dataTypeDisplay",ellipsis:!0,width:200,render:function(e){return e?t.createElement(L.Z,{markdown:e.toLowerCase()}):"--"}},{title:r("label.description"),dataIndex:"description",key:"description",accessor:"description",render:function(e){return e?t.createElement(t.Fragment,null,t.createElement(L.Z,{markdown:e}),(0,z.R1)(l,a,r("label.frequently-joined-columns"))):t.createElement("span",{className:"tw-no-description"},r("label.no-description"))}},{title:r("label.tag-plural"),dataIndex:"tags",key:"tags",accessor:"tags",width:272,render:function(e){return t.createElement("div",{className:"flex flex-wrap"},t.createElement(M.Z,{sizeCap:-1,tags:e||[]}))}}]}),[]);return(0,t.useEffect)((function(){if(c){var e=(0,z.Ut)(n,c);u(e)}else u(n)}),[c,n]),t.createElement(H.Z,null,t.createElement(B.Z,null,t.createElement(W.Z,{placeholder:r("label.find-in-table")+"...",searchValue:c,typingInterval:500,onSearch:function(e){m(e)}})),t.createElement(B.Z,null,t.createElement(v.Z,{columns:f,"data-testid":"entity-table",dataSource:p,expandable:(0,i.pi)((0,i.pi)({},(0,_.Bn)()),{defaultExpandedRowKeys:[]}),pagination:!1,size:"small"})))},G=function(e){var l,n=e.version,a=e.currentVersionData,d=e.isVersionLoading,o=e.owner,u=e.tier,r=e.slashedTableName,s=e.datasetFQN,v=e.versionList,c=e.deleted,f=void 0!==c&&c,N=e.backHandler,g=e.versionHandler,y=(0,i.CR)((0,t.useState)(a.changeDescription),2),S=y[0],V=y[1],C=function(e,l){return null==e?void 0:e.endsWith(l)};return(0,t.useEffect)((function(){V(a.changeDescription)}),[a]),t.createElement(Q.Z,null,t.createElement("div",{className:m()("tw-px-6 tw-w-full tw-h-full tw-flex tw-flex-col tw-relative")},d?t.createElement(U.Z,null):t.createElement("div",{className:m()("version-data")},t.createElement(O.Z,{isVersionSelected:!0,deleted:f,entityName:null!==(l=a.name)&&void 0!==l?l:"",extraInfo:function(){var e,l,n,t,a,d,r,s,v,c,m,f,h,N,g,y,V,k,T,C,R,F,D,O,L,I,Q,Z,U=b("owner",S),P=JSON.parse(null!==(d=null!==(t=null!==(l=null===(e=null==U?void 0:U.added)||void 0===e?void 0:e.oldValue)&&void 0!==l?l:null===(n=null==U?void 0:U.deleted)||void 0===n?void 0:n.oldValue)&&void 0!==t?t:null===(a=null==U?void 0:U.updated)||void 0===a?void 0:a.oldValue)&&void 0!==d?d:"{}"),A=JSON.parse(null!==(f=null!==(c=null!==(s=null===(r=null==U?void 0:U.added)||void 0===r?void 0:r.newValue)&&void 0!==s?s:null===(v=null==U?void 0:U.deleted)||void 0===v?void 0:v.newValue)&&void 0!==c?c:null===(m=null==U?void 0:U.updated)||void 0===m?void 0:m.newValue)&&void 0!==f?f:"{}"),J=null!==(N=null!==(h=null==o?void 0:o.name)&&void 0!==h?h:null==o?void 0:o.displayName)&&void 0!==N?N:"",H=b("tags",S,!0),B=(0,i.ev)([],(0,i.CR)(JSON.parse(null!==(C=null!==(k=null!==(y=null===(g=null==H?void 0:H.added)||void 0===g?void 0:g.newValue)&&void 0!==y?y:null===(V=null==H?void 0:H.deleted)||void 0===V?void 0:V.newValue)&&void 0!==k?k:null===(T=null==H?void 0:H.updated)||void 0===T?void 0:T.newValue)&&void 0!==C?C:"[]"))).find((function(e){return(null==e?void 0:e.tagFQN).startsWith("Tier")})),j=(0,i.ev)([],(0,i.CR)(JSON.parse(null!==(I=null!==(O=null!==(F=null===(R=null==H?void 0:H.added)||void 0===R?void 0:R.oldValue)&&void 0!==F?F:null===(D=null==H?void 0:H.deleted)||void 0===D?void 0:D.oldValue)&&void 0!==O?O:null===(L=null==H?void 0:H.updated)||void 0===L?void 0:L.oldValue)&&void 0!==I?I:"[]"))).find((function(e){return(null==e?void 0:e.tagFQN).startsWith("Tier")}));return[{key:"Owner",value:(0,p.isUndefined)(U.added)&&(0,p.isUndefined)(U.deleted)&&(0,p.isUndefined)(U.updated)?J?x(J,J):"":x((null==P?void 0:P.displayName)||(null==P?void 0:P.name)||"",(null==A?void 0:A.displayName)||(null==A?void 0:A.name)||""),profileName:(null==A?void 0:A.type)===E.jc.USER?null==A?void 0:A.name:void 0},{key:"Tier",value:(0,p.isUndefined)(B)&&(0,p.isUndefined)(j)?(null==u?void 0:u.tagFQN)?null==u?void 0:u.tagFQN.split(w.o)[1]:"":x((null===(Q=null==j?void 0:j.tagFQN)||void 0===Q?void 0:Q.split(w.o)[1])||"",(null===(Z=null==B?void 0:B.tagFQN)||void 0===Z?void 0:Z.split(w.o)[1])||"")}]}(),followersList:[],tags:function(){var e,l,n,t,d,o,u,r,s,v,c,m,p,f,h=b("tags",S,!0),E=JSON.parse(null!==(o=null!==(t=null!==(l=null===(e=null==h?void 0:h.added)||void 0===e?void 0:e.oldValue)&&void 0!==l?l:null===(n=null==h?void 0:h.deleted)||void 0===n?void 0:n.oldValue)&&void 0!==t?t:null===(d=null==h?void 0:h.updated)||void 0===d?void 0:d.oldValue)&&void 0!==o?o:"[]"),N=JSON.parse(null!==(m=null!==(v=null!==(r=null===(u=null==h?void 0:h.added)||void 0===u?void 0:u.newValue)&&void 0!==r?r:null===(s=null==h?void 0:h.deleted)||void 0===s?void 0:s.newValue)&&void 0!==v?v:null===(c=null==h?void 0:h.updated)||void 0===c?void 0:c.newValue)&&void 0!==m?m:"[]"),g={},y=[];return(0,i.ev)((0,i.ev)([],(0,i.CR)(null!==(p=T(E,N))&&void 0!==p?p:[])),(0,i.CR)(null!==(f=a.tags)&&void 0!==f?f:[])).forEach((function(e){g[e.tagFQN]||(g[e.tagFQN]=!0,y.push(e))})),(0,i.ev)([],(0,i.CR)(y.map((function(e){return e.tagFQN.startsWith("Tier")?(0,i.pi)((0,i.pi)({},e),{tagFQN:e.tagFQN.split(w.o)[1]}):e}))))}(),tier:u,titleLinks:r,version:n,versionHandler:N}),t.createElement("div",{className:"tw-mt-1 tw-flex tw-flex-col tw-flex-grow "},t.createElement(I.Z,{activeTab:1,className:"tw-flex-initial",tabs:[{name:"Schema",icon:{alt:"schema",name:"icon-schema",title:"Schema",selectedName:"icon-schemacolor"},isProtected:!1,position:1}]}),t.createElement("div",{className:"tw-bg-white tw-flex-grow tw--mx-6 tw-px-7 tw-py-4"},t.createElement("div",{className:"tw-grid tw-grid-cols-4 tw-gap-4 tw-w-full"},t.createElement("div",{className:"tw-col-span-full"},t.createElement(D.Z,{isReadOnly:!0,description:function(){var e,l,n,i,t,d,o,u,r,s,v=b(h.Sn.DESCRIPTION,S),c=null!==(i=null!==(l=null===(e=null==v?void 0:v.added)||void 0===e?void 0:e.oldValue)&&void 0!==l?l:null===(n=null==v?void 0:v.deleted)||void 0===n?void 0:n.oldValue)&&void 0!==i?i:null===(t=null==v?void 0:v.updated)||void 0===t?void 0:t.oldValue,m=null!==(r=null!==(o=null===(d=null==v?void 0:v.added)||void 0===d?void 0:d.newValue)&&void 0!==o?o:null===(u=null==v?void 0:v.deleted)||void 0===u?void 0:u.newValue)&&void 0!==r?r:null===(s=null==v?void 0:v.updated)||void 0===s?void 0:s.newValue;return k(c,m,a.description)}()})),t.createElement("div",{className:"tw-col-span-full"},t.createElement(q,{columnName:(0,J.Td)(s,[A.ih.Column],w.o),columns:function(){var e,l,n,t,d,o,u,r,s,v,c,m,f,E,N,g,y,V,x,R,F,D,O,L,I,Q,Z,U,P,A,J,H,B,j,z,_,W,M,q,G,K,Y=(0,p.cloneDeep)(a.columns),$=b(h.Sn.COLUMNS,S),X=function(e){var l;return null===(l=null==e?void 0:e.split(w.o))||void 0===l?void 0:l.slice(-2,-1)[0]}(null!==(t=null!==(l=null===(e=null==$?void 0:$.added)||void 0===e?void 0:e.name)&&void 0!==l?l:null===(n=null==$?void 0:$.deleted)||void 0===n?void 0:n.name)&&void 0!==t?t:null===(d=null==$?void 0:$.updated)||void 0===d?void 0:d.name);if(C(null!==(s=null!==(u=null===(o=null==$?void 0:$.added)||void 0===o?void 0:o.name)&&void 0!==u?u:null===(r=null==$?void 0:$.deleted)||void 0===r?void 0:r.name)&&void 0!==s?s:null===(v=null==$?void 0:$.updated)||void 0===v?void 0:v.name,h.Sn.DESCRIPTION)){var ee=null!==(E=null!==(m=null===(c=null==$?void 0:$.added)||void 0===c?void 0:c.oldValue)&&void 0!==m?m:null===(f=null==$?void 0:$.deleted)||void 0===f?void 0:f.oldValue)&&void 0!==E?E:null===(N=null==$?void 0:$.updated)||void 0===N?void 0:N.oldValue,le=null!==(x=null!==(y=null===(g=null==$?void 0:$.added)||void 0===g?void 0:g.newValue)&&void 0!==y?y:null===(V=null==$?void 0:$.deleted)||void 0===V?void 0:V.newValue)&&void 0!==x?x:null===(R=null==$?void 0:$.updated)||void 0===R?void 0:R.newValue,ne=function(e){null==e||e.forEach((function(e){(0,p.isEqual)(e.name,X)?e.description=k(ee,le,e.description):ne(null==e?void 0:e.children)}))};return ne(null!=Y?Y:[]),null!=Y?Y:[]}if(C(null!==(L=null!==(D=null===(F=null==$?void 0:$.added)||void 0===F?void 0:F.name)&&void 0!==D?D:null===(O=null==$?void 0:$.deleted)||void 0===O?void 0:O.name)&&void 0!==L?L:null===(I=null==$?void 0:$.updated)||void 0===I?void 0:I.name,"tags")){var ie=JSON.parse(null!==(J=null!==(P=null!==(Z=null===(Q=null==$?void 0:$.added)||void 0===Q?void 0:Q.oldValue)&&void 0!==Z?Z:null===(U=null==$?void 0:$.deleted)||void 0===U?void 0:U.oldValue)&&void 0!==P?P:null===(A=null==$?void 0:$.updated)||void 0===A?void 0:A.oldValue)&&void 0!==J?J:"[]"),te=JSON.parse(null!==(W=null!==(z=null!==(B=null===(H=null==$?void 0:$.added)||void 0===H?void 0:H.newValue)&&void 0!==B?B:null===(j=null==$?void 0:$.deleted)||void 0===j?void 0:j.newValue)&&void 0!==z?z:null===(_=null==$?void 0:$.updated)||void 0===_?void 0:_.newValue)&&void 0!==W?W:"[]"),ae=function(e){null==e||e.forEach((function(e){if((0,p.isEqual)(e.name,X)){var l={},n=[],t=T(ie,te);(0,i.ev)((0,i.ev)([],(0,i.CR)(t)),(0,i.CR)(e.tags)).forEach((function(e){l[e.tagFQN]||(l[e.tagFQN]=!0,n.push(e))})),e.tags=n}else ae(null==e?void 0:e.children)}))};return ae(null!=Y?Y:[]),null!=Y?Y:[]}var de=b(h.Sn.COLUMNS,S,!0),oe=[];return de.added&&JSON.parse(null!==(q=null===(M=de.added)||void 0===M?void 0:M.newValue)&&void 0!==q?q:"[]").forEach((function(e){var l=function(n){null==n||n.forEach((function(n){var t;(0,p.isEqual)(n.name,e.name)?(n.tags=null===(t=e.tags)||void 0===t?void 0:t.map((function(e){return(0,i.pi)((0,i.pi)({},e),{added:!0})})),n.description=k(void 0,e.description,e.description),n.dataTypeDisplay=k(void 0,e.dataTypeDisplay,e.dataTypeDisplay),n.name=k(void 0,e.name,e.name)):l(null==n?void 0:n.children)}))};l(null!=Y?Y:[])})),de.deleted?(oe=JSON.parse(null!==(K=null===(G=de.deleted)||void 0===G?void 0:G.oldValue)&&void 0!==K?K:"[]").map((function(e){var l;return(0,i.pi)((0,i.pi)({},e),{tags:null===(l=e.tags)||void 0===l?void 0:l.map((function(e){return(0,i.pi)((0,i.pi)({},e),{removed:!0})})),description:k(e.description,void 0,e.description),dataTypeDisplay:k(e.dataTypeDisplay,void 0,e.dataTypeDisplay),name:k(e.name,void 0,e.name)})})),(0,i.ev)((0,i.ev)([],(0,i.CR)(oe)),(0,i.CR)(null!=Y?Y:[]))):null!=Y?Y:[]}(),joins:a.joins})))))),t.createElement(Z,{show:!0,currentVersion:n,versionHandler:g,versionList:v,onBack:N})))},K=function(e){var l,n,a,d=e.version,o=e.currentVersionData,u=e.isVersionLoading,r=e.owner,c=e.tier,N=e.slashedPipelineName,g=e.versionList,y=e.deleted,S=void 0!==y&&y,V=e.backHandler,C=e.versionHandler,R=(0,i.CR)((0,t.useState)(o.changeDescription),2),P=R[0],A=R[1];(0,t.useEffect)((function(){A(o.changeDescription)}),[o]);var J=(0,t.useMemo)((function(){return[{title:"Task Name",dataIndex:"displayName",key:"displayName",render:function(e,l){return t.createElement(f.Link,{target:"_blank",to:{pathname:l.taskUrl}},t.createElement(s.Z,null,t.createElement("span",null,e),t.createElement(F.ZP,{alt:"external-link",className:"tw-align-middle",icon:"external-link",width:"16px"})))}},{title:"Description",dataIndex:"description",key:"description",render:function(e){return e?t.createElement(L.Z,{markdown:e}):t.createElement("span",{className:"tw-no-description"},"No description")}},{title:"Task Type",dataIndex:"taskType",key:"taskType"}]}),[]);return t.createElement(Q.Z,null,t.createElement("div",{className:m()("tw-px-6 tw-w-full tw-h-full tw-flex tw-flex-col tw-relative")},u?t.createElement(U.Z,null):t.createElement("div",{className:m()("version-data")},t.createElement(O.Z,{isVersionSelected:!0,deleted:S,entityName:null!==(n=null!==(l=o.displayName)&&void 0!==l?l:o.name)&&void 0!==n?n:"",extraInfo:function(){var e,l,n,t,a,d,u,s,v,m,f,h,N,g,y,S,V,k,T,C,R,F,D,O,L,I,Q,Z,U,A=b("owner",P),J=JSON.parse(null!==(d=null!==(t=null!==(l=null===(e=null==A?void 0:A.added)||void 0===e?void 0:e.oldValue)&&void 0!==l?l:null===(n=null==A?void 0:A.deleted)||void 0===n?void 0:n.oldValue)&&void 0!==t?t:null===(a=null==A?void 0:A.updated)||void 0===a?void 0:a.oldValue)&&void 0!==d?d:"{}"),H=JSON.parse(null!==(h=null!==(m=null!==(s=null===(u=null==A?void 0:A.added)||void 0===u?void 0:u.newValue)&&void 0!==s?s:null===(v=null==A?void 0:A.deleted)||void 0===v?void 0:v.newValue)&&void 0!==m?m:null===(f=null==A?void 0:A.updated)||void 0===f?void 0:f.newValue)&&void 0!==h?h:"{}"),B=null!==(g=null!==(N=null==r?void 0:r.name)&&void 0!==N?N:null==r?void 0:r.displayName)&&void 0!==g?g:"",j=b("tags",P,!0),z=(0,i.ev)([],(0,i.CR)(JSON.parse(null!==(C=null!==(k=null!==(S=null===(y=null==j?void 0:j.added)||void 0===y?void 0:y.newValue)&&void 0!==S?S:null===(V=null==j?void 0:j.deleted)||void 0===V?void 0:V.newValue)&&void 0!==k?k:null===(T=null==j?void 0:j.updated)||void 0===T?void 0:T.newValue)&&void 0!==C?C:"[]"))).find((function(e){return(null==e?void 0:e.tagFQN).startsWith("Tier")})),_=(0,i.ev)([],(0,i.CR)(JSON.parse(null!==(I=null!==(O=null!==(F=null===(R=null==j?void 0:j.added)||void 0===R?void 0:R.oldValue)&&void 0!==F?F:null===(D=null==j?void 0:j.deleted)||void 0===D?void 0:D.oldValue)&&void 0!==O?O:null===(L=null==j?void 0:j.updated)||void 0===L?void 0:L.oldValue)&&void 0!==I?I:"[]"))).find((function(e){return(null==e?void 0:e.tagFQN).startsWith("Tier")}));return[{key:"Owner",value:(0,p.isUndefined)(A.added)&&(0,p.isUndefined)(A.deleted)&&(0,p.isUndefined)(A.updated)?B?x(B,B):"":x((null==J?void 0:J.displayName)||(null==J?void 0:J.name)||"",(null==H?void 0:H.displayName)||(null==H?void 0:H.name)||""),profileName:(null==H?void 0:H.type)===E.jc.USER?null==H?void 0:H.name:void 0},{key:"Tier",value:(0,p.isUndefined)(z)&&(0,p.isUndefined)(_)?(null==c?void 0:c.tagFQN)?null==c?void 0:c.tagFQN.split(w.o)[1]:"":x((null===(Q=null==_?void 0:_.tagFQN)||void 0===Q?void 0:Q.split(w.o)[1])||"",(null===(Z=null==z?void 0:z.tagFQN)||void 0===Z?void 0:Z.split(w.o)[1])||"")},{key:o.serviceType+" Url",value:o.pipelineUrl,placeholderText:null!==(U=o.displayName)&&void 0!==U?U:o.name,isLink:!0,openInNewTab:!0}]}(),followersList:[],tags:function(){var e,l,n,t,a,d,u,r,s,v,c,m,p,f,h=b("tags",P,!0),E=JSON.parse(null!==(d=null!==(t=null!==(l=null===(e=null==h?void 0:h.added)||void 0===e?void 0:e.oldValue)&&void 0!==l?l:null===(n=null==h?void 0:h.deleted)||void 0===n?void 0:n.oldValue)&&void 0!==t?t:null===(a=null==h?void 0:h.updated)||void 0===a?void 0:a.oldValue)&&void 0!==d?d:"[]"),N=JSON.parse(null!==(m=null!==(v=null!==(r=null===(u=null==h?void 0:h.added)||void 0===u?void 0:u.newValue)&&void 0!==r?r:null===(s=null==h?void 0:h.deleted)||void 0===s?void 0:s.newValue)&&void 0!==v?v:null===(c=null==h?void 0:h.updated)||void 0===c?void 0:c.newValue)&&void 0!==m?m:"[]"),g={},y=[];return(0,i.ev)((0,i.ev)([],(0,i.CR)(null!==(p=T(E,N))&&void 0!==p?p:[])),(0,i.CR)(null!==(f=o.tags)&&void 0!==f?f:[])).forEach((function(e){g[e.tagFQN]||(g[e.tagFQN]=!0,y.push(e))})),(0,i.ev)([],(0,i.CR)(y.map((function(e){return e.tagFQN.startsWith("Tier")?(0,i.pi)((0,i.pi)({},e),{tagFQN:e.tagFQN.split(w.o)[1]}):e}))))}(),tier:{},titleLinks:N,version:d,versionHandler:V}),t.createElement("div",{className:"tw-mt-1 tw-flex tw-flex-col tw-flex-grow "},t.createElement(I.Z,{activeTab:1,className:"tw-flex-initial",tabs:[{name:"Details",icon:{alt:"schema",name:"icon-schema",title:"Details",selectedName:"icon-schemacolor"},isProtected:!1,position:1}]}),t.createElement("div",{className:"tw-bg-white tw-flex-grow tw--mx-6 tw-px-7 tw-py-4"},t.createElement("div",{className:"tw-grid tw-grid-cols-4 tw-gap-4 tw-w-full"},t.createElement("div",{className:"tw-col-span-full"},t.createElement(D.Z,{isReadOnly:!0,description:function(){var e,l,n,i,t,a,d,u,r,s,v=b(h.Sn.DESCRIPTION,P),c=null!==(i=null!==(l=null===(e=null==v?void 0:v.added)||void 0===e?void 0:e.oldValue)&&void 0!==l?l:null===(n=null==v?void 0:v.deleted)||void 0===n?void 0:n.oldValue)&&void 0!==i?i:null===(t=null==v?void 0:v.updated)||void 0===t?void 0:t.oldValue,m=null!==(r=null!==(d=null===(a=null==v?void 0:v.added)||void 0===a?void 0:a.newValue)&&void 0!==d?d:null===(u=null==v?void 0:v.deleted)||void 0===u?void 0:u.newValue)&&void 0!==r?r:null===(s=null==v?void 0:v.updated)||void 0===s?void 0:s.newValue;return k(c,m,o.description)}()})),t.createElement("div",{className:"m-y-md tw-col-span-full"},t.createElement(v.Z,{bordered:!0,columns:J,"data-testid":"schema-table",dataSource:null===(a=o)||void 0===a?void 0:a.tasks,pagination:!1,rowKey:"name",size:"small"})))))),t.createElement(Z,{show:!0,currentVersion:d,versionHandler:C,versionList:g,onBack:V})))},Y=n(89216),$=function(e){var l,n,a,d,o,u,r=e.version,s=e.currentVersionData,v=e.isVersionLoading,c=e.owner,f=e.tier,N=e.slashedTopicName,g=e.versionList,y=e.deleted,S=void 0!==y&&y,C=e.backHandler,R=e.versionHandler,F=(0,i.CR)((0,t.useState)(s.changeDescription),2),L=F[0],P=F[1];return(0,t.useEffect)((function(){P(s.changeDescription)}),[s]),t.createElement(Q.Z,null,t.createElement("div",{className:m()("tw-px-6 tw-w-full tw-h-full tw-flex tw-flex-col tw-relative")},v?t.createElement(U.Z,null):t.createElement("div",{className:m()("version-data")},t.createElement(O.Z,{isVersionSelected:!0,deleted:S,entityName:null!==(l=s.name)&&void 0!==l?l:"",extraInfo:function(){var e,l,n,t,a,d,o,u,r,v,m,h,N,g,y,S,k,T,C,R,F,D,O,I,Q,Z,U,P,A=b("owner",L),J=JSON.parse(null!==(d=null!==(t=null!==(l=null===(e=null==A?void 0:A.added)||void 0===e?void 0:e.oldValue)&&void 0!==l?l:null===(n=null==A?void 0:A.deleted)||void 0===n?void 0:n.oldValue)&&void 0!==t?t:null===(a=null==A?void 0:A.updated)||void 0===a?void 0:a.oldValue)&&void 0!==d?d:"{}"),H=JSON.parse(null!==(h=null!==(v=null!==(u=null===(o=null==A?void 0:A.added)||void 0===o?void 0:o.newValue)&&void 0!==u?u:null===(r=null==A?void 0:A.deleted)||void 0===r?void 0:r.newValue)&&void 0!==v?v:null===(m=null==A?void 0:A.updated)||void 0===m?void 0:m.newValue)&&void 0!==h?h:"{}"),B=null!==(g=null!==(N=null==c?void 0:c.name)&&void 0!==N?N:null==c?void 0:c.displayName)&&void 0!==g?g:"",j=b("tags",L,!0),z=(0,i.ev)([],(0,i.CR)(JSON.parse(null!==(R=null!==(T=null!==(S=null===(y=null==j?void 0:j.added)||void 0===y?void 0:y.newValue)&&void 0!==S?S:null===(k=null==j?void 0:j.deleted)||void 0===k?void 0:k.newValue)&&void 0!==T?T:null===(C=null==j?void 0:j.updated)||void 0===C?void 0:C.newValue)&&void 0!==R?R:"[]"))).find((function(e){return(null==e?void 0:e.tagFQN).startsWith("Tier")})),_=(0,i.ev)([],(0,i.CR)(JSON.parse(null!==(Z=null!==(I=null!==(D=null===(F=null==j?void 0:j.added)||void 0===F?void 0:F.oldValue)&&void 0!==D?D:null===(O=null==j?void 0:j.deleted)||void 0===O?void 0:O.oldValue)&&void 0!==I?I:null===(Q=null==j?void 0:j.updated)||void 0===Q?void 0:Q.oldValue)&&void 0!==Z?Z:"[]"))).find((function(e){return(null==e?void 0:e.tagFQN).startsWith("Tier")})),W=(0,i.ev)([{key:"Owner",value:(0,p.isUndefined)(A.added)&&(0,p.isUndefined)(A.deleted)&&(0,p.isUndefined)(A.updated)?B?x(B,B):"":x((null==J?void 0:J.displayName)||(null==J?void 0:J.name)||"",(null==H?void 0:H.displayName)||(null==H?void 0:H.name)||""),profileName:(null==H?void 0:H.type)===E.jc.USER?null==H?void 0:H.name:void 0},{key:"Tier",value:(0,p.isUndefined)(z)&&(0,p.isUndefined)(_)?(null==f?void 0:f.tagFQN)?null==f?void 0:f.tagFQN.split(w.o)[1]:"":x((null===(U=null==_?void 0:_.tagFQN)||void 0===U?void 0:U.split(w.o)[1])||"",(null===(P=null==z?void 0:z.tagFQN)||void 0===P?void 0:P.split(w.o)[1])||"")}],(0,i.CR)(function(){var e,l,n,i,t,a;return[{key:"Partitions",value:(null!==(e=s.partitions)&&void 0!==e?e:"--")+" partitions"},{key:"Replication Factor",value:(null!==(l=s.replicationFactor)&&void 0!==l?l:"--")+" replication factor"},{key:"Retention Size",value:(0,V.RD)(null!==(n=s.retentionSize)&&void 0!==n?n:0)+" retention size"},{key:"Clean-up Policies",value:(null===(t=null===(i=s)||void 0===i?void 0:i.cleanupPolicies)||void 0===t?void 0:t.join(", "))+" clean-up policies"},{key:"Max Message Size",value:(0,V.RD)(null!==(a=s.maximumMessageSize)&&void 0!==a?a:0)+" maximum size"}]}()));return W}(),followersList:[],tags:function(){var e,l,n,t,a,d,o,u,r,v,c,m,p,f,h=b("tags",L,!0),E=JSON.parse(null!==(d=null!==(t=null!==(l=null===(e=null==h?void 0:h.added)||void 0===e?void 0:e.oldValue)&&void 0!==l?l:null===(n=null==h?void 0:h.deleted)||void 0===n?void 0:n.oldValue)&&void 0!==t?t:null===(a=null==h?void 0:h.updated)||void 0===a?void 0:a.oldValue)&&void 0!==d?d:"[]"),N=JSON.parse(null!==(m=null!==(v=null!==(u=null===(o=null==h?void 0:h.added)||void 0===o?void 0:o.newValue)&&void 0!==u?u:null===(r=null==h?void 0:h.deleted)||void 0===r?void 0:r.newValue)&&void 0!==v?v:null===(c=null==h?void 0:h.updated)||void 0===c?void 0:c.newValue)&&void 0!==m?m:"[]"),g={},y=[];return(0,i.ev)((0,i.ev)([],(0,i.CR)(null!==(p=T(E,N))&&void 0!==p?p:[])),(0,i.CR)(null!==(f=s.tags)&&void 0!==f?f:[])).forEach((function(e){g[e.tagFQN]||(g[e.tagFQN]=!0,y.push(e))})),(0,i.ev)([],(0,i.CR)(y.map((function(e){return e.tagFQN.startsWith("Tier")?(0,i.pi)((0,i.pi)({},e),{tagFQN:e.tagFQN.split(w.o)[1]}):e}))))}(),tier:{},titleLinks:N,version:r,versionHandler:C}),t.createElement("div",{className:"tw-mt-1 tw-flex tw-flex-col tw-flex-grow "},t.createElement(I.Z,{activeTab:1,className:"tw-flex-initial",tabs:[{name:"Schema",icon:{alt:"schema",name:"icon-schema",title:"Schema",selectedName:"icon-schemacolor"},isProtected:!1,position:1}]}),t.createElement("div",{className:"tw-bg-white tw-flex-grow tw--mx-6 tw-px-7 tw-py-4"},t.createElement("div",{className:"tw-grid tw-grid-cols-4 tw-gap-4 tw-w-full"},t.createElement("div",{className:"tw-col-span-full"},t.createElement(D.Z,{isReadOnly:!0,description:function(){var e,l,n,i,t,a,d,o,u,r,v=b(h.Sn.DESCRIPTION,L),c=null!==(i=null!==(l=null===(e=null==v?void 0:v.added)||void 0===e?void 0:e.oldValue)&&void 0!==l?l:null===(n=null==v?void 0:v.deleted)||void 0===n?void 0:n.oldValue)&&void 0!==i?i:null===(t=null==v?void 0:v.updated)||void 0===t?void 0:t.oldValue,m=null!==(u=null!==(d=null===(a=null==v?void 0:v.added)||void 0===a?void 0:a.newValue)&&void 0!==d?d:null===(o=null==v?void 0:v.deleted)||void 0===o?void 0:o.newValue)&&void 0!==u?u:null===(r=null==v?void 0:v.updated)||void 0===r?void 0:r.newValue;return k(c,m,s.description)}()})),t.createElement("div",{className:"tw-col-span-full"},(u=[{key:"Schema",value:null!==(a=null===(n=s.messageSchema)||void 0===n?void 0:n.schemaType)&&void 0!==a?a:""}],t.createElement("div",{className:"tw-flex tw-justify-between"},t.createElement("div",{className:"tw-flex tw-gap-3"},u.map((function(e,l){return t.createElement("div",{className:"tw-mt-4",key:l},t.createElement("span",{className:"tw-py-1.5 tw-px-2 tw-rounded-l tw-bg-tag "},e.key),t.createElement("span",{className:"tw-py-1.5 tw-px-2 tw-bg-primary-lite tw-font-normal tw-rounded-r"},e.value))}))),t.createElement("div",null))),t.createElement("div",{className:"tw-my-4 tw-border tw-border-main tw-rounded-md tw-py-4"},t.createElement(Y.Z,{value:null!==(o=null===(d=s.messageSchema)||void 0===d?void 0:d.schemaText)&&void 0!==o?o:"{}"}))))))),t.createElement(Z,{show:!0,currentVersion:r,versionHandler:R,versionList:g,onBack:C})))},X=n(62761),ee=n(89204),le=n(35892),ne=n(50168),ie=function(){var e=(0,a.k6)(),l=(0,i.CR)((0,t.useState)(),2),n=l[0],s=l[1],v=(0,i.CR)((0,t.useState)(),2),c=v[0],m=v[1],p=(0,i.CR)((0,t.useState)({}),2),f=p[0],h=p[1],E=(0,a.UO)(),N=E.entityType,g=E.version,y=E.entityFQN,S=(0,i.CR)((0,t.useState)(!1),2),V=S[0],b=S[1],x=(0,i.CR)((0,t.useState)({}),2),k=x[0],T=x[1],C=(0,i.CR)((0,t.useState)(!1),2),R=C[0],F=C[1],D=(0,i.CR)((0,t.useState)([]),2),O=D[0],L=D[1],I=function(){switch(N){case A.py.TABLE:e.push((0,X.Gn)(y));break;case A.py.TOPIC:e.push((0,X.D3)(y));break;case A.py.DASHBOARD:e.push((0,X.pB)(y));break;case A.py.PIPELINE:e.push((0,X.e7)(y))}},Q=function(l){void 0===l&&(l=g),e.push((0,X.h4)(N,y,l))},Z=function(e,l,n,i){s((0,_.Zk)(e)),m(l),h(n),L(i)};return(0,t.useEffect)((function(){!function(){switch(b(!0),N){case A.py.TABLE:(0,u.gs)((0,J.Td)(y,[A.ih.Service,A.ih.Database,A.ih.Schema,A.ih.Table],w.o),["owner","tags"]).then((function(e){var l,n,i,t,a,d=e.id,o=e.owner,r=e.tags,s=void 0===r?[]:r,v=e.database,c=e.service,m=e.serviceType,p=e.databaseSchema,f=null!==(l=null==c?void 0:c.name)&&void 0!==l?l:"";Z(s,o,e,[{name:f,url:f?(0,X.LE)(f,ee.u.DATABASE_SERVICES):"",imgSrc:m?(0,le.zF)(m):void 0},{name:(0,J.Td)(null!==(n=null==v?void 0:v.fullyQualifiedName)&&void 0!==n?n:"",[A.ih.Database]),url:(0,X.aY)(null!==(i=null==v?void 0:v.fullyQualifiedName)&&void 0!==i?i:"")},{name:(0,J.Td)(null!==(t=null==p?void 0:p.fullyQualifiedName)&&void 0!==t?t:"",[A.ih.Schema]),url:(0,X.vh)(null!==(a=null==p?void 0:p.fullyQualifiedName)&&void 0!==a?a:"")},{name:(0,J.C_)(e),url:"",activeTitle:!0}]),(0,u.Em)(d).then((function(e){T(e),b(!1)})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+" versions")}))})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+" versions")}));break;case A.py.TOPIC:(0,r.mp)((0,J.DS)(y,["service","database"],w.o),[A.GB.OWNER,A.GB.TAGS]).then((function(e){var l,n=e.id,i=e.owner,t=e.tags,a=void 0===t?[]:t,d=e.service,o=e.serviceType,u=null!==(l=d.name)&&void 0!==l?l:"";Z(a,i,e,[{name:u,url:u?(0,X.LE)(u,ee.u.MESSAGING_SERVICES):"",imgSrc:o?(0,le.zF)(o):void 0},{name:(0,J.C_)(e),url:"",activeTitle:!0}]),(0,r.qW)(n).then((function(e){T(e),b(!1)})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+" versions")}))})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+" versions")}));break;case A.py.DASHBOARD:(0,d.qK)((0,J.DS)(y,["service","database"],w.o),["owner","tags","charts"]).then((function(e){var l,n=e.id,i=e.owner,t=e.tags,a=void 0===t?[]:t,o=e.service,u=e.serviceType,r=null!==(l=o.name)&&void 0!==l?l:"";Z(a,i,e,[{name:r,url:r?(0,X.LE)(r,ee.u.DASHBOARD_SERVICES):"",imgSrc:u?(0,le.zF)(u):void 0},{name:(0,J.C_)(e),url:"",activeTitle:!0}]),(0,d.Hh)(n).then((function(e){T(e),b(!1)})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+" versions")}))})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+" versions")}));break;case A.py.PIPELINE:(0,o.JQ)((0,J.DS)(y,["service","database"],w.o),["owner","tags","tasks"]).then((function(e){var l,n=e.id,i=e.owner,t=e.tags,a=void 0===t?[]:t,d=e.service,u=e.serviceType,r=null!==(l=d.name)&&void 0!==l?l:"";Z(a,i,e,[{name:r,url:r?(0,X.LE)(r,ee.u.PIPELINE_SERVICES):"",imgSrc:u?(0,le.zF)(u):void 0},{name:(0,J.C_)(e),url:"",activeTitle:!0}]),(0,o.zR)(n).then((function(e){T(e),b(!1)})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+" versions")}))})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+" versions")}))}}()}),[y]),(0,t.useEffect)((function(){!function(){switch(F(!0),N){case A.py.TABLE:(0,u.gs)((0,J.Td)(y,[A.ih.Service,A.ih.Database,A.ih.Schema,A.ih.Table],w.o),[]).then((function(e){var l=e.id,n=e.database,i=e.service,t=e.serviceType,a=e.databaseSchema;(0,u.n2)(l,g).then((function(l){var d,o,u,r,s,v=l.owner,c=l.tags,m=null!==(d=null==i?void 0:i.name)&&void 0!==d?d:"";Z(c,v,l,[{name:m,url:m?(0,X.LE)(m,ee.u.DATABASE_SERVICES):"",imgSrc:t?(0,le.zF)(t):void 0},{name:(0,J.Td)(null!==(o=null==n?void 0:n.fullyQualifiedName)&&void 0!==o?o:"",[A.ih.Database]),url:(0,X.aY)(null!==(u=null==n?void 0:n.fullyQualifiedName)&&void 0!==u?u:"")},{name:(0,J.Td)(null!==(r=null==a?void 0:a.fullyQualifiedName)&&void 0!==r?r:"",[A.ih.Schema]),url:(0,X.vh)(null!==(s=null==a?void 0:a.fullyQualifiedName)&&void 0!==s?s:"")},{name:(0,J.C_)(e),url:"",activeTitle:!0}]),F(!1)})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+" version "+g)}))})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+"  version "+g)}));break;case A.py.TOPIC:(0,r.mp)((0,J.DS)(y,["service","database"],w.o),[]).then((function(e){var l=e.id,n=e.service,i=e.serviceType;(0,r.o_)(l,g).then((function(l){var t,a=l.owner,d=l.tags,o=void 0===d?[]:d,u=null!==(t=null==n?void 0:n.name)&&void 0!==t?t:"";Z(o,a,l,[{name:u,url:u?(0,X.LE)(u,ee.u.MESSAGING_SERVICES):"",imgSrc:i?(0,le.zF)(i):void 0},{name:(0,J.C_)(e),url:"",activeTitle:!0}]),F(!1)})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+" version "+g)}))})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+"  version "+g)}));break;case A.py.DASHBOARD:(0,d.qK)((0,J.DS)(y,["service","database"],w.o),[]).then((function(e){var l=e.id,n=e.service,i=e.serviceType;(0,d.O3)(l,g).then((function(l){var t,a=l.owner,d=l.tags,o=void 0===d?[]:d,u=null!==(t=null==n?void 0:n.name)&&void 0!==t?t:"";Z(o,a,l,[{name:u,url:u?(0,X.LE)(u,ee.u.DASHBOARD_SERVICES):"",imgSrc:i?(0,le.zF)(i):void 0},{name:(0,J.C_)(e),url:"",activeTitle:!0}]),F(!1)})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+" version "+g)}))})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+"  version "+g)}));break;case A.py.PIPELINE:(0,o.JQ)((0,J.DS)(y,["service","database"],w.o),[]).then((function(e){var l=e.id,n=e.service,i=e.serviceType;(0,o.lh)(l,g).then((function(l){var t,a=l.owner,d=l.tags,o=void 0===d?[]:d,u=null!==(t=null==n?void 0:n.name)&&void 0!==t?t:"";Z(o,a,l,[{name:u,url:u?(0,X.LE)(u,ee.u.PIPELINE_SERVICES):"",imgSrc:i?(0,le.zF)(i):void 0},{name:(0,J.C_)(e),url:"",activeTitle:!0}]),F(!1)})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+" version "+g)}))})).catch((function(e){(0,ne.Eo)(e,"Error while fetching "+y+"  version "+g)}))}}()}),[g]),t.createElement(t.Fragment,null,V?t.createElement(U.Z,null):function(){switch(N){case A.py.TABLE:return t.createElement(G,{backHandler:I,currentVersionData:f,datasetFQN:y,deleted:f.deleted,isVersionLoading:R,owner:c,slashedTableName:O,tier:n,version:g,versionHandler:Q,versionList:k});case A.py.TOPIC:return t.createElement($,{backHandler:I,currentVersionData:f,deleted:f.deleted,isVersionLoading:R,owner:c,slashedTopicName:O,tier:n,topicFQN:y,version:g,versionHandler:Q,versionList:k});case A.py.DASHBOARD:return t.createElement(P,{backHandler:I,currentVersionData:f,deleted:f.deleted,isVersionLoading:R,owner:c,slashedDashboardName:O,tier:n,topicFQN:y,version:g,versionHandler:Q,versionList:k});case A.py.PIPELINE:return t.createElement(K,{backHandler:I,currentVersionData:f,deleted:f.deleted,isVersionLoading:R,owner:c,slashedPipelineName:O,tier:n,topicFQN:y,version:g,versionHandler:Q,versionList:k});default:return null}}())}}}]);