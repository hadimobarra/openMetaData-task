"use strict";(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[4318],{29973:function(e,t,a){var n=a(8081),l=a.n(n),i=a(23645),r=a.n(i)()(l());r.push([e.id,'/*\n *  Copyright 2022 Collate\n *  Licensed under the Apache License, Version 2.0 (the "License");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *  http://www.apache.org/licenses/LICENSE-2.0\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an "AS IS" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n.metadata-to-es-config-form .ant-form-item-label {\n  padding: 0px;\n}\n.metadata-to-es-config-form .ant-input {\n  margin-top: 8px;\n}\n.metadata-to-es-config-form .input-field-descriptions {\n  color: #6b7280;\n}\n.metadata-to-es-config-form .switch-field-descriptions {\n  color: #6b7280;\n  display: block;\n  margin-top: 8px;\n}\n.metadata-to-es-config-form .switch-item {\n  gap: 8px;\n  align-items: center;\n  flex-flow: nowrap;\n  margin-bottom: 8px;\n}\n.metadata-to-es-config-form .ant-btn {\n  height: 38px;\n  border-radius: 8px;\n}\n',""]),t.Z=r},4318:function(e,t,a){a.d(t,{Z:function(){return Re}});var n,l,i=a(70655),r=a(96486),o=a(67294),c=a(437),s=a(78666),u=a(48603),d=a(31968),m=a(89204),f=a(67658),p=a(55726),g=a(5302);!function(e){e.Percentage="PERCENTAGE",e.Rows="ROWS"}(n||(n={})),function(e){e.Profiler="Profiler"}(l||(l={}));var b,h,w=a(48132);!function(e){e.cloud="cloud",e.local="local",e.http="http",e.s3="s3",e.gcs="gcs"}(b||(b={})),function(e){e.GCSValues="GCSValues",e.GCSCredentialsPath="GCSCredentialsPath"}(h||(h={}));var v=[{name:"Local Config Source",value:b.local},{name:"HTTP Config Source",value:b.http},{name:"Cloud Config Source",value:b.cloud},{name:"S3 Config Source",value:b.s3},{name:"GCS Config Source",value:b.gcs}],E=[{name:"GCS Credentials Values",value:h.GCSValues},{name:"GCS Credentials Path",value:h.GCSCredentialsPath}],C={dbtCloudAccountId:"dbt Cloud Account Id",dbtCloudAuthToken:"dbt Cloud Authentication Token"},y={dbtManifestFilePath:"dbt Manifest File Path"},x={dbtManifestHttpPath:"dbt Manifest Http Path"},S={awsRegion:"AWS Region"},k={url:["endPointURL"]},P=a(6929);function N(e,t,a,n){var l,r,o=!0;try{for(var c=(0,i.XA)(a[n]),s=c.next();!s.done;s=c.next()){var u=s.value;e[u]&&!(0,w.jv)(e[u])&&(o=!1,t[u]=P.Z["form-error-messages"]["invalid-url"])}}catch(e){l={error:e}}finally{try{s&&!s.done&&(r=c.return)&&r.call(c)}finally{if(l)throw l.error}}return o}var F=a(98736),T=a(35892),D=a(71577),I=a(33762),A=a(4107),R=a(10584),U=a(19650),V=a(12028),L=function(e){var t=e.dbtUpdateDescriptions,a=e.id,n=e.handleUpdateDescriptions;return o.createElement(I.g,null,o.createElement(U.Z,{align:"end",className:"m-b-xs"},o.createElement("label",{className:"tw-block tw-form-label m-b-0","data-testid":a,htmlFor:a},"Update Description"),o.createElement(V.Z,{checked:t,id:a,onChange:n})),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs","data-testid":"switch-description"},"Optional configuration to update the description from dbt or not"))},M=function(e){var t=e.dbtCloudAccountId,a=void 0===t?"":t,n=e.dbtCloudAuthToken,l=void 0===n?"":n,c=e.dbtCloudProjectId,s=e.dbtUpdateDescriptions,u=void 0!==s&&s,d=e.okText,m=e.cancelText,f=e.onCancel,p=e.onSubmit,g=e.handleCloudAccountIdChange,b=e.handleCloudAuthTokenChange,h=e.handleUpdateDescriptions,v=e.handleDbtCloudProjectId,E=(0,i.CR)((0,o.useState)(),2),y=E[0],x=E[1];return o.createElement(o.Fragment,null,o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"cloud-account-id"},(0,w.lp)("dbt Cloud Account Id")),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"dbt cloud account Id."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"cloud-account-id",id:"cloud-account-id",name:"cloud-account-id",type:"text",value:a,onChange:function(e){return g(e.target.value)}}),(null==y?void 0:y.dbtCloudAccountId)&&(0,w.Ti)(y.dbtCloudAccountId)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"cloud-auth-token"},(0,w.lp)("dbt Cloud Authentication Token")),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"dbt cloud account authentication token."),o.createElement(A.Z.Password,{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"cloud-auth-token",id:"cloud-auth-token",name:"cloud-auth-token",value:l,onChange:function(e){return b(e.target.value)}}),(null==y?void 0:y.dbtCloudAuthToken)&&(0,w.Ti)(y.dbtCloudAuthToken)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"dbtCloudProjectId"},"dbt Cloud Project Id"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"In case of multiple projects in a dbt cloud account, specify the project's id from which you want to extract the dbt run artifacts"),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"dbtCloudProjectId",id:"dbtCloudProjectId",name:"dbtCloudProjectId",type:"text",value:c,onChange:function(e){return v(e.target.value)}})),(0,w.fU)(""),o.createElement(L,{dbtUpdateDescriptions:u,handleUpdateDescriptions:h,id:"cloud-update-description"}),(0,w.fU)(""),o.createElement(I.g,{className:"tw-flex tw-justify-end"},o.createElement(R.z,{className:"tw-mr-2","data-testid":"back-button",size:"regular",theme:"primary",variant:"text",onClick:f},o.createElement("span",null,m)),o.createElement(R.z,{"data-testid":"submit-btn",size:"regular",theme:"primary",variant:"contained",onClick:function(){var e={dbtCloudAccountId:a,dbtCloudAuthToken:l,dbtUpdateDescriptions:u,dbtCloudProjectId:c};(function(e){var t=function(e,t){var a,n;void 0===t&&(t=C);var l=!0,o={};try{for(var c=(0,i.XA)(Object.keys(t)),s=c.next();!s.done;s=c.next()){var u=s.value;(0,r.isEmpty)(e[u])&&(l=!1,o[u]=t[u]+" "+P.Z["form-error-messages"]["is-required"])}}catch(e){a={error:e}}finally{try{s&&!s.done&&(n=c.return)&&n.call(c)}finally{if(a)throw a.error}}return{isValid:l,errors:o}}(e),a=t.isValid,n=t.errors;return x(n),a})(e)&&p(e)}},o.createElement("span",null,d))))},Z=function(e){var t,a=e.dbtSecurityConfig,n=e.dbtPrefixConfig,l=e.dbtUpdateDescriptions,c=void 0!==l&&l,s=e.gcsType,u=void 0===s?h.GCSValues:s,d=e.okText,m=e.cancelText,f=e.onCancel,p=e.onSubmit,g=e.handleGcsTypeChange,b=e.handleSecurityConfigChange,v=e.handlePrefixConfigChange,C=e.handleUpdateDescriptions,y=(0,o.useRef)(!1),x=function(e,t){var n,l=(0,r.isObject)(null==a?void 0:a.gcsConfig)?null==a?void 0:a.gcsConfig:{},o={gcsConfig:(0,i.pi)((0,i.pi)({},l),(n={},n[e]=t,n))};b(o)},S=function(e,t){var a,l=(0,i.pi)((0,i.pi)({},n),((a={})[e]=t,a));v(l)},k=(0,i.CR)((0,o.useState)(),2),N=k[0],F=k[1];return(0,o.useEffect)((function(){y.current&&b()}),[u]),(0,o.useEffect)((function(){y.current=!0}),[]),o.createElement(o.Fragment,null,o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"gcs-config"},"dbt Configuration Source"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},"Available sources to fetch dbt catalog and manifest files."),o.createElement("select",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"gcs-config",id:"gcs-config",name:"gcs-config",placeholder:"Select GCS Config Type",value:u,onChange:function(e){g&&g(e.target.value)}},E.map((function(e,t){return o.createElement("option",{key:t,value:e.value},e.name)})))),u===h.GCSValues?(t=null==a?void 0:a.gcsConfig,o.createElement(o.Fragment,null,o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"credential-type"},"Credentials Type"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Google Cloud service account type."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"credential-type",id:"credential-type",name:"credential-type",type:"text",value:null==t?void 0:t.type,onChange:function(e){return x("type",e.target.value)}}),(null==N?void 0:N.type)&&(0,w.Ti)(N.type)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"project-id"},"Project ID"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Google Cloud project id."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"project-id",id:"project-id",name:"project-id",type:"text",value:null==t?void 0:t.projectId,onChange:function(e){return x("projectId",e.target.value)}}),(null==N?void 0:N.projectId)&&(0,w.Ti)(N.projectId)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"private-key-id"},"Private Key ID"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Google Cloud Private key id."),o.createElement(A.Z.Password,{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"private-key-id",id:"private-key-id",name:"private-key-id",value:null==t?void 0:t.privateKeyId,onChange:function(e){return x("privateKeyId",e.target.value)}}),(null==N?void 0:N.privateKeyId)&&(0,w.Ti)(N.privateKeyId)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"private-key"},"Private Key"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Google Cloud private key."),o.createElement(A.Z.Password,{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"private-key",id:"private-key",name:"private-key",type:"text",value:null==t?void 0:t.privateKey,onChange:function(e){return x("privateKey",e.target.value)}}),(null==N?void 0:N.privateKey)&&(0,w.Ti)(N.privateKey)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"client-email"},"Client Email"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Google Cloud email."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"client-email",id:"client-email",name:"client-email",type:"text",value:null==t?void 0:t.clientEmail,onChange:function(e){return x("clientEmail",e.target.value)}}),(null==N?void 0:N.clientEmail)&&(0,w.Ti)(N.clientEmail)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"client-id"},"Client ID"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Google Cloud Client ID."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"client-id",id:"client-id",name:"client-id",type:"text",value:null==t?void 0:t.clientId,onChange:function(e){return x("clientId",e.target.value)}}),(null==N?void 0:N.clientId)&&(0,w.Ti)(N.clientId)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"auth-uri"},"Authentication URI"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Google Cloud auth uri."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"auth-uri",id:"auth-uri",name:"auth-uri",type:"text",value:null==t?void 0:t.authUri,onChange:function(e){return x("authUri",e.target.value)}}),(null==N?void 0:N.authUri)&&(0,w.Ti)(N.authUri)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"token-uri"},"Token URI"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Google Cloud token uri."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"token-uri",id:"token-uri",name:"token-uri",type:"text",value:null==t?void 0:t.tokenUri,onChange:function(e){return x("tokenUri",e.target.value)}}),(null==N?void 0:N.tokenUri)&&(0,w.Ti)(N.tokenUri)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"auth-x509-certificate-uri"},"Authentication Provider x509 Certificate URL"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Google Cloud auth provider certificate."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"auth-x509-certificate-uri",id:"auth-x509-certificate-uri",name:"auth-x509-certificate-uri",type:"text",value:null==t?void 0:t.authProviderX509CertUrl,onChange:function(e){return x("authProviderX509CertUrl",e.target.value)}}),(null==N?void 0:N.authProviderX509CertUrl)&&(0,w.Ti)(N.authProviderX509CertUrl)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"client-x509-certificate-uri"},"Client x509 Certificate URL"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Google Cloud client certificate uri."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"client-x509-certificate-uri",id:"client-x509-certificate-uri",name:"client-x509-certificate-uri",type:"text",value:null==t?void 0:t.clientX509CertUrl,onChange:function(e){return x("clientX509CertUrl",e.target.value)}}),(null==N?void 0:N.clientX509CertUrl)&&(0,w.Ti)(N.clientX509CertUrl)))):function(e){return o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"gcs-cred-path"},"GCS Credentials Path"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"GCS Credentials Path."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"gcs-cred-path",id:"gcs-cred-path",name:"gcs-cred-path",type:"text",value:(0,r.isString)(e)?e:"",onChange:function(e){return t=e.target.value,void b({gcsConfig:t});var t}}),(null==N?void 0:N.gcsConfig)&&(0,w.Ti)(N.gcsConfig))}(null==a?void 0:a.gcsConfig),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"dbt-bucket-name"},"dbt Bucket Name"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Name of the bucket where the dbt files are stored."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"dbt-bucket-name",id:"dbt-bucket-name",name:"dbt-bucket-name",type:"text",value:null==n?void 0:n.dbtBucketName,onChange:function(e){return S("dbtBucketName",e.target.value)}})),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"dbt-object-prefix"},"dbt Object Prefix"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Path of the folder where the dbt files are stored."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"dbt-object-prefix",id:"dbt-object-prefix",name:"dbt-object-prefix",type:"text",value:null==n?void 0:n.dbtObjectPrefix,onChange:function(e){return S("dbtObjectPrefix",e.target.value)}})),(0,w.fU)(""),o.createElement(L,{dbtUpdateDescriptions:c,handleUpdateDescriptions:C,id:"gcs-update-description"}),(0,w.fU)(""),o.createElement(I.g,{className:"tw-flex tw-justify-end"},o.createElement(R.z,{className:"tw-mr-2","data-testid":"back-button",size:"regular",theme:"primary",variant:"text",onClick:f},o.createElement("span",null,m)),o.createElement(R.z,{"data-testid":"submit-btn",size:"regular",theme:"primary",variant:"contained",onClick:function(){var e={dbtSecurityConfig:a,dbtPrefixConfig:n,dbtUpdateDescriptions:c};(function(e){var t,a=!0,n=null===(t=e.dbtSecurityConfig)||void 0===t?void 0:t.gcsConfig;return u!==h.GCSValues&&((0,r.isEmpty)(n)?(F({gcsConfig:"GCS Config "+P.Z["form-error-messages"]["is-required"]}),a=!1):F({})),a})(e)&&p(e)}},o.createElement("span",null,d))))},H=function(e){var t=e.dbtCatalogHttpPath,a=void 0===t?"":t,n=e.dbtManifestHttpPath,l=void 0===n?"":n,s=e.dbtRunResultsHttpPath,u=void 0===s?"":s,d=e.dbtUpdateDescriptions,m=void 0!==d&&d,f=e.okText,p=e.cancelText,g=e.onCancel,b=e.onSubmit,h=e.handleCatalogHttpPathChange,v=e.handleManifestHttpPathChange,E=e.handleRunResultsHttpPathChange,C=e.handleUpdateDescriptions,y=(0,i.CR)((0,o.useState)(),2),S=y[0],k=y[1],N=(0,c.$)().t;return o.createElement(o.Fragment,null,o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"catalog-url"},"dbt Catalog HTTP Path"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"dbt catalog file to extract dbt models with their column schemas."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"catalog-url",id:"catalog-url",name:"catalog-url",type:"text",value:a,onChange:function(e){return h(e.target.value)}}),(null==S?void 0:S.dbtCatalogHttpPath)&&(0,w.Ti)(S.dbtManifestHttpPath)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"manifest-url"},(0,w.lp)("dbt Manifest HTTP Path")),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"dbt manifest file path to extract dbt models and associate with tables."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"manifest-url",id:"manifest-url",name:"manifest-url",type:"text",value:l,onChange:function(e){return v(e.target.value)}}),(null==S?void 0:S.dbtManifestHttpPath)&&(0,w.Ti)(S.dbtManifestHttpPath)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"run-result-file"},N("label.dbt-run-result-http-path")),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},N("message.dbt-run-result-http-path-message")),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"run-result-file",id:"run-result-file",name:"run-result-file",type:"text",value:u,onChange:function(e){return E(e.target.value)}}),(null==S?void 0:S.dbtRunResultsHttpPath)&&(0,w.Ti)(S.dbtRunResultsHttpPath)),(0,w.fU)(""),o.createElement(L,{dbtUpdateDescriptions:m,handleUpdateDescriptions:C,id:"http-update-description"}),(0,w.fU)(""),o.createElement(I.g,{className:"tw-flex tw-justify-end"},o.createElement(R.z,{className:"tw-mr-2","data-testid":"back-button",size:"regular",theme:"primary",variant:"text",onClick:g},o.createElement("span",null,p)),o.createElement(R.z,{"data-testid":"submit-btn",size:"regular",theme:"primary",variant:"contained",onClick:function(){var e={dbtCatalogHttpPath:a,dbtManifestHttpPath:l,dbtRunResultsHttpPath:u,dbtUpdateDescriptions:m};(function(e){var t=function(e,t){var a,n;void 0===t&&(t=x);var l=!0,o={};try{for(var c=(0,i.XA)(Object.keys(t)),s=c.next();!s.done;s=c.next()){var u=s.value;(0,r.isEmpty)(e[u])&&(l=!1,o[u]=t[u]+" "+P.Z["form-error-messages"]["is-required"])}}catch(e){a={error:e}}finally{try{s&&!s.done&&(n=c.return)&&n.call(c)}finally{if(a)throw a.error}}return{isValid:l,errors:o}}(e),a=t.isValid,n=t.errors;return k(n),a})(e)&&b(e)}},o.createElement("span",null,f))))},O=function(e){var t=e.dbtCatalogFilePath,a=void 0===t?"":t,n=e.dbtManifestFilePath,l=void 0===n?"":n,c=e.dbtRunResultsFilePath,s=void 0===c?"":c,u=e.dbtUpdateDescriptions,d=void 0!==u&&u,m=e.okText,f=e.cancelText,p=e.onCancel,g=e.onSubmit,b=e.handleCatalogFilePathChange,h=e.handleManifestFilePathChange,v=e.handleRunResultsFilePathChange,E=e.handleUpdateDescriptions,C=(0,i.CR)((0,o.useState)(),2),x=C[0],S=C[1];return o.createElement(o.Fragment,null,o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"catalog-file"},"dbt Catalog File Path"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"dbt catalog file to extract dbt models with their column schemas."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"catalog-file",id:"catalog-file",name:"catalog-file",type:"text",value:a,onChange:function(e){return b(e.target.value)}}),(null==x?void 0:x.dbtCatalogFilePath)&&(0,w.Ti)(x.dbtCatalogFilePath)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"manifest-file"},(0,w.lp)("dbt Manifest File Path")),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"dbt manifest file path to extract dbt models and associate with tables."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"manifest-file",id:"manifest-file",name:"manifest-file",type:"text",value:l,onChange:function(e){return h(e.target.value)}}),(null==x?void 0:x.dbtManifestFilePath)&&(0,w.Ti)(x.dbtManifestFilePath)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"run-result-file"},"dbt Run Results File Path"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"dbt run results file path to extract the test results information."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"run-result-file",id:"run-result-file",name:"run-result-file",type:"text",value:s,onChange:function(e){return v(e.target.value)}}),(null==x?void 0:x.dbtRunResultsFilePath)&&(0,w.Ti)(x.dbtRunResultsFilePath)),(0,w.fU)(""),o.createElement(L,{dbtUpdateDescriptions:d,handleUpdateDescriptions:E,id:"local-update-description"}),(0,w.fU)(""),o.createElement(I.g,{className:"tw-flex tw-justify-end"},o.createElement(R.z,{className:"tw-mr-2","data-testid":"back-button",size:"regular",theme:"primary",variant:"text",onClick:p},o.createElement("span",null,f)),o.createElement(R.z,{"data-testid":"submit-btn",size:"regular",theme:"primary",variant:"contained",onClick:function(){var e={dbtCatalogFilePath:a,dbtManifestFilePath:l,dbtRunResultsFilePath:s,dbtUpdateDescriptions:d};(function(e){var t=function(e,t){var a,n;void 0===t&&(t=y);var l=!0,o={};try{for(var c=(0,i.XA)(Object.keys(t)),s=c.next();!s.done;s=c.next()){var u=s.value;(0,r.isEmpty)(e[u])&&(l=!1,o[u]=t[u]+" "+P.Z["form-error-messages"]["is-required"])}}catch(e){a={error:e}}finally{try{s&&!s.done&&(n=c.return)&&n.call(c)}finally{if(a)throw a.error}}return{isValid:l,errors:o}}(e),a=t.isValid,n=t.errors;return S(n),a})(e)&&g(e)}},o.createElement("span",null,m))))},j=function(e){var t=e.dbtSecurityConfig,a=e.dbtPrefixConfig,n=e.dbtUpdateDescriptions,l=void 0!==n&&n,c=e.okText,s=e.cancelText,u=e.onCancel,m=e.onSubmit,f=e.handleSecurityConfigChange,p=e.handlePrefixConfigChange,g=e.handleUpdateDescriptions,b=function(e,a){var n,l=(0,i.pi)((0,i.pi)({},t),((n={})[e]=a,n));delete l.gcsConfig,f(l)},h=function(e,t){var n,l=(0,i.pi)((0,i.pi)({},a),((n={})[e]=t,n));p(l)},v=(0,i.CR)((0,o.useState)(),2),E=v[0],C=v[1];return o.createElement(o.Fragment,null,o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"aws-access-key-id"},"AWS Access Key ID"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"AWS Access Key ID."),o.createElement(A.Z.Password,{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"aws-access-key-id",id:"aws-access-key-id",name:"aws-access-key-id",value:null==t?void 0:t.awsAccessKeyId,onChange:function(e){return b("awsAccessKeyId",e.target.value)}})),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"aws-secret-access-key-id"},"AWS Secret Access Key"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"AWS Secret Access Key."),o.createElement(A.Z.Password,{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"aws-secret-access-key-id",id:"aws-secret-access-key-id",name:"aws-secret-access-key-id",value:null==t?void 0:t.awsSecretAccessKey,onChange:function(e){return b("awsSecretAccessKey",e.target.value)}})),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"aws-region"},(0,w.lp)("AWS Region")),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"AWS Region."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"aws-region",id:"aws-region",name:"aws-region",type:"text",value:null==t?void 0:t.awsRegion,onChange:function(e){return b("awsRegion",e.target.value)}}),(null==E?void 0:E.awsRegion)&&(0,w.Ti)(E.awsRegion)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"aws-session-token"},"AWS Session Token"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"AWS Session Token."),o.createElement(A.Z.Password,{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"aws-session-token",id:"aws-session-token",name:"aws-session-token",type:"text",value:null==t?void 0:t.awsSessionToken,onChange:function(e){return b("awsSessionToken",e.target.value)}})),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"endpoint-url"},"Endpoint URL"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"EndPoint URL for the AWS."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"endpoint-url",id:"endpoint-url",name:"endpoint-url",type:"text",value:null==t?void 0:t.endPointURL,onChange:function(e){return b("endPointURL",e.target.value)}}),(null==E?void 0:E.endPointURL)&&(0,w.Ti)(E.endPointURL)),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"dbt-bucket-name"},"dbt Bucket Name"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Name of the bucket where the dbt files are stored."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"dbt-bucket-name",id:"dbt-bucket-name",name:"dbt-bucket-name",type:"text",value:null==a?void 0:a.dbtBucketName,onChange:function(e){return h("dbtBucketName",e.target.value)}})),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"dbt-object-prefix"},"dbt Object Prefix"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-xs"},"Path of the folder where the dbt files are stored."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"dbt-object-prefix",id:"dbt-object-prefix",name:"dbt-object-prefix",type:"text",value:null==a?void 0:a.dbtObjectPrefix,onChange:function(e){return h("dbtObjectPrefix",e.target.value)}})),(0,w.fU)(""),o.createElement(L,{dbtUpdateDescriptions:l,handleUpdateDescriptions:g,id:"s3-update-description"}),(0,w.fU)(""),o.createElement(I.g,{className:"tw-flex tw-justify-end"},o.createElement(R.z,{className:"tw-mr-2","data-testid":"back-button",size:"regular",theme:"primary",variant:"text",onClick:u},o.createElement("span",null,s)),o.createElement(R.z,{"data-testid":"submit-btn",size:"regular",theme:"primary",variant:"contained",onClick:function(){var e={dbtSecurityConfig:t,dbtPrefixConfig:a,dbtUpdateDescriptions:l};(function(e){var t=function(e,t){var a,n;void 0===t&&(t=S);var l=!0,o={};try{for(var c=(0,i.XA)(Object.keys(t)),s=c.next();!s.done;s=c.next()){var u=s.value;(0,r.isEmpty)(e[u])&&(l=!1,o[u]=t[u]+" "+P.Z["form-error-messages"]["is-required"])}}catch(e){a={error:e}}finally{try{s&&!s.done&&(n=c.return)&&n.call(c)}finally{if(a)throw a.error}}return{isValid:l,errors:o}}(e.dbtSecurityConfig||{}),a=t.isValid,n=t.errors,l=function(e,t){void 0===t&&(t=k);var a=!0,n={};for(var l in t)l===d.b.url&&(a=N(e,n,t,l)&&a);return{isValid:a,errors:n}}(e.dbtSecurityConfig||{}),o=l.isValid,c=l.errors;return C((0,i.pi)((0,i.pi)({},n),c)),a&&o})(e)&&m(e)}},o.createElement("span",null,c))))},z=function(e){var t=e.data,a=e.okText,n=e.cancelText,l=e.gcsType,r=e.source,s=void 0===r?b.local:r,u=e.handleGcsTypeChange,m=e.handleSourceChange,f=e.onCancel,p=e.onSubmit,g=e.formType,h=e.ingestionName,E=e.handleIngestionName,C=(0,c.$)().t,y=(0,i.CR)((0,o.useState)(t),2),x=y[0],S=y[1],k=function(e,t){S((function(a){var n;return(0,i.pi)((0,i.pi)({},a),((n={})[e]=t,n))}))};return(0,o.useEffect)((function(){S(t)}),[t,s,l]),o.createElement(o.Fragment,null,o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"name"},C("label.name")),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},C("message.instance-identifier")),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"name",disabled:g===d.Y.EDIT,id:"name",name:"name",type:"text",value:h,onChange:function(e){return E(e.target.value)}}),(0,w.fU)("")),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"dbt-source"},C("label.dbt-Configuration-source")),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},C("message.fetch-dbt-files")),o.createElement("select",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"dbt-source",id:"dbt-source",name:"dbt-source",placeholder:C("label.select-dbt-source"),value:s,onChange:function(e){m&&m(e.target.value)}},v.map((function(e,t){return o.createElement("option",{key:t,value:e.value},e.name)})))),(0,w.fU)(""),function(){switch(s){case b.cloud:return o.createElement(M,{cancelText:n,dbtCloudAccountId:x.dbtCloudAccountId,dbtCloudAuthToken:x.dbtCloudAuthToken,dbtCloudProjectId:x.dbtCloudProjectId,dbtUpdateDescriptions:x.dbtUpdateDescriptions,handleCloudAccountIdChange:function(e){k("dbtCloudAccountId",e)},handleCloudAuthTokenChange:function(e){k("dbtCloudAuthToken",e)},handleDbtCloudProjectId:function(e){k("dbtCloudProjectId",e)},handleUpdateDescriptions:function(e){k("dbtUpdateDescriptions",e)},okText:a,onCancel:f,onSubmit:p});case b.local:return o.createElement(O,{cancelText:n,dbtCatalogFilePath:x.dbtCatalogFilePath,dbtManifestFilePath:x.dbtManifestFilePath,dbtRunResultsFilePath:x.dbtRunResultsFilePath,dbtUpdateDescriptions:x.dbtUpdateDescriptions,handleCatalogFilePathChange:function(e){k("dbtCatalogFilePath",e)},handleManifestFilePathChange:function(e){k("dbtManifestFilePath",e)},handleRunResultsFilePathChange:function(e){k("dbtRunResultsFilePath",e)},handleUpdateDescriptions:function(e){k("dbtUpdateDescriptions",e)},okText:a,onCancel:f,onSubmit:p});case b.http:return o.createElement(H,{cancelText:n,dbtCatalogHttpPath:x.dbtCatalogHttpPath,dbtManifestHttpPath:x.dbtManifestHttpPath,dbtRunResultsHttpPath:x.dbtRunResultsHttpPath,dbtUpdateDescriptions:x.dbtUpdateDescriptions,handleCatalogHttpPathChange:function(e){k("dbtCatalogHttpPath",e)},handleManifestHttpPathChange:function(e){k("dbtManifestHttpPath",e)},handleRunResultsHttpPathChange:function(e){k("dbtRunResultsHttpPath",e)},handleUpdateDescriptions:function(e){k("dbtUpdateDescriptions",e)},okText:a,onCancel:f,onSubmit:p});case b.s3:return o.createElement(j,{cancelText:n,dbtPrefixConfig:x.dbtPrefixConfig,dbtSecurityConfig:x.dbtSecurityConfig,dbtUpdateDescriptions:x.dbtUpdateDescriptions,handlePrefixConfigChange:function(e){k("dbtPrefixConfig",e)},handleSecurityConfigChange:function(e){k("dbtSecurityConfig",e)},handleUpdateDescriptions:function(e){k("dbtUpdateDescriptions",e)},okText:a,onCancel:f,onSubmit:p});case b.gcs:return o.createElement(Z,{cancelText:n,dbtPrefixConfig:x.dbtPrefixConfig,dbtSecurityConfig:x.dbtSecurityConfig,dbtUpdateDescriptions:x.dbtUpdateDescriptions,gcsType:l,handleGcsTypeChange:function(e){u&&u(e)},handlePrefixConfigChange:function(e){k("dbtPrefixConfig",e)},handleSecurityConfigChange:function(e){k("dbtSecurityConfig",e)},handleUpdateDescriptions:function(e){k("dbtUpdateDescriptions",e)},okText:a,onCancel:f,onSubmit:p});default:return o.createElement(o.Fragment,null,o.createElement("span",{"data-testid":"dbt-source-none"},C("label.no-selected-dbt")),(0,w.fU)(""),o.createElement(I.g,{className:"tw-flex tw-justify-end"},o.createElement(D.Z,{className:"m-r-xs","data-testid":"back-button",type:"link",onClick:f},n),o.createElement(D.Z,{className:"font-medium p-x-md p-y-xxs h-auto rounded-6","data-testid":"submit-btn",type:"primary",onClick:function(){return p()}},a)))}}())},B=a(78339),G=a(69852),K=a(12439),q=a(9242),_=a(34041),W=a(56256),X=a(85986),$=a(56275),Q=a(80307),Y=a(71230),J=a(15746),ee=a(9676),te=a(67800),ae=a(38464),ne=function(e){var t=e.showSeparator,a=void 0===t||t,n=e.checked,l=e.includePattern,i=e.excludePattern,c=e.handleChecked,s=e.getIncludeValue,u=e.getExcludeValue,d=e.type;return o.createElement("div",{className:"m-t-md","data-testid":"filter-pattern-container"},o.createElement(Y.Z,null,o.createElement(J.Z,null,o.createElement(ee.Z,{checked:n,className:"m-r-sm filter-pattern-checkbox","data-testid":d+"-filter-pattern-checkbox",id:d+"FilterPatternCheckbox",name:d+"FilterPatternCheckbox",onChange:function(e){return c(e.target.checked)}})),o.createElement(J.Z,{className:"flex flex-col"},o.createElement("label",{htmlFor:d+"FilterPatternCheckbox"},(0,r.capitalize)(d)+" Filter Pattern"),o.createElement(W.Z.Text,{className:"text-grey-muted m-t-xss","data-testid":"filter-pattern-info"},(0,te.t)("message.filter-pattern-info",{filterPattern:d})," ",o.createElement(W.Z.Link,{href:(0,w.Kx)(d),target:"_blank"},(0,te.t)("label.read-more")," ",o.createElement(ae.ZP,{alt:"external-link",className:"m-l-xss",icon:ae.PJ.EXTERNAL_LINK,width:"14px"}))))),n&&o.createElement("div",{"data-testid":"field-container"},o.createElement(I.g,null,o.createElement("label",{className:"flex flex-col"},(0,te.t)("label.include"),":"),o.createElement(W.Z.Text,{className:"text-grey-muted m-t-xss m-b-xss","data-testid":"filter-pattern-include-info"},(0,te.t)("message.filter-pattern-include-exclude-info",{activity:(0,r.toLower)((0,te.t)("label.include")),filterPattern:d})),o.createElement(A.Z,{className:"m-t-xss","data-testid":"filter-pattern-includes-"+d,placeholder:(0,te.t)("label.list-of-strings-regex-patterns-csv"),type:"text",value:l,onChange:function(e){var t=e.target.value?e.target.value.split(","):[];s(t,d)}})),o.createElement(I.g,null,o.createElement("label",{className:"flex flex-col"},(0,te.t)("label.exclude"),":"),o.createElement(W.Z.Text,{className:"text-grey-muted m-t-xss m-b-xss","data-testid":"filter-pattern-exclude-info"},(0,te.t)("message.filter-pattern-include-exclude-info",{activity:(0,r.toLower)((0,te.t)("label.exclude")),filterPattern:d})),o.createElement(A.Z,{className:"m-t-xss","data-testid":"filter-pattern-excludes-"+d,placeholder:(0,te.t)("label.list-of-strings-regex-patterns-csv"),type:"text",value:i,onChange:function(e){var t=e.target.value?e.target.value.split(","):[];u(t,d)}})),a&&(0,w.fU)("")))},le=a(97809),ie=a(94184),re=a.n(ie),oe=function(e){var t=e.checked,a=e.handleCheck,n=e.testId,l=n?"toggle-button-"+n:"toggle-button";return o.createElement("div",{className:re()("toggle-switch",t?"open":null),"data-testid":l,onClick:a},o.createElement("div",{className:"switch"}))},ce=a(99492),se=function(e){var t=e.ingestionName,a=e.description,n=void 0===a?"":a,l=e.databaseServiceNames,i=e.databaseFilterPattern,s=e.dashboardFilterPattern,f=e.schemaFilterPattern,p=e.tableFilterPattern,b=e.topicFilterPattern,h=e.chartFilterPattern,v=e.pipelineFilterPattern,E=e.mlModelFilterPattern,C=e.includeLineage,y=e.includeView,x=e.includeTags,S=e.markDeletedTables,k=e.markAllDeletedTables,P=e.serviceCategory,N=e.pipelineType,F=e.showDatabaseFilter,T=e.ingestSampleData,D=e.showDashboardFilter,A=e.showSchemaFilter,U=e.showTableFilter,V=e.showTopicFilter,L=e.showChartFilter,M=e.showPipelineFilter,Z=e.showMlModelFilter,H=e.queryLogDuration,O=e.stageFileLocation,j=e.threadCount,z=e.timeoutSeconds,B=e.resultLimit,G=e.enableDebugLog,K=e.profileSample,Y=e.handleEnableDebugLog,J=e.getExcludeValue,ee=e.getIncludeValue,te=e.handleIngestionName,ae=e.handleDescription,ie=e.handleShowFilter,re=e.handleIncludeLineage,se=e.handleIncludeView,ue=e.handleIncludeTags,de=e.handleMarkDeletedTables,me=e.handleMarkAllDeletedTables,fe=e.handleIngestSampleData,pe=e.handleDatasetServiceName,ge=e.handleQueryLogDuration,be=e.handleProfileSample,he=e.handleStageFileLocation,we=e.handleResultLimit,ve=e.handleThreadCount,Ee=e.handleTimeoutSeconds,Ce=e.useFqnFilter,ye=e.onUseFqnFilterClick,xe=e.onCancel,Se=e.onNext,ke=e.formType,Pe=e.profileSampleType,Ne=e.handleProfileSampleType,Fe=(0,c.$)().t,Te=(0,o.useRef)(),De=function(e){Ne(e),be(void 0)},Ie=function(e,t){return o.createElement(o.Fragment,null,o.createElement(I.g,null,o.createElement("div",{className:"tw-flex tw-gap-1"},o.createElement("label",null,e),o.createElement(oe,{checked:T,handleCheck:fe,testId:"ingest-sample-data"})),o.createElement("p",{className:"tw-text-grey-muted tw-mt-3"},t)),(0,w.fU)(""))},Ae=function(){return o.createElement(I.g,null,o.createElement("div",{className:"tw-flex tw-gap-1"},o.createElement("label",null,"Enable Debug Log"),o.createElement(oe,{checked:G,handleCheck:Y,testId:"enable-debug-log"})),o.createElement("p",{className:"tw-text-grey-muted tw-mt-3"},"Enable debug logging"),(0,w.fU)(""))},Re=function(){var e,t,a,n,l,r;return o.createElement("div",null,o.createElement(ne,{checked:F,excludePattern:null!==(e=null==i?void 0:i.excludes)&&void 0!==e?e:[],getExcludeValue:J,getIncludeValue:ee,handleChecked:function(e){return ie(e,u.V.DATABASE)},includePattern:null!==(t=null==i?void 0:i.includes)&&void 0!==t?t:[],type:u.V.DATABASE}),o.createElement(ne,{checked:A,excludePattern:null!==(a=null==f?void 0:f.excludes)&&void 0!==a?a:[],getExcludeValue:J,getIncludeValue:ee,handleChecked:function(e){return ie(e,u.V.SCHEMA)},includePattern:null!==(n=null==f?void 0:f.includes)&&void 0!==n?n:[],type:u.V.SCHEMA}),o.createElement(ne,{checked:U,excludePattern:null!==(l=null==p?void 0:p.excludes)&&void 0!==l?l:[],getExcludeValue:J,getIncludeValue:ee,handleChecked:function(e){return ie(e,u.V.TABLE)},includePattern:null!==(r=null==p?void 0:p.includes)&&void 0!==r?r:[],showSeparator:!1,type:u.V.TABLE}))},Ue=function(){var e,t,a,n,i,c,d,f,p,g;switch(P){case m.u.DATABASE_SERVICES:return o.createElement(o.Fragment,null,Re(),(0,w.fU)(""),o.createElement(I.g,null,o.createElement("div",{className:"tw-flex tw-gap-1"},o.createElement("label",null,"Use FQN For Filtering"),o.createElement(oe,{checked:Ce,handleCheck:ye,testId:"include-lineage"})),o.createElement("p",{className:"tw-text-grey-muted tw-mt-3"},"Regex will be applied on fully qualified name (e.g service_name.db_name.schema_name.table_name) instead of raw name (e.g. table_name)."),(0,w.fU)("")),o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(I.g,null,o.createElement("div",{className:"tw-flex tw-gap-1"},o.createElement("label",null,"Include views"),o.createElement(oe,{checked:y,handleCheck:se,testId:"include-views"})),o.createElement("p",{className:"tw-text-grey-muted tw-mt-3"},"Enable extracting views from the data source"),(0,w.fU)("")),o.createElement(I.g,null,o.createElement("div",{className:"tw-flex tw-gap-1"},o.createElement("label",null,"Include tags"),o.createElement(oe,{checked:x,handleCheck:ue,testId:"include-tags"})),o.createElement("p",{className:"tw-text-grey-muted tw-mt-3"},"Enable extracting tags from the data source"),(0,w.fU)("")),Ae(),!(0,r.isNil)(S)&&o.createElement(I.g,null,o.createElement("div",{className:"tw-flex tw-gap-1"},o.createElement("label",null,"Mark Deleted Tables"),o.createElement(oe,{checked:S,handleCheck:function(){de&&de()},testId:"mark-deleted"})),o.createElement("p",{className:"tw-text-grey-muted tw-mt-3"},"Any deleted tables in the data source will be soft deleted in MCI-DGP"),(0,w.fU)("")),!(0,r.isNil)(k)&&o.createElement(I.g,null,o.createElement("div",{className:"tw-flex tw-gap-1"},o.createElement("label",null,"Mark All Deleted Tables"),o.createElement(oe,{checked:k,handleCheck:function(){me&&me()},testId:"mark-deleted-filter-only"})),o.createElement("p",{className:"tw-text-grey-muted tw-mt-3"},"Optional configuration to mark deleted tables only to the filtered schema"),(0,w.fU)("")))));case m.u.DASHBOARD_SERVICES:return o.createElement(o.Fragment,null,o.createElement(ne,{checked:D,excludePattern:null!==(e=s.excludes)&&void 0!==e?e:[],getExcludeValue:J,getIncludeValue:ee,handleChecked:function(e){return ie(e,u.V.DASHBOARD)},includePattern:null!==(t=s.includes)&&void 0!==t?t:[],type:u.V.DASHBOARD}),o.createElement(ne,{checked:L,excludePattern:null!==(a=h.excludes)&&void 0!==a?a:[],getExcludeValue:J,getIncludeValue:ee,handleChecked:function(e){return ie(e,u.V.CHART)},includePattern:null!==(n=h.includes)&&void 0!==n?n:[],showSeparator:!1,type:u.V.CHART}),(0,w.fU)(""),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"name"},"Database Service Name"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},"Database Service Name for creation of lineage"),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"name",id:"name",name:"name",type:"text",value:l,onChange:function(e){var t,a;(a=(t=e.target.value).includes(",")?t.split(","):Array(t))&&pe(a)}}),(0,w.fU)("")),Ae());case m.u.MESSAGING_SERVICES:return o.createElement(o.Fragment,null,o.createElement(ne,{checked:V,excludePattern:null!==(i=b.excludes)&&void 0!==i?i:[],getExcludeValue:J,getIncludeValue:ee,handleChecked:function(e){return ie(e,u.V.TOPIC)},includePattern:null!==(c=b.includes)&&void 0!==c?c:[],showSeparator:!1,type:u.V.TOPIC}),(0,w.fU)(""),Ie("Ingest Sample Data","Extract sample data from each topic"),Ae());case m.u.PIPELINE_SERVICES:return o.createElement(o.Fragment,null,o.createElement(ne,{checked:M,excludePattern:null!==(d=v.excludes)&&void 0!==d?d:[],getExcludeValue:J,getIncludeValue:ee,handleChecked:function(e){return ie(e,u.V.PIPELINE)},includePattern:null!==(f=v.includes)&&void 0!==f?f:[],showSeparator:!1,type:u.V.PIPELINE}),(0,w.fU)(""),o.createElement("div",null,o.createElement(I.g,null,o.createElement("div",{className:"tw-flex tw-gap-1"},o.createElement("label",null,"Include lineage"),o.createElement(oe,{checked:C,handleCheck:re,testId:"include-lineage"})),o.createElement("p",{className:"tw-text-grey-muted tw-mt-3"},"Configuration to turn off fetching lineage from pipelines."),(0,w.fU)("")),Ae()));case m.u.ML_MODEL_SERVICES:return o.createElement(o.Fragment,null,o.createElement(ne,{checked:Z,excludePattern:null!==(p=E.excludes)&&void 0!==p?p:[],getExcludeValue:J,getIncludeValue:ee,handleChecked:function(e){return ie(e,u.V.MLMODEL)},includePattern:null!==(g=E.includes)&&void 0!==g?g:[],showSeparator:!1,type:u.V.MLMODEL}),(0,w.fU)(""));default:return o.createElement(o.Fragment,null)}};return o.createElement(q.Z,{className:"p-x-xs","data-testid":"configure-ingestion-container",layout:"vertical"},function(){switch(N){case g.Hz.Usage:return o.createElement(o.Fragment,null,o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"query-log-duration"},"Query Log Duration"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},"Configuration to tune how far we want to look back in query logs to process usage data."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"query-log-duration",id:"query-log-duration",name:"query-log-duration",type:"number",value:H,onChange:function(e){return ge(parseInt(e.target.value))}}),(0,w.fU)("")),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"stage-file-location"},"Stage File Location"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},"Temporary file name to store the query logs before processing. Absolute file path required."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"stage-file-location",id:"stage-file-location",name:"stage-file-location",type:"text",value:O,onChange:function(e){return he(e.target.value)}}),(0,w.fU)("")),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"result-limit"},"Result Limit"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},"Configuration to set the limit for query logs."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"result-limit",id:"result-limit",name:"result-limit",type:"number",value:B,onChange:function(e){return we(parseInt(e.target.value))}}),(0,w.fU)("")),Ae());case g.Hz.Lineage:return o.createElement(o.Fragment,null,o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"query-log-duration"},"Query Log Duration"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},"Configuration to tune how far we want to look back in query logs to process usage data."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"query-log-duration",id:"query-log-duration",name:"query-log-duration",type:"number",value:H,onChange:function(e){return ge(parseInt(e.target.value))}}),(0,w.fU)("")),o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"result-limit"},"Result Limit"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},"Configuration to set the limit for query logs."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"result-limit",id:"result-limit",name:"result-limit",type:"number",value:B,onChange:function(e){return we(parseInt(e.target.value))}}),(0,w.fU)("")),Ae());case g.Hz.Profiler:return o.createElement(o.Fragment,null,o.createElement("div",null,o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"name"},"Name"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},"Name that identifies this pipeline instance uniquely."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"name",id:"name",name:"name",type:"text",value:t,onChange:function(e){return te(e.target.value)}}),(0,w.fU)(""))),Re(),(0,w.fU)(""),o.createElement(o.Fragment,null,o.createElement(q.Z.Item,{className:"m-t-sm",initialValue:Pe||Q.KF.Percentage,label:Fe("label.profile-sample-type",{type:"Type"}),name:"profileSample"},o.createElement(_.Z,{"data-testid":"profile-sample",options:$.wG,value:Pe,onChange:De})),o.createElement(q.Z.Item,{className:"m-b-xs",label:Fe("label.profile-sample-type",{type:"Value"}),name:"profile-sample-value"},Pe===Q.KF.Percentage&&o.createElement(o.Fragment,null,o.createElement(W.Z.Paragraph,{className:"text-grey-muted m-t-0 m-b-xs text-sm"},Fe("message.profile-sample-percentage-message")),o.createElement(ce.Z,{value:K||100,onChange:function(e){return be(null!=e?e:void 0)}})),Pe===Q.KF.Rows&&o.createElement(o.Fragment,null,o.createElement(W.Z.Paragraph,{className:"text-grey-muted m-t-0 m-b-xs text-sm"},Fe("message.profile-sample-row-count-message")),o.createElement(X.Z,{className:"w-full","data-testid":"metric-number-input",min:0,placeholder:Fe("label.please-enter-value",{name:Fe("label.row-count-lowercase")}),value:K,onChange:function(e){return be(null!=e?e:void 0)}})))),(0,w.fU)(""),o.createElement("div",null,o.createElement("label",null,"Thread Count"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},"Set the number of threads to use when computing the metrics. If left blank, it will default to 5."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding tw-w-24","data-testid":"threadCount",id:"threadCount",name:"threadCount",placeholder:"5",type:"number",value:j,onChange:function(e){return ve(parseInt(e.target.value))}})),(0,w.fU)(""),o.createElement("div",null,o.createElement("label",null,Fe("label.profiler-timeout-seconds-label")),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},Fe("message.profiler-timeout-seconds-message")),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding tw-w-24","data-testid":"timeoutSeconds",id:"timeoutSeconds",name:"timeoutSeconds",placeholder:"43200",type:"number",value:z,onChange:function(e){return Ee(parseInt(e.target.value))}})),(0,w.fU)(""),Ie("Ingest Sample Data","Extract sample data from each profile"),Ae(),o.createElement("div",null,o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"name"},"Description"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},"Description of the pipeline."),o.createElement(le.Z,{"data-testid":"description",initialValue:n,ref:Te}),(0,w.fU)(""))));case g.Hz.Metadata:default:return o.createElement(o.Fragment,null,o.createElement(I.g,null,o.createElement("label",{className:"tw-block tw-form-label tw-mb-1",htmlFor:"name"},"Name"),o.createElement("p",{className:"tw-text-grey-muted tw-mt-1 tw-mb-2 tw-text-sm"},"Name that identifies this pipeline instance uniquely."),o.createElement("input",{className:"tw-form-inputs tw-form-inputs-padding","data-testid":"name",disabled:ke===d.Y.EDIT,id:"name",name:"name",type:"text",value:t,onChange:function(e){return te(e.target.value)}}),(0,w.fU)("")),o.createElement("div",null,Ue()))}}(),o.createElement(I.g,{className:"tw-flex tw-justify-end"},o.createElement(R.z,{className:"tw-mr-2","data-testid":"back-button",size:"regular",theme:"primary",variant:"text",onClick:xe},o.createElement("span",null,"Cancel")),o.createElement(R.z,{"data-testid":"next-button",size:"regular",theme:"primary",variant:"contained",onClick:function(){var e;ae&&ae((null===(e=Te.current)||void 0===e?void 0:e.getEditorContent())||""),Se()}},o.createElement("span",null,"Next"))))},ue=a(27049),de=W.Z.Text,me=function(e){var t=e.label,a=e.description;return o.createElement(U.Z,{direction:"vertical"},o.createElement(de,null,t),o.createElement(de,{className:"input-field-descriptions"},a))},fe=a(93379),pe=a.n(fe),ge=a(7795),be=a.n(ge),he=a(90569),we=a.n(he),ve=a(3565),Ee=a.n(ve),Ce=a(19216),ye=a.n(Ce),xe=a(44589),Se=a.n(xe),ke=a(29973),Pe={};Pe.styleTagTransform=Se(),Pe.setAttributes=Ee(),Pe.insert=we().bind(null,"head"),Pe.domAPI=be(),Pe.insertStyleElement=ye(),pe()(ke.Z,Pe),ke.Z&&ke.Z.locals&&ke.Z.locals;var Ne=W.Z.Text,Fe=function(e){var t=e.handleMetadataToESConfig,a=e.handlePrev,n=e.handleNext,l=(0,c.$)().t;return o.createElement(q.Z,{className:"metadata-to-es-config-form",layout:"vertical",onFinish:function(e){t((0,i.pi)({},e)),n()}},o.createElement(q.Z.Item,{label:o.createElement(me,{description:l("message.field-ca-certs-description"),label:l("label.ca-certs")}),name:"caCerts"},o.createElement(A.Z,null)),o.createElement(q.Z.Item,{label:o.createElement(me,{description:l("message.field-region-name-description"),label:l("label.region-name")}),name:"regionName"},o.createElement(A.Z,null)),o.createElement(q.Z.Item,{label:o.createElement(me,{description:l("message.field-timeout-description"),label:l("label.timeout")}),name:"timeout"},o.createElement(A.Z,{type:"number"})),o.createElement(ue.Z,null),o.createElement(q.Z.Item,{className:"switch-item",label:l("label.use-aws-credentials"),name:"useAwsCredentials"},o.createElement(V.Z,null)),o.createElement(Ne,{className:"switch-field-descriptions"},l("message.field-use-aws-credentials-description")),o.createElement(ue.Z,null),o.createElement(q.Z.Item,{className:"switch-item",label:l("label.use-ssl"),name:"useSSL"},o.createElement(V.Z,null)),o.createElement(Ne,{className:"switch-field-descriptions"},l("message.field-use-ssl-description")),o.createElement(ue.Z,null),o.createElement(q.Z.Item,{className:"switch-item",label:l("label.verify-certs"),name:"verifyCerts"},o.createElement(V.Z,null)),o.createElement(Ne,{className:"switch-field-descriptions"},l("message.field-verify-certs-description")),o.createElement(ue.Z,null),o.createElement(Y.Z,{justify:"end"},o.createElement(J.Z,null,o.createElement(D.Z,{type:"link",onClick:a},l("label.back"))),o.createElement(J.Z,null,o.createElement(D.Z,{htmlType:"submit",type:"primary"},l("label.next")))))},Te=a(67814),De=a(58346),Ie=a(53867),Ae=function(e){var t=e.status,a=e.repeatFrequency,n=e.handleRepeatFrequencyChange,l=e.submitButtonLabel,i=e.onBack,r=e.onDeploy,c=e.includePeriodOptions;return o.createElement("div",{"data-testid":"schedule-intervel-container"},o.createElement(I.g,null,o.createElement("div",null,o.createElement(De.Z,{includePeriodOptions:c,value:a,onChange:n}))),o.createElement(I.g,{className:"tw-flex tw-justify-end tw-mt-5"},o.createElement(R.z,{className:"tw-mr-2","data-testid":"back-button",size:"regular",theme:"primary",variant:"text",onClick:i},o.createElement("span",null,"Back")),"waiting"===t?o.createElement(R.z,{disabled:!0,className:"tw-w-16 tw-h-10 disabled:tw-opacity-100",size:"regular",theme:"primary",variant:"contained"},o.createElement(Ie.Z,{size:"small",type:"white"})):"success"===t?o.createElement(R.z,{disabled:!0,className:"tw-w-16 tw-h-10 disabled:tw-opacity-100",size:"regular",theme:"primary",variant:"contained"},o.createElement(Te.G,{icon:"check"})):o.createElement(R.z,{"data-testid":"deploy-button",size:"regular",theme:"primary",variant:"contained",onClick:r},o.createElement("span",null,l))))},Re=function(e){var t,a,l,v,E,S,k,P,N,D,I,A,R,U,V,L,M,Z,H,O,j,q,_,W,X,$,Q,Y,J,ee,te,ae,ne,le,ie,re,oe,ce,ue,de,me,fe,pe,ge,be,he,we,ve,Ee,Ce,ye,xe,Se,ke,Pe,Ne,Te=e.activeIngestionStep,De=e.heading,Ie=e.status,Re=e.pipelineType,Ue=e.data,Ve=e.serviceData,Le=e.serviceCategory,Me=e.showSuccessScreen,Ze=void 0===Me||Me,He=e.ingestionProgress,Oe=void 0===He?0:He,je=e.isIngestionCreated,ze=void 0!==je&&je,Be=e.isIngestionDeployed,Ge=void 0!==Be&&Be,Ke=e.ingestionAction,qe=void 0===Ke?"":Ke,_e=e.showDeployButton,We=e.isAirflowSetup,Xe=e.setActiveIngestionStep,$e=e.onIngestionDeploy,Qe=e.onUpdateIngestion,Ye=e.onSuccessSave,Je=e.onAddIngestionSave,et=e.onAirflowStatusCheck,tt=e.handleCancelClick,at=e.handleViewServiceClick,nt=(0,c.$)().t,lt=(0,o.useMemo)((function(){return Le===m.u.DATABASE_SERVICES}),[Le]),it=(0,o.useMemo)((function(){return Ve.serviceType===f.G5.OpenMetadata}),[Le]),rt=(0,o.useMemo)((function(){return lt&&Re===p.Hz.Dbt}),[lt,Re]),ot=(0,i.CR)((0,o.useState)("initial"),2),ct=ot[0],st=ot[1],ut=(0,i.CR)((0,o.useState)(!1),2),dt=ut[0],mt=ut[1],ft=(0,i.CR)((0,o.useState)(null!==(t=null==Ue?void 0:Ue.name)&&void 0!==t?t:(0,T.SK)(Ve.name,Re)),2),pt=ft[0],gt=ft[1],bt=(0,i.CR)((0,o.useState)(null===(l=null===(a=null==Ue?void 0:Ue.sourceConfig.config)||void 0===a?void 0:a.generateSampleData)||void 0===l||l),2),ht=bt[0],wt=bt[1],vt=(0,i.CR)((0,o.useState)(null!==(E=null===(v=null==Ue?void 0:Ue.sourceConfig.config)||void 0===v?void 0:v.useFqnForFiltering)&&void 0!==E&&E),2),Et=vt[0],Ct=vt[1],yt=(0,i.CR)((0,o.useState)(null!==(k=null===(S=null==Ue?void 0:Ue.sourceConfig.config)||void 0===S?void 0:S.dbServiceNames)&&void 0!==k?k:[]),2),xt=yt[0],St=yt[1],kt=(0,i.CR)((0,o.useState)(null!==(P=null==Ue?void 0:Ue.description)&&void 0!==P?P:""),2),Pt=kt[0],Nt=kt[1],Ft=(0,i.CR)((0,o.useState)(null!==(N=null==Ue?void 0:Ue.airflowConfig.scheduleInterval)&&void 0!==N?N:(0,w.Fu)(Re)),2),Tt=Ft[0],Dt=Ft[1],It=(0,i.CR)((0,o.useState)(!(0,r.isUndefined)(null===(D=null==Ue?void 0:Ue.sourceConfig.config)||void 0===D?void 0:D.dashboardFilterPattern)),2),At=It[0],Rt=It[1],Ut=(0,i.CR)((0,o.useState)(!(0,r.isUndefined)(null===(I=null==Ue?void 0:Ue.sourceConfig.config)||void 0===I?void 0:I.databaseFilterPattern)),2),Vt=Ut[0],Lt=Ut[1],Mt=(0,i.CR)((0,o.useState)(!(0,r.isUndefined)(null===(A=null==Ue?void 0:Ue.sourceConfig.config)||void 0===A?void 0:A.schemaFilterPattern)),2),Zt=Mt[0],Ht=Mt[1],Ot=(0,i.CR)((0,o.useState)(!(0,r.isUndefined)(null===(R=null==Ue?void 0:Ue.sourceConfig.config)||void 0===R?void 0:R.tableFilterPattern)),2),jt=Ot[0],zt=Ot[1],Bt=(0,i.CR)((0,o.useState)(!(0,r.isUndefined)(null===(U=null==Ue?void 0:Ue.sourceConfig.config)||void 0===U?void 0:U.topicFilterPattern)),2),Gt=Bt[0],Kt=Bt[1],qt=(0,i.CR)((0,o.useState)(!(0,r.isUndefined)(null===(V=null==Ue?void 0:Ue.sourceConfig.config)||void 0===V?void 0:V.chartFilterPattern)),2),_t=qt[0],Wt=qt[1],Xt=(0,i.CR)((0,o.useState)(!(0,r.isUndefined)(null===(L=null==Ue?void 0:Ue.sourceConfig.config)||void 0===L?void 0:L.pipelineFilterPattern)),2),$t=Xt[0],Qt=Xt[1],Yt=(0,i.CR)((0,o.useState)(!(0,r.isUndefined)(null===(M=null==Ue?void 0:Ue.sourceConfig.config)||void 0===M?void 0:M.mlModelFilterPattern)),2),Jt=Yt[0],ea=Yt[1],ta=(0,o.useMemo)((function(){var e;return null===(e=null==Ue?void 0:Ue.sourceConfig.config)||void 0===e?void 0:e.dbtConfigSource}),[Ue]),aa=(0,i.CR)((0,o.useState)(ta),2),na=aa[0],la=aa[1],ia=(0,o.useMemo)((function(){return function(e,t){void 0===t&&(t=b.local);var a=t,n=void 0;return e&&((0,r.isNil)(e.dbtSecurityConfig)?Object.keys(x).filter((function(t){return!(0,r.isEmpty)(e[t])})).length>0?a=b.http:Object.keys(y).filter((function(t){return!(0,r.isEmpty)(e[t])})).length>0?a=b.local:Object.keys(C).filter((function(t){return!(0,r.isEmpty)(e[t])})).length>0&&(a=b.cloud):(0,r.isNil)(e.dbtSecurityConfig.gcsConfig)?a=b.s3:(a=b.gcs,n=(0,r.isString)(e.dbtSecurityConfig.gcsConfig)?h.GCSCredentialsPath:h.GCSValues)),{sourceType:a,gcsType:n}}(ta)}),[ta]),ra=(0,i.CR)((0,o.useState)(ia.sourceType),2),oa=ra[0],ca=ra[1],sa=(0,i.CR)((0,o.useState)(rt?ia.gcsType:void 0),2),ua=sa[0],da=sa[1],ma=(0,i.CR)((0,o.useState)(lt?Boolean(null===(H=null===(Z=null==Ue?void 0:Ue.sourceConfig.config)||void 0===Z?void 0:Z.markDeletedTables)||void 0===H||H):void 0),2),fa=ma[0],pa=ma[1],ga=(0,i.CR)((0,o.useState)(lt?Boolean(null!==(j=null===(O=null==Ue?void 0:Ue.sourceConfig.config)||void 0===O?void 0:O.markAllDeletedTables)&&void 0!==j&&j):void 0),2),ba=ga[0],ha=ga[1],wa=(0,i.CR)((0,o.useState)(Boolean(null===(q=null==Ue?void 0:Ue.sourceConfig.config)||void 0===q?void 0:q.includeViews)),2),va=wa[0],Ea=wa[1],Ca=(0,i.CR)((0,o.useState)(Boolean(null===(_=null==Ue?void 0:Ue.sourceConfig.config)||void 0===_?void 0:_.includeTags)),2),ya=Ca[0],xa=Ca[1],Sa=(0,i.CR)((0,o.useState)(Boolean(null===(X=null===(W=null==Ue?void 0:Ue.sourceConfig.config)||void 0===W?void 0:W.includeLineage)||void 0===X||X)),2),ka=Sa[0],Pa=Sa[1],Na=(0,i.CR)((0,o.useState)((null==Ue?void 0:Ue.loggerLevel)===p.B$.Debug),2),Fa=Na[0],Ta=Na[1],Da=(0,i.CR)((0,o.useState)(null===($=null==Ue?void 0:Ue.sourceConfig.config)||void 0===$?void 0:$.profileSample),2),Ia=Da[0],Aa=Da[1],Ra=(0,i.CR)((0,o.useState)((null===(Q=null==Ue?void 0:Ue.sourceConfig.config)||void 0===Q?void 0:Q.profileSampleType)||n.Percentage),2),Ua=Ra[0],Va=Ra[1],La=(0,i.CR)((0,o.useState)(null!==(J=null===(Y=null==Ue?void 0:Ue.sourceConfig.config)||void 0===Y?void 0:Y.threadCount)&&void 0!==J?J:5),2),Ma=La[0],Za=La[1],Ha=(0,i.CR)((0,o.useState)(null!==(te=null===(ee=null==Ue?void 0:Ue.sourceConfig.config)||void 0===ee?void 0:ee.timeoutSeconds)&&void 0!==te?te:43200),2),Oa=Ha[0],ja=Ha[1],za=(0,i.CR)((0,o.useState)(null!==(ne=null===(ae=null==Ue?void 0:Ue.sourceConfig.config)||void 0===ae?void 0:ae.dashboardFilterPattern)&&void 0!==ne?ne:s.vm),2),Ba=za[0],Ga=za[1],Ka=(0,i.CR)((0,o.useState)(null!==(ie=null===(le=null==Ue?void 0:Ue.sourceConfig.config)||void 0===le?void 0:le.databaseFilterPattern)&&void 0!==ie?ie:s.vm),2),qa=Ka[0],_a=Ka[1],Wa=(0,i.CR)((0,o.useState)(null!==(oe=null===(re=null==Ue?void 0:Ue.sourceConfig.config)||void 0===re?void 0:re.schemaFilterPattern)&&void 0!==oe?oe:s.vm),2),Xa=Wa[0],$a=Wa[1],Qa=(0,i.CR)((0,o.useState)(null!==(ue=null===(ce=null==Ue?void 0:Ue.sourceConfig.config)||void 0===ce?void 0:ce.tableFilterPattern)&&void 0!==ue?ue:s.vm),2),Ya=Qa[0],Ja=Qa[1],en=(0,i.CR)((0,o.useState)(null!==(me=null===(de=null==Ue?void 0:Ue.sourceConfig.config)||void 0===de?void 0:de.topicFilterPattern)&&void 0!==me?me:s.vm),2),tn=en[0],an=en[1],nn=(0,i.CR)((0,o.useState)(null!==(pe=null===(fe=null==Ue?void 0:Ue.sourceConfig.config)||void 0===fe?void 0:fe.chartFilterPattern)&&void 0!==pe?pe:s.vm),2),ln=nn[0],rn=nn[1],on=(0,i.CR)((0,o.useState)(null!==(be=null===(ge=null==Ue?void 0:Ue.sourceConfig.config)||void 0===ge?void 0:ge.pipelineFilterPattern)&&void 0!==be?be:s.vm),2),cn=on[0],sn=on[1],un=(0,i.CR)((0,o.useState)(null!==(we=null===(he=null==Ue?void 0:Ue.sourceConfig.config)||void 0===he?void 0:he.mlModelFilterPattern)&&void 0!==we?we:s.vm),2),dn=un[0],mn=un[1],fn=(0,i.CR)((0,o.useState)(null!==(Ee=null===(ve=null==Ue?void 0:Ue.sourceConfig.config)||void 0===ve?void 0:ve.queryLogDuration)&&void 0!==Ee?Ee:1),2),pn=fn[0],gn=fn[1],bn=(0,i.CR)((0,o.useState)(null!==(ye=null===(Ce=null==Ue?void 0:Ue.sourceConfig.config)||void 0===Ce?void 0:Ce.stageFileLocation)&&void 0!==ye?ye:"/tmp/query_log"),2),hn=bn[0],wn=bn[1],vn=(0,i.CR)((0,o.useState)(null!==(Se=null===(xe=null==Ue?void 0:Ue.sourceConfig.config)||void 0===xe?void 0:xe.resultLimit)&&void 0!==Se?Se:1e3),2),En=vn[0],Cn=vn[1],yn=(0,i.CR)((0,o.useState)(),2),xn=yn[0],Sn=yn[1],kn=(0,o.useMemo)((function(){var e,t;return null!==(t=null===(e=null==Ue?void 0:Ue.sourceConfig.config)||void 0===e?void 0:e.type)&&void 0!==t?t:g.rO.DatabaseUsage}),[Ue]),Pn=(0,o.useMemo)((function(){var e,t;return null!==(t=null===(e=null==Ue?void 0:Ue.sourceConfig.config)||void 0===e?void 0:e.type)&&void 0!==t?t:g.rO.DatabaseLineage}),[Ue]),Nn=(0,o.useMemo)((function(){var e,t;return null!==(t=null===(e=null==Ue?void 0:Ue.sourceConfig.config)||void 0===e?void 0:e.type)&&void 0!==t?t:g.rO.Profiler}),[Ue]),Fn=function(){var e;rt||1!==Te?e=rt&&2===Te?Te+2:Te+1:(e=Te+3,it&&(e=Te+2)),Xe(e)},Tn=function(){var e;rt||4!==Te?e=!rt&&it&&3===Te||rt&&4===Te?Te-2:Te-1:(e=Te-3,it&&(e=Te-1)),Xe(e)},Dn=function(e,t){if(t){var a=e.includes,n=e.excludes;return!(0,r.isUndefined)(a)&&a.length||!(0,r.isUndefined)(n)&&n.length?{includes:a&&a.length>0?a:void 0,excludes:n&&n.length>0?n:void 0}:void 0}},In=function(e){switch(e){case p.Hz.Usage:return{queryLogDuration:pn,resultLimit:En,stageFileLocation:hn,type:kn};case p.Hz.Lineage:return{queryLogDuration:pn,resultLimit:En,type:Pn};case p.Hz.Profiler:return{databaseFilterPattern:Dn(qa,Vt),schemaFilterPattern:Dn(Xa,Zt),tableFilterPattern:Dn(Ya,jt),type:Nn,generateSampleData:ht,profileSample:Ia,profileSampleType:Ua,threadCount:Ma,timeoutSeconds:Oa};case p.Hz.Dbt:return(0,i.pi)((0,i.pi)({},(0,F.cH)({dbtConfigSource:na})),{type:g.rO.Dbt});case p.Hz.ElasticSearchReindex:case p.Hz.DataInsight:return xn?(0,i.pi)((0,i.pi)({},xn),{type:g.rO.MetadataToElasticSearch}):{};case p.Hz.Metadata:default:return function(){switch(Le){case m.u.DATABASE_SERVICES:return{useFqnForFiltering:Et,includeViews:va,includeTags:ya,databaseFilterPattern:Dn(qa,Vt),schemaFilterPattern:Dn(Xa,Zt),tableFilterPattern:Dn(Ya,jt),markDeletedTables:fa,markAllDeletedTables:ba,type:g.rO.DatabaseMetadata};case m.u.MESSAGING_SERVICES:return{topicFilterPattern:Dn(tn,Gt),generateSampleData:ht,type:g.rO.MessagingMetadata};case m.u.DASHBOARD_SERVICES:return{chartFilterPattern:Dn(ln,_t),dashboardFilterPattern:Dn(Ba,At),dbServiceNames:xt,type:g.rO.DashboardMetadata};case m.u.PIPELINE_SERVICES:return{includeLineage:ka,pipelineFilterPattern:Dn(cn,$t),type:g.rO.PipelineMetadata};case m.u.ML_MODEL_SERVICES:return{mlModelFilterPattern:Dn(dn,Jt),type:g.rO.MlModelMetadata};default:return{}}}()}};return o.createElement("div",{"data-testid":"add-ingestion-container"},o.createElement("h6",{className:"tw-heading tw-text-base"},De),o.createElement(G.Z,{activeStep:Te,excludeSteps:(Ne=[],rt?Ne.push(1):Ne.push(2),it||Ne.push(3),Ne),steps:s.V1}),o.createElement("div",{className:"tw-pt-7"},1===Te&&o.createElement(se,{chartFilterPattern:ln,dashboardFilterPattern:Ba,databaseFilterPattern:qa,databaseServiceNames:xt,description:Pt,enableDebugLog:Fa,formType:Ie,getExcludeValue:function(e,t){switch(t){case u.V.DASHBOARD:Ga((0,i.pi)((0,i.pi)({},Ba),{excludes:e}));break;case u.V.DATABASE:_a((0,i.pi)((0,i.pi)({},qa),{excludes:e}));break;case u.V.SCHEMA:$a((0,i.pi)((0,i.pi)({},Xa),{excludes:e}));break;case u.V.TABLE:Ja((0,i.pi)((0,i.pi)({},Ya),{excludes:e}));break;case u.V.TOPIC:an((0,i.pi)((0,i.pi)({},tn),{excludes:e}));break;case u.V.CHART:rn((0,i.pi)((0,i.pi)({},ln),{excludes:e}));break;case u.V.PIPELINE:sn((0,i.pi)((0,i.pi)({},cn),{excludes:e}));break;case u.V.MLMODEL:mn((0,i.pi)((0,i.pi)({},dn),{excludes:e}))}},getIncludeValue:function(e,t){switch(t){case u.V.DASHBOARD:Ga((0,i.pi)((0,i.pi)({},Ba),{includes:e}));break;case u.V.DATABASE:_a((0,i.pi)((0,i.pi)({},qa),{includes:e}));break;case u.V.SCHEMA:$a((0,i.pi)((0,i.pi)({},Xa),{includes:e}));break;case u.V.TABLE:Ja((0,i.pi)((0,i.pi)({},Ya),{includes:e}));break;case u.V.TOPIC:an((0,i.pi)((0,i.pi)({},tn),{includes:e}));break;case u.V.CHART:rn((0,i.pi)((0,i.pi)({},ln),{includes:e}));break;case u.V.PIPELINE:sn((0,i.pi)((0,i.pi)({},cn),{includes:e}));break;case u.V.MLMODEL:mn((0,i.pi)((0,i.pi)({},dn),{includes:e}))}},handleDatasetServiceName:function(e){return St(e)},handleDescription:function(e){return Nt(e)},handleEnableDebugLog:function(){return Ta((function(e){return!e}))},handleIncludeLineage:function(){return Pa((function(e){return!e}))},handleIncludeTags:function(){return xa((function(e){return!e}))},handleIncludeView:function(){return Ea((function(e){return!e}))},handleIngestSampleData:function(){return wt((function(e){return!e}))},handleIngestionName:function(e){return gt(e)},handleMarkAllDeletedTables:function(){return ha((function(e){return!e}))},handleMarkDeletedTables:function(){return pa((function(e){return!e}))},handleProfileSample:function(e){return Aa(e)},handleProfileSampleType:function(e){return Va(e)},handleQueryLogDuration:function(e){return gn(e)},handleResultLimit:Cn,handleShowFilter:function(e,t){switch(t){case u.V.DASHBOARD:Rt(e);break;case u.V.DATABASE:Lt(e);break;case u.V.SCHEMA:Ht(e);break;case u.V.TABLE:zt(e);break;case u.V.TOPIC:Kt(e);break;case u.V.CHART:Wt(e);break;case u.V.PIPELINE:Qt(e);break;case u.V.MLMODEL:ea(e)}},handleStageFileLocation:function(e){return wn(e)},handleThreadCount:Za,handleTimeoutSeconds:ja,includeLineage:ka,includeTags:ya,includeView:va,ingestSampleData:ht,ingestionName:pt,markAllDeletedTables:ba,markDeletedTables:fa,mlModelFilterPattern:dn,pipelineFilterPattern:cn,pipelineType:Re,profileSample:Ia,profileSampleType:Ua,queryLogDuration:pn,resultLimit:En,schemaFilterPattern:Xa,serviceCategory:Le,showChartFilter:_t,showDashboardFilter:At,showDatabaseFilter:Vt,showMlModelFilter:Jt,showPipelineFilter:$t,showSchemaFilter:Zt,showTableFilter:jt,showTopicFilter:Gt,stageFileLocation:hn,tableFilterPattern:Ya,threadCount:Ma,timeoutSeconds:Oa,topicFilterPattern:tn,useFqnFilter:Et,onCancel:tt,onNext:Fn,onUseFqnFilterClick:function(){return Ct((function(e){return!e}))}}),2===Te&&o.createElement(z,{cancelText:nt("label.cancel"),data:na||{},formType:Ie,gcsType:ua,handleGcsTypeChange:function(e){return da(e)},handleIngestionName:function(e){return gt(e)},handleSourceChange:function(e){return ca(e)},ingestionName:pt,okText:nt("label.next"),source:oa,onCancel:tt,onSubmit:function(e){la(e),Fn()}}),3===Te&&it&&o.createElement(Fe,{handleMetadataToESConfig:function(e){Sn(e)},handleNext:Fn,handlePrev:Tn}),4===Te&&o.createElement(Ae,{handleRepeatFrequencyChange:function(e){return Dt(e)},includePeriodOptions:Re===p.Hz.DataInsight?["day"]:void 0,repeatFrequency:Tt,status:ct,submitButtonLabel:(0,r.isUndefined)(Ue)?nt("label.add-deploy"):nt("label.submit"),onBack:Tn,onDeploy:function(){var e;Ie===d.Y.ADD?(e={airflowConfig:{scheduleInterval:(0,r.isEmpty)(Tt)?void 0:Tt},loggerLevel:Fa?p.B$.Debug:p.B$.Info,name:(0,r.trim)(pt),displayName:(0,r.trim)(pt),owner:{id:(0,w.rc)(),type:"user"},pipelineType:Re,service:{id:Ve.id,type:Le.slice(0,-1)},sourceConfig:{config:In(Re)}},Je&&(mt(!0),Je(e).then((function(){Ze?Fn():null==Ye||Ye()})).catch((function(){})).finally((function(){setTimeout((function(){return mt(!1)}),500)})))):function(){if(Ue){var e=(0,i.pi)((0,i.pi)({},Ue),{airflowConfig:(0,i.pi)((0,i.pi)({},Ue.airflowConfig),{scheduleInterval:(0,r.isEmpty)(Tt)?void 0:Tt}),loggerLevel:Fa?p.B$.Debug:p.B$.Info,sourceConfig:{config:(0,i.pi)((0,i.pi)({},Ue.sourceConfig.config),In(Re))}});Qe&&(st("waiting"),mt(!0),Qe(e,Ue,Ue.id,Ue.name).then((function(){st("success"),Ze?Fn():null==Ye||Ye()})).finally((function(){setTimeout((function(){return st("initial")}),500),setTimeout((function(){return mt(!1)}),500)})))}}()}}),Te>4&&at&&o.createElement(B.Z,{handleDeployClick:function(){mt(!0),null==$e||$e().finally((function(){setTimeout((function(){return mt(!1)}),500)}))},handleViewServiceClick:at,isAirflowSetup:We,name:pt,showDeployButton:_e,showIngestionButton:!1,state:Ie,successMessage:(ke=_e?"has been updated, but failed to deploy":"has been updated and deployed successfully",Pe=_e?"has been created, but failed to deploy":"has been created and deployed successfully",o.createElement("span",null,o.createElement("span",{className:"tw-mr-1 tw-font-semibold"},'"',pt,'"'),o.createElement("span",null,Ie===d.Y.ADD?Pe:ke))),onCheckAirflowStatus:et}),o.createElement(K.Z,{action:qe,ingestionName:pt,isDeployed:Ge,isIngestionCreated:ze,progress:Oe,visible:dt})))}},33762:function(e,t,a){a.d(t,{g:function(){return r}});var n=a(94184),l=a.n(n),i=a(67294),r=function(e){var t=e.children,a=e.className,n=void 0===a?"":a;return i.createElement("div",{className:l()("tw-mt-4",n)},t)}},69852:function(e,t,a){var n=a(75899),l=a(94184),i=a.n(l),r=a(67294),o=n.Z.Step;t.Z=function(e){var t=e.steps,a=e.activeStep,l=e.excludeSteps,c=void 0===l?[]:l;return r.createElement("div",{className:"tw-px-24","data-testid":"stepper-container"},r.createElement(n.Z,{current:a,labelPlacement:"vertical",size:"small"},t.filter((function(e){return!c.includes(e.step)})).map((function(e){return r.createElement(o,{icon:r.createElement("span",{className:i()("ingestion-rounder tw-self-center",{active:e.step===a},{completed:e.step<a}),"data-testid":"step-icon-"+e.step}),key:""+e.name,title:e.name})}))))}},99492:function(e,t,a){var n=a(71230),l=a(15746),i=a(99177),r=a(85986),o=a(67294);t.Z=function(e){var t=e.value,a=e.onChange,c=e.className;return o.createElement(n.Z,{className:c,"data-testid":"percentage-input",gutter:20},o.createElement(l.Z,{span:20},o.createElement(i.Z,{marks:{0:"0%",100:"100%"},max:100,min:0,tooltip:{open:!1},value:t,onChange:a})),o.createElement(l.Z,{span:4},o.createElement(r.Z,{"data-testid":"slider-input",formatter:function(e){return e+"%"},max:100,min:0,step:1,value:t,onChange:a})))}},78666:function(e,t,a){a.d(t,{V1:function(){return l},vm:function(){return i},IL:function(){return r},Rw:function(){return o},Pm:function(){return c}});var n=a(67800),l=[{name:n.ZP.t("label.configure-entity",{entity:n.ZP.t("label.ingestion")}),step:1},{name:n.ZP.t("label.configure-entity",{entity:n.ZP.t("label.dbt-lowercase")}),step:2},{name:n.ZP.t("label.configure-metadata-to-es-config-optional"),step:3},{name:n.ZP.t("label.schedule-interval"),step:4}],i={includes:[],excludes:[]},r=[{name:n.ZP.t("label.select-service-type"),step:1},{name:n.ZP.t("label.configure-entity",{entity:n.ZP.t("label.service")}),step:2},{name:n.ZP.t("label.connection-details"),step:3}],o={ADD:"add",EDIT:"edit"},c={dataInsight:"data-insight",dbt:"dbt",elasticSearchReindex:"elastic-search-re-index",lineage:"lineage",metadata:"metadata",profiler:"profiler",TestSuite:"test-suite",usage:"usage"}},56275:function(e,t,a){a.d(t,{DM:function(){return m},US:function(){return v},GR:function(){return C},Fh:function(){return f},kK:function(){return g},Wi:function(){return w},dO:function(){return p},U4:function(){return h},H9:function(){return b},V:function(){return E},SX:function(){return k},gj:function(){return P},CF:function(){return d},T3:function(){return u},wG:function(){return N},pq:function(){return x},Yk:function(){return S},Dj:function(){return y}});var n,l,i=a(67800),r=a(27914);!function(e){e.Delete="DELETE",e.Insert="INSERT",e.Update="UPDATE"}(n||(n={})),function(e){e.Percentage="PERCENTAGE",e.Rows="ROWS"}(l||(l={}));var o=a(80307),c=a(98809),s=a(62761),u=["valuesCount","valuesPercentage","validCount","duplicateCount","nullCount","nullProportion","missingPercentage","missingCount","uniqueCount","uniqueProportion","distinctCount","distinctProportion","min","max","minLength","maxLength","mean","sum","stddev","variance","median","histogram","customMetricsProfile"],d={last3days:{days:3,title:"Last 3 days"},last7days:{days:7,title:"Last 7 days"},last14days:{days:14,title:"Last 14 days"},last30days:{days:30,title:"Last 30 days"},last60days:{days:60,title:"Last 60 days"}},m=["#54C5D0","#2ab0a0","#2ab069","#18ffec","#008376"],f={information:[{title:"Distinct Count",dataKey:"distinctCount",color:"#1890FF"},{title:"Null Count",dataKey:"nullCount",color:"#54C5D0"},{title:"Unique Count",dataKey:"uniqueCount",color:"#008376"},{title:"Values Count",dataKey:"valuesCount",color:"#B02AAC"}],data:[]},p={information:[{title:"Distinct Proportion",dataKey:"distinctProportion",color:"#1890FF"},{title:"Null Proportion",dataKey:"nullProportion",color:"#54C5D0"},{title:"Unique Proportion",dataKey:"uniqueProportion",color:"#008376"}],data:[]},g={information:[{title:"Median",dataKey:"median",color:"#1890FF"},{title:"Max",dataKey:"max",color:"#54C5D0"},{title:"Mean",dataKey:"mean",color:"#008376"},{title:"Min",dataKey:"min",color:"#B02AAC"}],data:[]},b={information:[{title:"Sum",dataKey:"sum",color:"#1890FF"}],data:[]},h={information:[{title:(0,i.t)("label.row-count"),dataKey:"rowCount",color:"#008376"}],data:[]},w={information:[{title:(0,i.t)("label.insert"),dataKey:n.Insert,color:"#008376"},{title:(0,i.t)("label.update"),dataKey:n.Update,color:"#1890FF"},{title:(0,i.t)("label.delete"),dataKey:n.Delete,color:"#54C5D0"}],data:[]},v=[{columnName:void 0,metrics:["all"]}],E={success:0,aborted:0,failed:0},C=[{value:0,type:c.M.Success},{value:0,type:c.M.Aborted},{value:0,type:c.M.Failed}],y={tabSize:s.Wb,indentUnit:s.Wb,indentWithTabs:!0,lineNumbers:!0,lineWrapping:!0,styleActiveLine:!0,matchBrackets:!0,autoCloseBrackets:!0,foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],mode:{name:r.Q.SQL}},x=[{name:"Select/Add Test Suite",step:1},{name:"Configure Test Case",step:2}],S=[o.g.Timestamp,o.g.Date,o.g.Datetime,o.g.Timestampz],k=Object.values(o.Af).map((function(e){return{value:e,label:e}})),P=Object.values(o.Gv).map((function(e){return{value:e,label:e}})),N=[{label:(0,i.t)("label.percentage"),key:o.KF.Percentage,value:o.KF.Percentage},{label:(0,i.t)("label.row-count"),key:o.KF.Rows,value:o.KF.Rows}]},67658:function(e,t,a){var n,l,i,r;a.d(t,{G5:function(){return i}}),function(e){e.Auth0="auth0",e.Azure="azure",e.CustomOidc="custom-oidc",e.Google="google",e.NoAuth="no-auth",e.Okta="okta",e.Openmetadata="openmetadata"}(n||(n={})),function(e){e.Aws="aws",e.AwsSsm="aws-ssm",e.InMemory="in-memory",e.ManagedAws="managed-aws",e.ManagedAwsSsm="managed-aws-ssm",e.Noop="noop"}(l||(l={})),function(e){e.Amundsen="Amundsen",e.Atlas="Atlas",e.MetadataES="MetadataES",e.OpenMetadata="OpenMetadata"}(i||(i={})),function(e){e.Ignore="ignore",e.NoSSL="no-ssl",e.Validate="validate"}(r||(r={}))},98736:function(e,t,a){a.d(t,{cH:function(){return l},Fz:function(){return r},jv:function(){return o}});var n=a(96486);function l(e){for(var t in e)if("object"==typeof e[t])l(e[t]);else{var a=e[t];(0,n.isString)(a)&&(e[t]=a.replace(/\\n/g,"\n"))}return e}function i(e){for(var t in e)if("object"==typeof e[t])i(e[t]);else{var a=e[t];t.startsWith("newKey")&&"New Value"===a&&delete e[t]}return e}function r(e){return function(e,t){if(e&&e[t]){var a=e[t];for(var n in a){var l=a[n];try{e[t][n]=JSON.parse(l)}catch(e){}}}return e}(e=i(e=l(e=(0,n.cloneDeep)(e))),"connectionArguments")}function o(e){return function(e,t){if(e&&e[t]){var a=e[t];for(var n in a){var l=a[n];"object"==typeof l&&(e[t][n]=JSON.stringify(l))}}return e}(e=(0,n.cloneDeep)(e),"connectionArguments")}}}]);