(self.webpackChunkopen_metadata=self.webpackChunkopen_metadata||[]).push([[2579],{97183:function(e,t,n){"use strict";var r=n(2897),a=n(78457),l=r.ZP;l.Header=r.h4,l.Footer=r.$_,l.Content=r.VY,l.Sider=a.Z,t.Z=l},50963:function(e,t,n){"use strict";var r=n(75263).default,a=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"List",{enumerable:!0,get:function(){return c.List}}),t.default=void 0,Object.defineProperty(t,"useForm",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"useWatch",{enumerable:!0,get:function(){return c.useWatch}});var l=a(n(10434)),i=a(n(18698)),o=a(n(27424)),u=a(n(81670)),s=a(n(36228)),c=r(n(51273)),d=r(n(67294)),f=n(31929),m=r(n(93319)),p=r(n(3236)),v=n(51130),h=a(n(3284)),g=function(e,t){var n,r=d.useContext(p.default),a=d.useContext(m.default),g=d.useContext(f.ConfigContext),y=g.getPrefixCls,b=g.direction,E=g.form,w=e.prefixCls,C=e.className,x=void 0===C?"":C,F=e.size,N=void 0===F?r:F,k=e.disabled,_=void 0===k?a:k,S=e.form,O=e.colon,Z=e.labelAlign,T=e.labelWrap,I=e.labelCol,M=e.wrapperCol,R=e.hideRequiredMark,P=e.layout,A=void 0===P?"horizontal":P,j=e.scrollToFirstError,W=e.requiredMark,D=e.onFinishFailed,H=e.name,q=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["prefixCls","className","size","disabled","form","colon","labelAlign","labelWrap","labelCol","wrapperCol","hideRequiredMark","layout","scrollToFirstError","requiredMark","onFinishFailed","name"]),L=(0,d.useMemo)((function(){return void 0!==W?W:E&&void 0!==E.requiredMark?E.requiredMark:!R}),[R,W,E]),V=null!=O?O:null==E?void 0:E.colon,U=y("form",w),B=(0,s.default)(U,(n={},(0,u.default)(n,"".concat(U,"-").concat(A),!0),(0,u.default)(n,"".concat(U,"-hide-required-mark"),!1===L),(0,u.default)(n,"".concat(U,"-rtl"),"rtl"===b),(0,u.default)(n,"".concat(U,"-").concat(N),N),n),x),z=(0,h.default)(S),Y=(0,o.default)(z,1)[0],Q=Y.__INTERNAL__;Q.name=H;var X=(0,d.useMemo)((function(){return{name:H,labelAlign:Z,labelCol:I,labelWrap:T,wrapperCol:M,vertical:"vertical"===A,colon:V,requiredMark:L,itemRef:Q.itemRef,form:Y}}),[H,Z,I,M,A,V,L,Y]);return d.useImperativeHandle(t,(function(){return Y})),d.createElement(m.DisabledContextProvider,{disabled:_},d.createElement(p.SizeContextProvider,{size:N},d.createElement(v.FormContext.Provider,{value:X},d.createElement(c.default,(0,l.default)({id:H},q,{name:H,onFinishFailed:function(e){null==D||D(e);var t={block:"nearest"};j&&e.errorFields.length&&("object"===(0,i.default)(j)&&(t=j),Y.scrollToField(e.errorFields[0].name,t))},form:Y,className:B})))))},y=d.forwardRef(g);t.default=y},51130:function(e,t,n){"use strict";var r=n(75263).default,a=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.NoStyleItemContext=t.NoFormStyle=t.FormProvider=t.FormItemPrefixContext=t.FormItemInputContext=t.FormContext=void 0;var l=a(n(10434)),i=n(51273),o=a(n(18475)),u=r(n(67294)),s=u.createContext({labelAlign:"right",vertical:!1,itemRef:function(){}});t.FormContext=s;var c=u.createContext(null);t.NoStyleItemContext=c,t.FormProvider=function(e){var t=(0,o.default)(e,["prefixCls"]);return u.createElement(i.FormProvider,(0,l.default)({},t))};var d=u.createContext({prefixCls:""});t.FormItemPrefixContext=d;var f=u.createContext({});t.FormItemInputContext=f,t.NoFormStyle=function(e){var t=e.children,n=e.status,r=e.override,a=(0,u.useContext)(f),i=(0,u.useMemo)((function(){var e=(0,l.default)({},a);return r&&delete e.isFormItemInput,n&&(delete e.status,delete e.hasFeedback,delete e.feedbackIcon),e}),[n,r,a]);return u.createElement(f.Provider,{value:i},t)}},3284:function(e,t,n){"use strict";var r=n(75263).default,a=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,o.useForm)(),n=(0,i.default)(t,1)[0],r=u.useRef({}),a=u.useMemo((function(){return null!=e?e:(0,l.default)((0,l.default)({},n),{__INTERNAL__:{itemRef:function(e){return function(t){var n=d(e);t?r.current[n]=t:delete r.current[n]}}},scrollToField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,c.toArray)(e),r=(0,c.getFieldId)(n,a.__INTERNAL__.name),i=r?document.getElementById(r):null;i&&(0,s.default)(i,(0,l.default)({scrollMode:"if-needed",block:"nearest"},t))},getFieldInstance:function(e){var t=d(e);return r.current[t]}})}),[e,n]);return[a]};var l=a(n(10434)),i=a(n(27424)),o=n(51273),u=r(n(67294)),s=a(n(10059)),c=n(81351);function d(e){return(0,c.toArray)(e).join("_")}},81351:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFieldId=function(e,t){if(e.length){var r=e.join("_");return t?"".concat(t,"_").concat(r):n.includes(r)?"".concat("form_item","_").concat(r):r}},t.toArray=function(e){return void 0===e||!1===e?[]:Array.isArray(e)?e:[e]};var n=["parentNode"]},41207:function(e){function t(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function n(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function r(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return n(r.overflowY,t)||n(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function a(e,t,n,r,a,l,i,o){return l<e&&i>t||l>e&&i<t?0:l<=e&&o<=n||i>=t&&o>=n?l-e-r:i>t&&o<n||l<e&&o>n?i-t+a:0}e.exports=function(e,n){var l=window,i=n.scrollMode,o=n.block,u=n.inline,s=n.boundary,c=n.skipOverflowHiddenElements,d="function"==typeof s?s:function(e){return e!==s};if(!t(e))throw new TypeError("Invalid target");for(var f,m,p=document.scrollingElement||document.documentElement,v=[],h=e;t(h)&&d(h);){if((h=null==(m=(f=h).parentElement)?f.getRootNode().host||null:m)===p){v.push(h);break}null!=h&&h===document.body&&r(h)&&!r(document.documentElement)||null!=h&&r(h,c)&&v.push(h)}for(var g=l.visualViewport?l.visualViewport.width:innerWidth,y=l.visualViewport?l.visualViewport.height:innerHeight,b=window.scrollX||pageXOffset,E=window.scrollY||pageYOffset,w=e.getBoundingClientRect(),C=w.height,x=w.width,F=w.top,N=w.right,k=w.bottom,_=w.left,S="start"===o||"nearest"===o?F:"end"===o?k:F+C/2,O="center"===u?_+x/2:"end"===u?N:_,Z=[],T=0;T<v.length;T++){var I=v[T],M=I.getBoundingClientRect(),R=M.height,P=M.width,A=M.top,j=M.right,W=M.bottom,D=M.left;if("if-needed"===i&&F>=0&&_>=0&&k<=y&&N<=g&&F>=A&&k<=W&&_>=D&&N<=j)return Z;var H=getComputedStyle(I),q=parseInt(H.borderLeftWidth,10),L=parseInt(H.borderTopWidth,10),V=parseInt(H.borderRightWidth,10),U=parseInt(H.borderBottomWidth,10),B=0,z=0,Y="offsetWidth"in I?I.offsetWidth-I.clientWidth-q-V:0,Q="offsetHeight"in I?I.offsetHeight-I.clientHeight-L-U:0,X="offsetWidth"in I?0===I.offsetWidth?0:P/I.offsetWidth:0,$="offsetHeight"in I?0===I.offsetHeight?0:R/I.offsetHeight:0;if(p===I)B="start"===o?S:"end"===o?S-y:"nearest"===o?a(E,E+y,y,L,U,E+S,E+S+C,C):S-y/2,z="start"===u?O:"center"===u?O-g/2:"end"===u?O-g:a(b,b+g,g,q,V,b+O,b+O+x,x),B=Math.max(0,B+E),z=Math.max(0,z+b);else{B="start"===o?S-A-L:"end"===o?S-W+U+Q:"nearest"===o?a(A,W,R,L,U+Q,S,S+C,C):S-(A+R/2)+Q/2,z="start"===u?O-D-q:"center"===u?O-(D+P/2)+Y/2:"end"===u?O-j+V+Y:a(D,j,P,q,V+Y,O,O+x,x);var K=I.scrollLeft,G=I.scrollTop;S+=G-(B=Math.max(0,Math.min(G+B/$,I.scrollHeight-R/$+Q))),O+=K-(z=Math.max(0,Math.min(K+z/X,I.scrollWidth-P/X+Y)))}Z.push({el:I,top:B,left:z})}return Z}},71068:function(e,t,n){"use strict";var r=n(8081),a=n.n(r),l=n(23645),i=n.n(l)()(a());i.push([e.id,".assignee-tag {\n  display: flex;\n  align-items: center;\n  padding: 2px 3px;\n  margin: 1px 2px;\n}\n",""]),t.Z=i},18475:function(e,t,n){"use strict";var r=n(64836).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,a.default)({},e);return Array.isArray(t)&&t.forEach((function(e){delete n[e]})),n};var a=r(n(42122))},10059:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,a=(r=n(41207))&&r.__esModule?r:{default:r};function l(e){return e===Object(e)&&0!==Object.keys(e).length}t.default=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(l(t)&&"function"==typeof t.behavior)return t.behavior(n?(0,a.default)(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:l(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,a=e.top,l=e.left;r.scroll&&n?r.scroll({top:a,left:l,behavior:t}):(r.scrollTop=a,r.scrollLeft=l)}))}((0,a.default)(e,r),r.behavior)}},e.exports=t.default},22535:function(e,t,n){"use strict";n.d(t,{w:function(){return o}});var r=n(19650),a=n(96486),l=n(67294),i=n(25577),o=function(e){var t=e.id,n=e.name;return(0,a.isUndefined)(t)&&(0,a.isUndefined)(n)?null:l.createElement(r.Z,{"data-testid":"user-tag"},l.createElement(i.Z,{id:t,name:n,width:"22"}),l.createElement("span",null,n))}},42579:function(e,t,n){"use strict";n.r(t);var r=n(70655),a=n(91894),l=n(9242),i=n(4107),o=n(19650),u=n(71577),s=n(50963),c=n(96486),d=n(67674),f=n(67294),m=n(59293),p=n(52046),v=n(13950),h=n(25577),g=n(97809),y=n(84419),b=n(73213),E=n(58369),w=n(59583),C=n(31615),x=n(48132),F=n(22215),N=n(19790),k=n(44355),_=n(50168),S=n(25131),O=n(90846),Z=n(72468);t.default=(0,d.Pi)((function(){var e=(0,m.TH)(),t=(0,m.k6)(),n=(0,r.CR)((0,s.useForm)(),1)[0],d=(0,f.useRef)(),T=(0,m.UO)(),I=T.entityType,M=T.entityFQN,R=new URLSearchParams(e.search),P=R.get("field"),A=R.get("value"),j=(0,r.CR)((0,f.useState)({}),2),W=j[0],D=j[1],H=(0,r.CR)((0,f.useState)([]),2),q=H[0],L=H[1],V=(0,r.CR)((0,f.useState)([]),2),U=V[0],B=V[1],z=(0,r.CR)((0,f.useState)(""),2),Y=z[0],Q=z[1],X=(0,f.useMemo)((function(){var e,t=null===(e=(0,N.Zk)(W.tags||[]))||void 0===e?void 0:e.tagFQN;return null==t?void 0:t.split(b.o)[1]}),[W.tags]),$=(0,f.useMemo)((function(){return((0,N.nD)(W.tags||[])||[]).map((function(e){return"#"+e.tagFQN})).join(" ")}),[W.tags]),K=(null==A?void 0:A.replaceAll(/^"|"$/g,""))||"",G="Request description for "+(K||I)+" "+(P!==E.Sn.COLUMNS?(0,x.C_)(W):""),J=(0,f.useMemo)((function(){return p.Z.getCurrentUserDetails()}),[p.Z.userDetails,p.Z.nonSecureUserDetails]),ee=(0,f.useCallback)((function(){var e,t;if((0,c.isNil)(P)||(0,c.isNil)(A)||P!==E.Sn.COLUMNS)return null;var n=K.split(b.o).slice(-1),r=(0,k.dY)(n[0],W.columns||[]);return f.createElement("div",{"data-testid":"column-details"},f.createElement("p",{className:"tw-font-semibold"},"Column Details"),f.createElement("p",null,f.createElement("span",{className:"tw-text-grey-muted"},"Type:")," ",f.createElement("span",null,r.dataTypeDisplay)),f.createElement("p",null,null===(t=null===(e=null==r?void 0:r.tags)||void 0===e?void 0:e.map((function(e){return"#"+e.tagFQN})))||void 0===t?void 0:t.join(" ")))}),[W.columns]),te=function(){return P&&A?""+P+F.LV+A+F.LV+"description":E.Sn.DESCRIPTION};return(0,f.useEffect)((function(){(0,k.Dy)(I,M,D)}),[M,I]),(0,f.useEffect)((function(){var e=W.owner;if(e){var t=[{label:(0,x.C_)(e),value:e.id||"",type:e.type}];B(t),L(t)}n.setFieldsValue({title:G.trimEnd()})}),[W]),f.createElement(O.Z,null,f.createElement(y.Z,{titleLinks:(0,r.ev)((0,r.ev)([],(0,r.CR)((0,k.rM)(W,I))),[{name:"Create Task",activeTitle:!0,url:""}])}),f.createElement("div",{className:"tw-grid tw-grid-cols-3 tw-gap-x-2"},f.createElement(a.Z,{className:"tw-col-span-2",key:"request-description",style:(0,r.pi)({},Z.F),title:"Create Task"},f.createElement(l.Z,{form:n,layout:"vertical",onFinish:function(e){var n;if(U.length){var r={from:null==J?void 0:J.name,message:e.title||G,about:(0,F.ec)(I,M,te()),taskDetails:{assignees:U.map((function(e){return{id:e.value,type:e.type}})),suggestion:null===(n=d.current)||void 0===n?void 0:n.getEditorContent(),type:w.U.RequestDescription,oldValue:""},type:C.Th.Task};(0,v.Kl)(r).then((function(e){var n,r;(0,_.XA)("Task Created Successfully"),t.push((0,k.yv)(null!==(r=null===(n=e.task)||void 0===n?void 0:n.id.toString())&&void 0!==r?r:""))})).catch((function(e){return(0,_.Eo)(e)}))}else(0,_.Eo)("Cannot create a task without assignee")}},f.createElement(l.Z.Item,{"data-testid":"title",label:"Title:",name:"title"},f.createElement(i.Z,{placeholder:"Task title",style:{margin:"4px 0px"}})),f.createElement(l.Z.Item,{"data-testid":"assignees",label:"Assignees:",name:"assignees"},f.createElement(S.Z,{assignees:U,options:q,onChange:B,onSearch:function(e){(0,k.Od)(e,L)}})),f.createElement(l.Z.Item,{"data-testid":"description-label",label:"Suggest description:",name:"SuggestDescription"},f.createElement(g.Z,{className:"tw-my-0",initialValue:"",placeHolder:"Suggest description",ref:d,style:{marginTop:"4px"},onTextChange:function(e){Q(e)}})),f.createElement(l.Z.Item,{noStyle:!0},f.createElement(o.Z,{className:"tw-w-full tw-justify-end","data-testid":"cta-buttons",size:16},f.createElement(u.Z,{type:"link",onClick:function(){return t.goBack()}},"Back"),f.createElement(u.Z,{"data-testid":"submit-test",htmlType:"submit",type:"primary"},Y?"Suggest":"Submit"))))),f.createElement("div",{className:"tw-pl-2","data-testid":"entity-details"},f.createElement("h6",{className:"tw-text-base"},(0,c.capitalize)(I)," Details"),f.createElement("div",{className:"tw-flex tw-mb-4"},f.createElement("span",{className:"tw-text-grey-muted"},"Owner:")," ",f.createElement("span",null,W.owner?f.createElement("span",{className:"tw-flex tw-ml-1"},f.createElement(h.Z,{displayName:(0,x.C_)(W.owner),id:"",name:(0,x.C_)(W.owner),width:"20"}),f.createElement("span",{className:"tw-ml-1"},(0,x.C_)(W.owner))):f.createElement("span",{className:"tw-text-grey-muted tw-ml-1"},"No Owner"))),f.createElement("p",{"data-testid":"tier"},X||f.createElement("span",{className:"tw-text-grey-muted"},"No Tier")),f.createElement("p",{"data-testid":"tags"},$),ee())))}))},72468:function(e,t,n){"use strict";n.d(t,{F:function(){return r},_R:function(){return a},Oq:function(){return l}});var r={border:"1px rgb(221, 227, 234) solid",borderRadius:"8px",marginBottom:"20px",boxShadow:"1px 1px 6px rgb(0 0 0 / 6%)",marginTop:"8px"},a={padding:24,margin:0,paddingTop:0},l={background:"#F8F9FA"}},25131:function(e,t,n){"use strict";n.d(t,{Z:function(){return E}});var r=n(34041),a=n(67294),l=n(22535),i=n(93379),o=n.n(i),u=n(7795),s=n.n(u),c=n(90569),d=n.n(c),f=n(3565),m=n.n(f),p=n(19216),v=n.n(p),h=n(44589),g=n.n(h),y=n(71068),b={};b.styleTagTransform=g(),b.setAttributes=m(),b.insert=d().bind(null,"head"),b.domAPI=s(),b.insertStyleElement=v(),o()(y.Z,b),y.Z&&y.Z.locals&&y.Z.locals;var E=function(e){var t=e.assignees,n=e.onSearch,i=e.onChange,o=e.options,u=r.Z.Option;return a.createElement(r.Z,{showSearch:!0,className:"ant-select-custom","data-testid":"select-assignee",defaultActiveFirstOption:!1,filterOption:!1,mode:"multiple",notFoundContent:null,placeholder:"Search to Select",showArrow:!1,value:t.length?t:void 0,onChange:function(e,t){var n=t.map((function(e){return{label:e["data-label"],value:e.value,type:e["data-usertype"]}}));i(n)},onSearch:n},o.map((function(e){return a.createElement(u,{"data-label":e.label,"data-testid":"assignee-option","data-usertype":e.type,key:e.value},a.createElement(l.w,{id:e.value,name:e.label}))})))}},90846:function(e,t,n){"use strict";var r=n(70655),a=n(97183),l=n(67294),i=n(72468);t.Z=function(e){var t=e.children,n=a.Z.Content,o=a.Z.Sider;return l.createElement(a.Z,{style:(0,r.pi)((0,r.pi)({},i.Oq),{height:"100vh"})},l.createElement(o,{"data-testid":"left-sider",style:i.Oq,width:180}),l.createElement(n,{style:i._R},t),l.createElement(o,{"data-testid":"right-sider",style:i.Oq,width:180}))}}}]);